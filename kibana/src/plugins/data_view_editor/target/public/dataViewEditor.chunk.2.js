(window.dataViewEditor_bundle_jsonpfunction=window.dataViewEditor_bundle_jsonpfunction||[]).push([[2],Array(31).concat([function(e,t,a){"use strict";a.r(t);var n=a(3),i=a.n(n),s=a(25),l=a(4),r=a(6),o=a(51),d=a.n(o);async function c(e,t=300){let a;const n=t+5,i=(new Date).getTime();a=Array.isArray(e)?await Promise.all(e):await e;const s=(new Date).getTime();if(s-i<n){const e=n-(s-i);await new Promise((t=>setTimeout(t,e)))}return a}var u=a(27);let p,x;!function(e){e.OPEN="open",e.CLOSED="closed",e.HIDDEN="hidden",e.FROZEN="frozen"}(p||(p={})),function(e){e.ROLLUP="rollup",e.DEFAULT="default"}(x||(x={}));const m=s.i18n.translate("indexPatternEditor.aliasLabel",{defaultMessage:"Alias"}),j=s.i18n.translate("indexPatternEditor.dataStreamLabel",{defaultMessage:"Data stream"}),g=s.i18n.translate("indexPatternEditor.indexLabel",{defaultMessage:"Index"}),b=s.i18n.translate("indexPatternEditor.frozenLabel",{defaultMessage:"Frozen"}),f=s.i18n.translate("indexPatternEditor.rollupLabel",{defaultMessage:"Rollup"});async function h({http:e,pattern:t="",showAllIndices:a=!1,isRollupIndex:n}){const i=t.trim();return"*:"===i||""===i||i.startsWith(",")?[]:(async({http:e,pattern:t,showAllIndices:a,isRollupIndex:n})=>e.get(`/internal/index-pattern-management/resolve_index/${t}`,{query:a?{expand_wildcards:"all"}:void 0}).then((e=>e?O(e,(e=>t=>e(t)?[{key:x.ROLLUP,name:f,color:"primary"}]:[])(n)):[])))({http:e,pattern:i,showAllIndices:a,isRollupIndex:n}).catch((()=>[]))}const O=(e,t)=>{const a=[];return(e.indices||[]).forEach((e=>{const n=[{key:"index",name:g,color:"default"}],i=(e.attributes||[]).includes(p.FROZEN);n.push(...t(e.name)),i&&n.push({name:b,key:"frozen",color:"danger"}),a.push({name:e.name,tags:n,item:e})})),(e.aliases||[]).forEach((e=>{a.push({name:e.name,tags:[{key:"alias",name:m,color:"default"}],item:e})})),(e.data_streams||[]).forEach((e=>{a.push({name:e.name,tags:[{key:"data_stream",name:j,color:"primary"}],item:e})})),Object(u.sortBy)(a,"name")};function E(e){return!!e.startsWith(".")||!!e.includes(":")&&e.split(":").reduce(((e,t)=>e||E(t)),!1)}function y(e,t){return(t?e:e.filter((e=>!E(e.name)))).slice(0,100)}function P(e,t,a,n=!1){const i=y(e,n),s=y(t,n),l=y(a,n);let r;return r=l.length?l:s.length?s:i,{allIndices:i,exactMatchedIndices:l,partialMatchedIndices:s,visibleIndices:r}}var I=a(10),v=a.n(I),_=a(28),w=a.n(_),M=(a(36),a(0));let S=0;const F=Object(n.createContext)({addPanel:()=>()=>{}}),C=Object(n.createContext)({registerFooter:()=>{},registerContent:()=>{}}),L=({maxWidth:e,flyoutClassName:t,...a})=>{const i=Object(n.useMemo)((()=>{const e=document.getElementsByClassName(t);return 0===e.length?null:e.item(0)}),[t]),[s,l]=Object(n.useState)({}),o=Object(n.useCallback)((e=>{l((t=>{const{[e]:a,...n}=t;return n}))}),[]),d=Object(n.useCallback)((e=>{const t=S++;return l((a=>({...a,[t]:e}))),o.bind(null,t)}),[o]),c=Object(n.useMemo)((()=>({addPanel:d})),[d]);return Object(n.useLayoutEffect)((()=>{if(!i)return;const t=Math.min(100,Object.values(s).reduce(((e,{width:t=0})=>e+t),0)),a=e*t/100;i.style.maxWidth=`${a}px`}),[s,e,t,i]),Object(M.jsx)(F.Provider,{value:c},Object(M.jsx)(r.EuiFlexGroup,v()({className:"fieldEditor__flyoutPanels",gutterSize:"none"},a)))},T=({children:e,width:t,className:a="",backgroundColor:i,border:s,...l})=>{const[o,d]=Object(n.useState)({hasContent:!1,hasFooter:!1}),c=w()("fieldEditor__flyoutPanel",a,{"fieldEditor__flyoutPanel--pageBackground":"euiPageBackground"===i,"fieldEditor__flyoutPanel--emptyShade":"euiEmptyShade"===i,"fieldEditor__flyoutPanel--leftBorder":"left"===s,"fieldEditor__flyoutPanel--rightBorder":"right"===s,"fieldEditor__flyoutPanel--withContent":o.hasContent}),{addPanel:u}=(()=>{const e=Object(n.useContext)(F);if(void 0===e)throw new Error("<Panel /> must be used within a <Panels /> wrapper");return e})(),p=Object(n.useCallback)((()=>{d((e=>({...e,hasContent:!0})))}),[]),x=Object(n.useCallback)((()=>{d((e=>{if(!e.hasContent)throw new Error("You need to add a <FlyoutPanels.Content /> when you add a <FlyoutPanels.Footer />");return{...e,hasFooter:!0}}))}),[]);Object(n.useLayoutEffect)((()=>u({width:t})),[t,u]);const m={};return t&&(m.flexBasis=`${t}%`),Object(M.jsx)(r.EuiFlexItem,{style:m},Object(M.jsx)(C.Provider,{value:{registerContent:p,registerFooter:x}},Object(M.jsx)("div",v()({className:c},l),e)))};a(13);const R={title:{label:s.i18n.translate("indexPatternEditor.editor.form.titleLabel",{defaultMessage:"Name"}),defaultValue:"",helpText:s.i18n.translate("indexPatternEditor.validations.titleHelpText",{defaultMessage:'Enter an index pattern that matches one or more data sources. Use an asterisk (*) to match multiple characters. Spaces and the characters , /, ?, ", <, >, | are not allowed.'}),validations:[{validator:l.f.emptyField(s.i18n.translate("indexPatternEditor.validations.titleIsRequiredErrorMessage",{defaultMessage:"A name is required."}))},{validator:(...e)=>{const[{value:t,path:a}]=e,n=s.i18n.translate("indexPatternEditor.validations.noSingleAstriskPattern",{defaultMessage:"A single '*' is not an allowed index pattern"});return"*"===t?{code:"ERR_FIELD_MISSING",path:a,message:n}:void 0}}]},timestampField:{label:s.i18n.translate("indexPatternEditor.editor.form.timeFieldLabel",{defaultMessage:"Timestamp field"}),helpText:s.i18n.translate("indexPatternEditor.editor.form.timestampFieldHelp",{defaultMessage:"Select a timestamp field for use with the global time filter."}),validations:[]},allowHidden:{label:s.i18n.translate("indexPatternEditor.editor.form.allowHiddenLabel",{defaultMessage:"Allow hidden and system indices"}),defaultValue:!1},id:{label:s.i18n.translate("indexPatternEditor.editor.form.customIdLabel",{defaultMessage:"Custom data view ID"}),helpText:s.i18n.translate("indexPatternEditor.editor.form.customIdHelp",{defaultMessage:"Kibana provides a unique identifier for each data view, or you can create your own."})},type:{label:s.i18n.translate("indexPatternEditor.editor.form.TypeLabel",{defaultMessage:"Data view type"}),defaultValue:x.DEFAULT}},D=e=>({validator:async({value:t})=>{if(e.length&&!t)return{message:s.i18n.translate("indexPatternEditor.requireTimestampOption.ValidationErrorMessage",{defaultMessage:"Select a timestamp field."})}}}),A=s.i18n.translate("indexPatternEditor.editor.form.noTimeFieldsLabel",{defaultMessage:"No matching data stream, index, or index alias has a timestamp field."}),k=s.i18n.translate("indexPatternEditor.editor.form.timeFieldHelp",{defaultMessage:"Select a timestamp field for use with the global time filter."}),N=({options:e=[],isLoadingOptions:t=!1,isExistingIndexPattern:a,isLoadingMatchedIndices:o,hasMatchedIndices:d})=>{const c=e.map((({display:e,fieldName:t})=>({label:e,value:t}))),u=Object(n.useMemo)((()=>(e=>{const t=R.timestampField,a=[...t.validations,D(e)];return{...t,validations:a}})(e)),[e]),p=e.length?k:"",x=0!==e.length||a||o||t||!d?"":A;return Object(M.jsx)(l.d,{config:u,path:"timestampField"},(e=>{const{label:a,value:n,setValue:o}=e;if(void 0===n)return null;const{isInvalid:d,errorMessage:u}=Object(l.g)(e),m=!c.length;if(!n&&!m){const e=c.filter((e=>"@timestamp"===e.value));e.length&&o(e[0])}return Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiFormRow,{label:a,error:m?null:u,isInvalid:!m&&d,fullWidth:!0},Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiComboBox,{placeholder:s.i18n.translate("indexPatternEditor.editor.form.runtimeType.placeholderLabel",{defaultMessage:"Select a timestamp field"}),singleSelection:{asPlainText:!0},options:c,selectedOptions:n?[n]:void 0,onChange:e=>{0!==e.length&&o(e[0])},isClearable:!1,isDisabled:m,"data-test-subj":"timestampField","aria-label":s.i18n.translate("indexPatternEditor.editor.form.timestampSelectAriaLabel",{defaultMessage:"Timestamp field"}),isLoading:t,fullWidth:!0}),Object(M.jsx)(r.EuiFormHelpText,null,x||p||Object(M.jsx)(i.a.Fragment,null," ")))))}))};var B=a(29),V=a(9);const z=Object(M.jsx)(r.EuiDescriptionList,{style:{whiteSpace:"nowrap"},"data-test-subj":"standardType"},Object(M.jsx)(r.EuiDescriptionListTitle,null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.typeSelect.standardTitle",defaultMessage:"Standard data view"})),Object(M.jsx)(r.EuiDescriptionListDescription,null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.typeSelect.standardDescription",defaultMessage:"Perform full aggregations against any data"}))),U=Object(M.jsx)(r.EuiDescriptionList,{style:{whiteSpace:"nowrap"},"data-test-subj":"rollupType"},Object(M.jsx)(r.EuiDescriptionListTitle,null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.typeSelect.rollupTitle",defaultMessage:"Rollup data view"})," ",Object(M.jsx)(r.EuiBadge,{color:B.euiLightVars.euiColorAccent},Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.typeSelect.betaLabel",defaultMessage:"Beta"}))),Object(M.jsx)(r.EuiDescriptionListDescription,null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.typeSelect.rollupDescription",defaultMessage:"Perform limited aggregations against summarized data"}))),G=({onChange:e})=>Object(M.jsx)(l.d,{path:"type"},(({label:t,value:a,setValue:n})=>void 0===a?null:Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiFormRow,{label:t,fullWidth:!0},Object(M.jsx)(r.EuiSuperSelect,{"data-test-subj":"typeField",options:[{value:x.DEFAULT,inputDisplay:s.i18n.translate("indexPatternEditor.typeSelect.standard",{defaultMessage:"Standard"}),dropdownDisplay:z},{value:x.ROLLUP,inputDisplay:s.i18n.translate("indexPatternEditor.typeSelect.rollup",{defaultMessage:"Rollup"}),dropdownDisplay:U}],valueOfSelected:a,onChange:t=>{n(t),e(t)},"aria-label":s.i18n.translate("indexPatternEditor.editor.form.typeSelectAriaLabel",{defaultMessage:"Type field"}),fullWidth:!0}))))),H={message:s.i18n.translate("indexPatternEditor.rollupDataView.createIndex.noMatchError",{defaultMessage:"Rollup data view error: must match one rollup index"})},W={message:s.i18n.translate("indexPatternEditor.rollupDataView.createIndex.tooManyMatchesError",{defaultMessage:"Rollup data view error: can only match one rollup index"})},q={message:s.i18n.translate("indexPatternEditor.createIndex.noMatch",{defaultMessage:"Name must match one or more data streams, indices, or index aliases."})},Y=e=>({validator:({value:t})=>{if(e.includes(t))return{message:s.i18n.translate("indexPatternEditor.dataViewExists.ValidationErrorMessage",{defaultMessage:"A data view with this title already exists."})}}}),$=({rollupIndicesCapabilities:e,refreshMatchedIndices:t,isRollup:a})=>({validator:async({value:n})=>{const{matchedIndicesResult:i,newRollupIndexName:l}=await t(n),r=Object.keys(e);if(0===i.exactMatchedIndices.length)return q;if(!a||!r||!r.length)return;const o=i.exactMatchedIndices.filter((e=>r.includes(e.name)));if(!o.length)return H;if(o.length>1)return W;const d=l&&e[l].error;return d?{message:s.i18n.translate("indexPatternEditor.rollup.uncaughtError",{defaultMessage:"Rollup data view error: {error}",values:{error:d}})}:void 0}}),K=({existingIndexPatterns:e,isRollup:t,matchedIndices:a,rollupIndicesCapabilities:i,refreshMatchedIndices:o})=>{const[d,c]=Object(n.useState)(!1),u=Object(n.useMemo)((()=>(({namesNotAllowed:e,isRollup:t,rollupIndicesCapabilities:a,refreshMatchedIndices:n})=>{const i=R.title,s=[...i.validations,$({rollupIndicesCapabilities:a,refreshMatchedIndices:n,isRollup:t}),Y(e)];return{...i,validations:s}})({namesNotAllowed:e,isRollup:t,matchedIndices:a,rollupIndicesCapabilities:i,refreshMatchedIndices:o})),[e,t,a,i,o]);return Object(M.jsx)(l.d,{path:"title",config:u,componentProps:{euiFieldProps:{"aria-label":s.i18n.translate("indexPatternEditor.form.titleAriaLabel",{defaultMessage:"Title field"})}}},(e=>{const{isInvalid:t,errorMessage:a}=Object(l.g)(e);return Object(M.jsx)(r.EuiFormRow,{label:e.label,labelAppend:e.labelAppend,helpText:"function"==typeof e.helpText?e.helpText():e.helpText,error:a,isInvalid:t,fullWidth:!0},Object(M.jsx)(r.EuiFieldText,{isInvalid:t,value:e.value,onChange:t=>{t.persist();let a=t.target.value;var n;1===a.length&&!d&&(n=a)&&/[a-z0-9]/i.test(n)&&1===n.length?(a+="*",c(!0),setTimeout((()=>t.target.setSelectionRange(1,1)))):["","*"].includes(a)&&d&&(a="",c(!1)),e.setValue(a)},isLoading:e.isValidating,fullWidth:!0,"data-test-subj":"createIndexPatternNameInput"}))}))};var Z=a(47),J=a.n(Z),X=a(30),Q={name:"1azakc",styles:"text-align:center"},ee=function(){var e=Q;return Object(M.jsx)("div",{css:e},Object(M.jsx)(r.EuiLoadingSpinner,null))},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(M.jsx)(ee,null);return i.a.forwardRef((function(a,i){return Object(M.jsx)(r.EuiErrorBoundary,null,Object(M.jsx)(n.Suspense,{fallback:t},Object(M.jsx)(e,v()({},a,{ref:i}))))}))},ae=(a(32),i.a.lazy((function(){return Promise.all([a.e(0),a.e(3)]).then(a.bind(null,63)).then((function(e){return{default:e.NoDataViewsPrompt}}))}))),ne=(te(ae),te(i.a.lazy((function(){return a.e(0).then(a.bind(null,62)).then((function(e){return{default:e.NoDataViewsPrompt}}))}))));a(42);const ie=({onRefresh:e,closeFlyout:t,createAnyway:a,canSaveIndexPattern:n,addDataUrl:s,navigateToApp:l})=>{const o=Object(M.jsx)(r.EuiText,{color:"subdued",textAlign:"center",size:"xs"},Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.createAnywayTxt",defaultMessage:"You can also {link}",values:{link:Object(M.jsx)(r.EuiLink,{onClick:()=>a(),"data-test-subj":"createAnyway"},Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createDataView.emptyState.createAnywayLink",defaultMessage:"create a data view against hidden, system or default indices."}))}}));return Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiPageContent,{className:"inpEmptyState",grow:!1,"data-test-subj":"indexPatternEmptyState",verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(M.jsx)(r.EuiPageContentHeader,null,Object(M.jsx)(r.EuiPageContentHeaderSection,null,Object(M.jsx)(r.EuiTitle,null,Object(M.jsx)("h2",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.noDataTitle",defaultMessage:"Ready to try Kibana? First, you need data."}))))),Object(M.jsx)(r.EuiSpacer,{size:"m"}),Object(M.jsx)(r.EuiPageContentBody,null,Object(M.jsx)(r.EuiFlexGrid,{className:"inpEmptyState__cardGrid",columns:3,responsive:!0},Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(r.EuiCard,{className:"inpEmptyState__card",onClick:()=>{l("integrations",{path:"/browse"}),t()},icon:Object(M.jsx)(r.EuiIcon,{size:"xl",type:"database",color:"subdued"}),title:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.integrationCardTitle",defaultMessage:"Add integration"}),description:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.integrationCardDescription",defaultMessage:"Add data from a variety of sources."})})),Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(r.EuiCard,{onClick:()=>l("home",{path:"#/tutorial_directory/fileDataViz"}),className:"inpEmptyState__card",icon:Object(M.jsx)(r.EuiIcon,{size:"xl",type:"document",color:"subdued"}),title:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.uploadCardTitle",defaultMessage:"Upload a file"}),description:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.uploadCardDescription",defaultMessage:"Import a CSV, NDJSON, or log file."})})),Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(r.EuiCard,{className:"inpEmptyState__card",onClick:()=>{l("home",{path:"#/tutorial_directory/sampleData"}),t()},icon:Object(M.jsx)(r.EuiIcon,{size:"xl",type:"heatmap",color:"subdued"}),title:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.sampleDataCardTitle",defaultMessage:"Add sample data"}),description:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.sampleDataCardDescription",defaultMessage:"Load a data set and a Kibana dashboard."})}))),Object(M.jsx)(r.EuiSpacer,{size:"xxl"}),Object(M.jsx)("div",{className:"inpEmptyState__footer"},Object(M.jsx)(r.EuiFlexGroup,{justifyContent:"center"},Object(M.jsx)(r.EuiFlexItem,{grow:!1,className:"inpEmptyState__footerFlexItem"},Object(M.jsx)(r.EuiDescriptionList,{listItems:[{title:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.learnMore",defaultMessage:"Want to learn more?"}),description:Object(M.jsx)(r.EuiLink,{href:s,target:"_blank",external:!0},Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.readDocs",defaultMessage:"Read documentation"}))}]})),Object(M.jsx)(r.EuiFlexItem,{grow:!1,className:"inpEmptyState__footerFlexItem"},Object(M.jsx)(r.EuiDescriptionList,{listItems:[{title:Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.haveData",defaultMessage:"Think you already have data?"}),description:Object(M.jsx)(r.EuiLink,{onClick:e,"data-test-subj":"refreshIndicesButton"},Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.createIndexPattern.emptyState.checkDataButton",defaultMessage:"Check for new data"})," ",Object(M.jsx)(r.EuiIcon,{type:"refresh",size:"s"}))}]}))),Object(M.jsx)(r.EuiSpacer,null),n&&o))))},se=s.i18n.translate("indexPatternEditor.editor.emptyPrompt.flyoutCloseButtonLabel",{defaultMessage:"Close"}),le=({onCancel:e})=>Object(M.jsx)(r.EuiFlyoutFooter,null,Object(M.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(M.jsx)(r.EuiFlexItem,{grow:!1},Object(M.jsx)(r.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeFlyoutButton"},se)))),re=e=>!e.item.indices;function oe(e){return!e.name.startsWith(".")&&e.name!==X.DEFAULT_ASSETS_TO_IGNORE.LOGS_DATA_STREAM_TO_IGNORE&&e.name!==X.DEFAULT_ASSETS_TO_IGNORE.METRICS_DATA_STREAM_TO_IGNORE&&e.name!==X.DEFAULT_ASSETS_TO_IGNORE.METRICS_ENDPOINT_INDEX_TO_IGNORE&&e.name!==X.DEFAULT_ASSETS_TO_IGNORE.ENT_SEARCH_LOGS_DATA_STREAM_TO_IGNORE&&!e.name.startsWith("apm-")}const de=({allSources:e,onCancel:t,children:a,loadSources:s,showEmptyPrompt:o})=>{const{services:{docLinks:d,application:c,http:u,searchClient:p,dataViews:x}}=Object(l.k)(),[m,j]=Object(n.useState)(!1),[g,b]=Object(n.useState)(!1),[f,O]=Object(n.useState)(!1),E=e.some(oe),y=J()((()=>x.hasUserDataView().catch((()=>!0))));if(Object(n.useEffect)((()=>{E||g||(b(!0),h({http:u,isRollupIndex:()=>!1,pattern:"*:*",showAllIndices:!1}).then((e=>{j(!!e.filter(re).length)})))}),[u,E,p,g]),y.loading)return null;if(!y.value&&!f){if(!E&&!m)return Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiFlyoutBody,null,Object(M.jsx)(ie,{onRefresh:s,closeFlyout:t,createAnyway:()=>O(!0),canSaveIndexPattern:!!c.capabilities.indexPatterns.save,navigateToApp:c.navigateToApp,addDataUrl:d.links.indexPatterns.introduction})),Object(M.jsx)(le,{onCancel:t}));if(o)return Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiFlyoutBody,null,Object(M.jsx)(ne,{onClickCreate:()=>O(!0),canCreateNewDataView:c.capabilities.indexPatterns.save,dataViewsDocLink:d.links.indexPatterns.introduction,emptyPromptColor:"subdued"})),Object(M.jsx)(le,{onCancel:t}));O(!0)}return Object(M.jsx)(i.a.Fragment,null,a)},ce=({matchedIndices:{allIndices:e=[],exactMatchedIndices:t=[],partialMatchedIndices:a=[]},isIncludingSystemIndices:n,query:i,showSystemIndices:s})=>{let l,o,d;const c=e.length;return 0===i.length?(l=void 0,d="primary",o=c>=1?Object(M.jsx)("span",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.matchAnyLabel.matchAnyDetail",defaultMessage:"Your index pattern can match {sourceCount, plural, one {# source} other {# sources} }.",values:{sourceCount:c}})):!n&&s?Object(M.jsx)("span",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.noSystemIndicesWithPromptLabel",defaultMessage:"No data streams, indices, or index aliases match your index pattern."})):Object(M.jsx)("span",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.noSystemIndicesLabel",defaultMessage:"No data streams, indices, or index aliases match your index pattern."}))):t.length?(l="check",d="success",o=Object(M.jsx)("span",null," ",Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.successLabel.successDetail",defaultMessage:"Your index pattern matches {sourceCount} {sourceCount, plural, one {source} other {sources} }.",values:{sourceCount:t.length}}))):a.length?(l=void 0,d="primary",o=Object(M.jsx)("span",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.partialMatchLabel.partialMatchDetail",defaultMessage:"Your index pattern doesn't match any data streams, indices, or index aliases, but {strongIndices} {matchedIndicesLength, plural, one {is} other {are} } similar.",values:{matchedIndicesLength:a.length,strongIndices:Object(M.jsx)("strong",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.partialMatchLabel.strongIndicesLabel",defaultMessage:"{matchedIndicesLength, plural, one {source} other {# sources} }",values:{matchedIndicesLength:a.length}}))}}))):(l=void 0,d="warning",o=c?(e=>Object(M.jsx)("span",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.notMatchLabel.notMatchDetail",defaultMessage:"The index pattern you entered doesn't match any data streams, indices, or index aliases. You can match {strongIndices}.",values:{strongIndices:Object(M.jsx)("strong",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.notMatchLabel.allIndicesLabel",defaultMessage:"{indicesLength, plural, one {# source} other {# sources} }",values:{indicesLength:e}}))}})))(c):Object(M.jsx)("span",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.status.notMatchLabel.notMatchNoIndicesDetail",defaultMessage:"The index pattern you entered doesn't match any data streams, indices, or index aliases."}))),Object(M.jsx)(r.EuiCallOut,{size:"s",color:d,"data-test-subj":"createIndexPatternStatusMessage",iconType:l,title:o})};var ue=a(50),pe=a.n(ue);const xe=[5,10,20,50];class indices_list_IndicesList extends i.a.Component{constructor(e){super(e),pe()(this,"pager",void 0),pe()(this,"resetPageTo0",(()=>this.onChangePage(0))),pe()(this,"onChangePage",(e=>{this.pager.goToPageIndex(e),this.setState({page:e})})),pe()(this,"onChangePerPage",(e=>{this.pager.setItemsPerPage(e),this.setState({perPage:e}),this.resetPageTo0(),this.closePerPageControl()})),pe()(this,"openPerPageControl",(()=>{this.setState({isPerPageControlOpen:!0})})),pe()(this,"closePerPageControl",(()=>{this.setState({isPerPageControlOpen:!1})})),this.state={page:0,perPage:xe[1],isPerPageControlOpen:!1},this.pager=new r.Pager(e.indices.length,this.state.perPage,this.state.page)}UNSAFE_componentWillReceiveProps(e){e.indices.length!==this.props.indices.length&&(this.pager.setTotalItems(e.indices.length),this.resetPageTo0())}renderPagination(){const{perPage:e,page:t,isPerPageControlOpen:a}=this.state,n=Object(M.jsx)(r.EuiButtonEmpty,{size:"s",color:"text",iconType:"arrowDown",iconSide:"right",onClick:this.openPerPageControl},Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.pagingLabel",defaultMessage:"Rows per page: {perPage}",values:{perPage:e}})),i=xe.map((e=>Object(M.jsx)(r.EuiContextMenuItem,{key:e,icon:"empty",onClick:()=>this.onChangePerPage(e)},e))),s=this.pager.getTotalPages(),l=s>1?Object(M.jsx)(r.EuiFlexItem,{grow:!1},Object(M.jsx)(r.EuiPagination,{pageCount:s,activePage:t,onPageClick:this.onChangePage})):null;return Object(M.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(M.jsx)(r.EuiFlexItem,{grow:!1},Object(M.jsx)(r.EuiPopover,{id:"customizablePagination",button:n,isOpen:a,closePopover:this.closePerPageControl,panelPaddingSize:"none"},Object(M.jsx)(r.EuiContextMenuPanel,{items:i}))),l)}highlightIndexName(e,t){const a=e.indexOf(t);if(!t||-1===a)return e;const n=e.substr(0,a),i=e.substr(a+t.length);return Object(M.jsx)("span",null,n,Object(M.jsx)("strong",null,t),i)}render(){const{indices:e,query:t,...a}=this.props,n=t.endsWith("*")?t.substr(0,t.length-1):t,i=e.slice(this.pager.firstItemIndex,this.pager.lastItemIndex+1).map(((e,t)=>Object(M.jsx)(r.EuiTableRow,{key:t},Object(M.jsx)(r.EuiTableRowCell,null,this.highlightIndexName(e.name,n)),Object(M.jsx)(r.EuiTableRowCell,null,e.tags.map((e=>Object(M.jsx)(r.EuiBadge,{key:`index_${t}_tag_${e.key}`,color:e.color},e.name)))))));return Object(M.jsx)("div",a,Object(M.jsx)(r.EuiTable,{responsive:!1,tableLayout:"auto"},Object(M.jsx)(r.EuiTableBody,null,i)),Object(M.jsx)(r.EuiSpacer,{size:"m"}),this.renderPagination())}}const me=({type:e,allowHidden:t,title:a="",matched:n})=>{const s=n.visibleIndices.length||n.allIndices.length?Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiSpacer,null),Object(M.jsx)(indices_list_IndicesList,{"data-test-subj":"createIndexPatternStep1IndicesList",query:a,indices:a.length?n.visibleIndices:n.allIndices})):Object(M.jsx)(i.a.Fragment,null);return Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(ce,{matchedIndices:n,showSystemIndices:e!==x.ROLLUP,isIncludingSystemIndices:t,query:a}),s)},je=s.i18n.translate("indexPatternEditor.editor.flyoutCloseButtonLabel",{defaultMessage:"Close"}),ge=s.i18n.translate("indexPatternEditor.editor.flyoutSaveButtonLabel",{defaultMessage:"Create data view"}),be=({onCancel:e,onSubmit:t,submitDisabled:a})=>Object(M.jsx)(r.EuiFlyoutFooter,{className:"indexPatternEditor__footer"},Object(M.jsx)(r.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(M.jsx)(r.EuiFlexItem,{grow:!1},Object(M.jsx)(r.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeFlyoutButton"},je)),Object(M.jsx)(r.EuiFlexItem,{grow:!1},Object(M.jsx)(r.EuiButton,{color:"primary",onClick:t,"data-test-subj":"saveIndexPatternButton",fill:!0,disabled:a},ge)))),fe=({children:e})=>{const[t,a]=Object(n.useState)(!1),l=Object(n.useCallback)((()=>{a(!t)}),[t]);return Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiButtonEmpty,{onClick:l,flush:"left","data-test-subj":"toggleAdvancedSetting"},t?s.i18n.translate("indexPatternEditor.editor.form.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):s.i18n.translate("indexPatternEditor.editor.form.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),Object(M.jsx)("div",{style:{display:t?"block":"none"},"data-test-subj":"advancedSettings"},Object(M.jsx)(r.EuiSpacer,{size:"m"}),Object(M.jsx)("div",null,e)))},he=s.i18n.translate("indexPatternEditor.form.allowHiddenAriaLabel",{defaultMessage:"Allow hidden and system indices"}),Oe=s.i18n.translate("indexPatternEditor.form.customIndexPatternIdLabel",{defaultMessage:"Custom data view ID"}),Ee=({disableAllowHidden:e})=>Object(M.jsx)(fe,null,Object(M.jsx)(r.EuiFlexGroup,null,Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(l.d,{path:"allowHidden",component:l.c,"data-test-subj":"allowHiddenField",componentProps:{euiFieldProps:{"aria-label":he,disabled:e}}}))),Object(M.jsx)(r.EuiSpacer,{size:"m"}),Object(M.jsx)(r.EuiFlexGroup,null,Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(l.d,{path:"id",component:l.b,"data-test-subj":"savedObjectIdField",componentProps:{euiFieldProps:{"aria-label":Oe}}})))),ye=s.i18n.translate("indexPatternEditor.rollupIndexPattern.warning.title",{defaultMessage:"Beta feature"}),Pe=()=>Object(M.jsx)(r.EuiCallOut,{title:ye,color:"warning",iconType:"help"},Object(M.jsx)("p",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.rollupDataView.warning.textParagraphOne",defaultMessage:"Kibana has beta support for data views based on rollups. You might encounter\nissues using these in saved searches, visualizations, and dashboards. They\nare not supported in some advanced features, such as Timelion, and Machine Learning."})),Object(M.jsx)("p",null,Object(M.jsx)(V.FormattedMessage,{id:"indexPatternEditor.rollupDataView.warning.textParagraphTwo",defaultMessage:"You can match a rollup data view against one rollup index and zero or more\nregular indices. A rollup data view has limited metrics, fields, intervals, and\naggregations. A rollup index is limited to indices that have one job configuration,\nor multiple jobs with compatible configurations."}))),Ie=s.i18n.translate("indexPatternEditor.title",{defaultMessage:"Create data view"}),ve=({onSave:e,onCancel:t,defaultTypeIsRollup:a,requireTimestampField:o=!1,showEmptyPrompt:d=!0})=>{var u;const{services:{http:p,dataViews:m,uiSettings:j,searchClient:g}}=Object(l.k)(),{form:b}=Object(l.i)({defaultValue:{type:a?x.ROLLUP:x.DEFAULT},schema:R,onSubmit:async(t,a)=>{var n;if(!a)return;const i={title:t.title,timeFieldName:null===(n=t.timestampField)||void 0===n?void 0:n.value,id:t.id};y===x.ROLLUP&&q&&(i.type=x.ROLLUP,i.typeMeta={params:{rollup_index:q},aggs:$[q].aggs}),await e(i)}}),{getFields:f}=b,[{title:O=R.title.defaultValue,allowHidden:E=R.allowHidden.defaultValue,type:y=R.type.defaultValue}]=Object(l.j)({form:b}),[I,v]=Object(n.useState)(!0),[_,w]=Object(n.useState)([]),[S,F]=Object(n.useState)(!1),C=Object(n.useRef)(0),[D,A]=Object(n.useState)(!1),k=Object(n.useRef)(0),[B,V]=Object(n.useState)([]),[z,U]=Object(n.useState)(!0),[H,W]=Object(n.useState)([]),[q,Y]=Object(n.useState)(),[$,Z]=Object(n.useState)({}),[J,X]=Object(n.useState)({allIndices:[],exactMatchedIndices:[],partialMatchedIndices:[],visibleIndices:[]}),Q=Object(n.useCallback)((()=>{h({http:p,isRollupIndex:()=>!1,pattern:"*",showAllIndices:E}).then((e=>{V(e);const t=P(e,[],[],E);X(t),v(!1)}))}),[p,E]);Object(n.useEffect)((()=>{Q(),(async()=>{const e=await m.getTitles();W(e),U(!1)})()}),[p,m,Q]),Object(n.useEffect)((()=>{(async()=>{try{const e=await p.get("/api/rollup/indices");e&&Z(e)}catch(e){}})()}),[p,y]);const ee=e=>Object.keys(e),te=Object(n.useCallback)((async e=>{const t=++C.current;let a=[];if(!H.includes(e)&&J.exactMatchedIndices.length>0&&!D){F(!0);const t={pattern:e};y===x.ROLLUP&&(t.type=x.ROLLUP,t.rollupIndex=q),a=function(e,t=!1){const a=e.filter((e=>"date"===e.type));if(0===a.length)return[];const n={display:s.i18n.translate("indexPatternEditor.createIndexPattern.stepTime.noTimeFieldOptionLabel",{defaultMessage:"--- I don't want to use the time filter ---"}),fieldName:""},i=a.map((e=>({display:e.name,fieldName:e.name})));return t||i.push(n),i}(await c(m.getFieldsForWildcard(t)),o)}return t===C.current&&(F(!1),w(a)),a}),[H,m,o,q,y,J.exactMatchedIndices,D]);Object(n.useEffect)((()=>{var e;te(O),null===(e=f().timestampField)||void 0===e||e.setValue("")}),[te,O,f]);const ae=Object(n.useCallback)((async e=>{const t=e=>ee($).includes(e);let a;return(async(e="")=>{const n=++k.current;A(!0);const{matchedIndicesResult:i,exactMatched:s}=I?{matchedIndicesResult:{exactMatchedIndices:[],allIndices:[],partialMatchedIndices:[],visibleIndices:[]},exactMatched:[]}:await we(e,E,B,{isRollupIndex:t,http:p,searchClient:g});if(n===k.current){if(y===x.ROLLUP){const e=s.filter((e=>t(e.name)));a=1===e.length?e[0].name:void 0,Y(a)}else Y(void 0);X(i),A(!1)}return{matchedIndicesResult:i,newRollupIndexName:a}})(e)}),[p,E,B,y,$,g,I]),ne=Object(n.useCallback)((e=>{b.setFieldValue("title",""),b.setFieldValue("timestampField",""),e===x.ROLLUP&&b.setFieldValue("allowHidden",!1)}),[b]);if(I||z)return Object(M.jsx)(r.EuiLoadingSpinner,{size:"xl"});const ie=j.isDeclared("rollups:enableIndexPatterns")&&j.get("rollups:enableIndexPatterns")&&ee($).length?Object(M.jsx)(i.a.Fragment,null,Object(M.jsx)(r.EuiSpacer,{size:"m"}),Object(M.jsx)(r.EuiFlexGroup,null,Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(G,{onChange:ne}))),y===x.ROLLUP?Object(M.jsx)(r.EuiFlexGroup,null,Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(Pe,null))):Object(M.jsx)(i.a.Fragment,null)):Object(M.jsx)(i.a.Fragment,null);return Object(M.jsx)(de,{onCancel:t,allSources:B,loadSources:Q,showEmptyPrompt:d},Object(M.jsx)(L,{flyoutClassName:"indexPatternEditorFlyout",maxWidth:1180},Object(M.jsx)(T,{className:"fieldEditor__mainFlyoutPanel",border:"right"},Object(M.jsx)(r.EuiTitle,{"data-test-subj":"flyoutTitle"},Object(M.jsx)("h2",null,Ie)),Object(M.jsx)(l.a,{form:b,className:"indexPatternEditor__form"},ie,Object(M.jsx)(r.EuiSpacer,{size:"m"}),Object(M.jsx)(r.EuiFlexGroup,null,Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(K,{isRollup:(null===(u=b.getFields().type)||void 0===u?void 0:u.value)===x.ROLLUP,existingIndexPatterns:H,refreshMatchedIndices:ae,matchedIndices:J.exactMatchedIndices,rollupIndicesCapabilities:$}))),Object(M.jsx)(r.EuiSpacer,{size:"m"}),Object(M.jsx)(r.EuiFlexGroup,null,Object(M.jsx)(r.EuiFlexItem,null,Object(M.jsx)(N,{options:_,isLoadingOptions:S,isExistingIndexPattern:H.includes(O),isLoadingMatchedIndices:D,hasMatchedIndices:!!J.exactMatchedIndices.length}))),Object(M.jsx)(Ee,{disableAllowHidden:y===x.ROLLUP})),Object(M.jsx)(be,{onCancel:t,onSubmit:()=>b.submit(),submitDisabled:b.isSubmitted&&!b.isValid})),Object(M.jsx)(T,null,I?Object(M.jsx)(i.a.Fragment,null):Object(M.jsx)(me,{type:y,allowHidden:E,title:O,matched:J}))))},_e=i.a.memo(ve),we=d()((async(e,t,a,{isRollupIndex:n,http:i,searchClient:s})=>{const l=[];if(null!=e&&e.endsWith("*")){const a=h({http:i,isRollupIndex:n,pattern:e,showAllIndices:t});l.push(a),l.push(Promise.resolve([]))}else{const a=h({http:i,isRollupIndex:n,pattern:e,showAllIndices:t}),s=h({http:i,isRollupIndex:n,pattern:`${e}*`,showAllIndices:t});l.push(a),l.push(s)}const[r,o]=await c(l);return{matchedIndicesResult:P(a,o,r,t),exactMatched:r,partialMatched:o}}),((e,t)=>e[0]===t[0]&&e[1]===t[1]));t.default=({onSave:e,onCancel:t=(()=>{}),defaultTypeIsRollup:a,requireTimestampField:n=!1,showEmptyPrompt:i=!0})=>{const{services:{dataViews:r,notifications:o}}=Object(l.k)();return Object(M.jsx)(_e,{onSave:async t=>{try{const a=await r.createAndSave(t),n=s.i18n.translate("indexPatternEditor.saved",{defaultMessage:"Saved '{indexPatternTitle}'",values:{indexPatternTitle:a.title}});o.toasts.addSuccess(n),await e(a)}catch(e){const t=s.i18n.translate("indexPatternEditor.dataView.unableSaveLabel",{defaultMessage:"Failed to save data view."});o.toasts.addDanger({title:t})}},onCancel:t,defaultTypeIsRollup:a,requireTimestampField:n,showEmptyPrompt:i})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a(41);var n=a(3),i=a.n(n),s=(a(0),i.a.createContext(null));function l(){var e=Object(n.useContext)(s);if(!e)throw new Error("NoDataViewsPromptContext is missing.  Ensure your component or React root is wrapped with NoDataViewsPromptProvider.");return e}},,,,function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(37);case"v8light":return a(39)}},function(e,t,a){var n=a(11),i=a(38);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".fieldEditor__flyoutPanels{height:100%}.fieldEditor__flyoutPanel{height:100%;overflow-y:auto;padding:24px 24px 0 24px}.fieldEditor__flyoutPanel--pageBackground{background-color:#141519}.fieldEditor__flyoutPanel--emptyShade{background-color:#1D1E24}.fieldEditor__flyoutPanel--leftBorder{border-left:1px solid #343741}.fieldEditor__flyoutPanel--rightBorder{border-right:1px solid #343741}.fieldEditor__flyoutPanel--withContent{padding:0;overflow-y:hidden;display:flex;flex-direction:column}.fieldEditor__flyoutPanel__header{padding:0 !important}.fieldEditor__flyoutPanel__content{flex:1;overflow-y:auto;padding:24px}.fieldEditor__flyoutPanel__footer{flex:0}\n",""]),e.exports=t},function(e,t,a){var n=a(11),i=a(40);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".fieldEditor__flyoutPanels{height:100%}.fieldEditor__flyoutPanel{height:100%;overflow-y:auto;padding:24px 24px 0 24px}.fieldEditor__flyoutPanel--pageBackground{background-color:#fafbfd}.fieldEditor__flyoutPanel--emptyShade{background-color:#fff}.fieldEditor__flyoutPanel--leftBorder{border-left:1px solid #D3DAE6}.fieldEditor__flyoutPanel--rightBorder{border-right:1px solid #D3DAE6}.fieldEditor__flyoutPanel--withContent{padding:0;overflow-y:hidden;display:flex;flex-direction:column}.fieldEditor__flyoutPanel__header{padding:0 !important}.fieldEditor__flyoutPanel__content{flex:1;overflow-y:auto;padding:24px}.fieldEditor__flyoutPanel__footer{flex:0}\n",""]),e.exports=t},function(e,t,a){e.exports=a(16)(6)},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(43);case"v8light":return a(45)}},function(e,t,a){var n=a(11),i=a(44);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".inpEmptyState__footer{background:#25262E;margin:0 -24px -24px;padding:24px;border-radius:0 0 6px 6px}@media only screen and (max-width: 574px){.inpEmptyState__footer{text-align:center}}@media only screen and (min-width: 575px) and (max-width: 767px){.inpEmptyState__footer{text-align:center}}.inpEmptyState{max-width:760px !important}.inpEmptyState__cardGrid{justify-content:center}.inpEmptyState__card{min-width:192px}.inpEmptyState__footerFlexItem{min-width:224px}\n",""]),e.exports=t},function(e,t,a){var n=a(11),i=a(46);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,a){(t=a(12)(!1)).push([e.i,".inpEmptyState__footer{background:#F5F7FA;margin:0 -24px -24px;padding:24px;border-radius:0 0 6px 6px}@media only screen and (max-width: 574px){.inpEmptyState__footer{text-align:center}}@media only screen and (min-width: 575px) and (max-width: 767px){.inpEmptyState__footer{text-align:center}}.inpEmptyState{max-width:760px !important}.inpEmptyState__cardGrid{justify-content:center}.inpEmptyState__card{min-width:192px}.inpEmptyState__footerFlexItem{min-width:224px}\n",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(26),i=a(3),s=n.__importDefault(a(48));t.default=function(e,t){void 0===t&&(t=[]);var a=s.default(e,t,{loading:!0}),n=a[0],l=a[1];return i.useEffect((function(){l()}),[l]),n}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(26),i=a(3),s=n.__importDefault(a(49));t.default=function(e,t,a){void 0===t&&(t=[]),void 0===a&&(a={loading:!1});var l=i.useRef(0),r=s.default(),o=i.useState(a),d=o[0],c=o[1],u=i.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var i=++l.current;return c((function(e){return n.__assign(n.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return r()&&i===l.current&&c({value:e,loading:!1}),e}),(function(e){return r()&&i===l.current&&c({error:e,loading:!1}),e}))}),t);return[d,u]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);t.default=function(){var e=n.useRef(!1),t=n.useCallback((function(){return e.current}),[]);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,a){e.exports=a(16)(2)},function(e,t,a){"use strict";var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!((i=e[a])===(s=t[a])||n(i)&&n(s)))return!1;var i,s;return!0}e.exports=function(e,t){void 0===t&&(t=i);var a=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(a&&a.lastThis===this&&t(n,a.lastArgs))return a.lastResult;var s=e.apply(this,n);return a={lastResult:s,lastArgs:n,lastThis:this},s}return n.clear=function(){a=null},n}}])]);