(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[2],{105:function(e,t,o){"use strict";o.d(t,"b",(function(){return b})),o.d(t,"a",(function(){return p})),o(81);var n=o(3),i=o.n(n),r=o(0),a=o(45),s=o(14),l=o(20),c=o(5);const d=r.i18n.translate("discover.json.codeEditorAriaLabel",{defaultMessage:"Read only JSON view of an elasticsearch document"}),u=r.i18n.translate("discover.json.copyToClipboardLabel",{defaultMessage:"Copy to clipboard"}),b=({jsonValue:e,width:t,height:o,hasLineNumbers:n,onEditorDidMount:i,hideCopyButton:r})=>{if(""===e)return null;const b=Object(c.jsx)(l.CodeEditor,{languageId:a.XJsonLang.ID,width:t,height:o,value:e||"",editorDidMount:i,"aria-label":d,options:{automaticLayout:!0,fontSize:12,lineNumbers:n?"on":"off",minimap:{enabled:!1},overviewRulerBorder:!1,readOnly:!0,scrollbar:{alwaysConsumeMouseWheel:!1},scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent"}});return r?b:Object(c.jsx)(s.EuiFlexGroup,{className:"dscJsonCodeEditor",direction:"column",gutterSize:"s"},Object(c.jsx)(s.EuiFlexItem,null,Object(c.jsx)(s.EuiSpacer,{size:"s"}),Object(c.jsx)("div",{className:"eui-textRight"},Object(c.jsx)(s.EuiCopy,{textToCopy:e},(e=>Object(c.jsx)(s.EuiButtonEmpty,{size:"xs",flush:"right",iconType:"copyClipboard",onClick:e},u))))),Object(c.jsx)(s.EuiFlexItem,null,b))},p=i.a.memo((e=>Object(c.jsx)(b,e)))},106:function(e,t,o){var n=o(64),i=o(107);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},107:function(e,t,o){(t=o(65)(!1)).push([e.i,".dscJsonCodeEditor{width:100%}\n",""]),e.exports=t},108:function(e,t,o){var n=o(64),i=o(109);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},109:function(e,t,o){(t=o(65)(!1)).push([e.i,".dscJsonCodeEditor{width:100%}\n",""]),e.exports=t},112:function(e,t,o){"use strict";async function n(e,t,o,n){var i;if(!e.id||null==n||null===(i=n.indexPatterns)||void 0===i||!i.save)return;const r=e.fields.getByName(t);if(r){r.count++;try{await o.updateSavedObject(e,0,!0)}catch{}}}o.d(t,"a",(function(){return n}))},113:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(178);case"v8light":return o(180)}},124:function(e,t,o){"use strict";o.d(t,"a",(function(){return Z}));var n=o(3),i=o.n(n),r=o(38),a=(o(169),o(14)),s=o(15);const l="kibana-json",c={border:"all",fontSize:"s",cellPadding:"s",rowHover:"none"},d=[25,50,100,250],u={showColumnSelector:{allowHide:!1,allowReorder:!0}};function b(e){switch(e){case s.KBN_FIELD_TYPES.IP:case s.KBN_FIELD_TYPES.GEO_SHAPE:case s.KBN_FIELD_TYPES.NUMBER:return"numeric";case s.KBN_FIELD_TYPES.BOOLEAN:return"boolean";case s.KBN_FIELD_TYPES.STRING:return"string";case s.KBN_FIELD_TYPES.DATE:return"datetime";default:return l}}var p=o(66),m=o.n(p),g=o(0),f=o(127),j=o(82),h=o(19),x=o(5);function v(e){const t=e._routing||"";return[e._index,e._id,t].join("||")}function _({hit:e,hits:t,indexPattern:o,columns:i,onFilter:r,onClose:s,onRemoveColumn:l,onAddColumn:c,setExpandedDoc:d}){const u=Object(h.a)(),b=Object(n.useMemo)((()=>(null==t?void 0:t.find((({_id:t,_index:o})=>e._index===o&&t===(null==e?void 0:e._id))))||e),[e,t]),p=Object(n.useMemo)((()=>t?t.length:0),[t]),_=Object(n.useMemo)((()=>{const o=v(e);return!t||p<=1?-1:function(e,t){return e.findIndex((e=>v(e)===t))}(t,o)}),[t,e,p]),O=Object(n.useCallback)((e=>{t&&t[e]&&d(t[e])}),[t,d]),w=Object(n.useCallback)((e=>{e.key!==a.keys.ARROW_LEFT&&e.key!==a.keys.ARROW_RIGHT||(e.preventDefault(),e.stopPropagation(),O(_+(e.key===a.keys.ARROW_RIGHT?1:-1)))}),[_,O]),{singleDocProps:T,surrDocsProps:y}=Object(j.b)({indexPatternId:o.id,rowIndex:e._index,rowId:e._id,filterManager:u.filterManager,addBasePath:u.addBasePath,columns:i});return Object(x.jsx)(a.EuiPortal,null,Object(x.jsx)(a.EuiFlyout,{onClose:s,size:"m","data-test-subj":"docTableDetailsFlyout",onKeyDown:w,ownFocus:!1},Object(x.jsx)(a.EuiFlyoutHeader,{hasBorder:!0},Object(x.jsx)(a.EuiTitle,{size:"s",className:"dscTable__flyoutHeader","data-test-subj":"docTableRowDetailsTitle"},Object(x.jsx)("h2",null,g.i18n.translate("discover.grid.tableRow.detailHeading",{defaultMessage:"Expanded document"}))),Object(x.jsx)(a.EuiSpacer,{size:"s"}),Object(x.jsx)(a.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(x.jsx)(a.EuiHideFor,{sizes:["xs","s","m"]},Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiText,{size:"s"},Object(x.jsx)("strong",null,g.i18n.translate("discover.grid.tableRow.viewText",{defaultMessage:"View:"}))))),Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiButtonEmpty,m()({size:"s",iconSize:"s",iconType:"document",flush:"left","data-test-subj":"docTableRowAction"},T),g.i18n.translate("discover.grid.tableRow.viewSingleDocumentLinkTextSimple",{defaultMessage:"Single document"}))),o.isTimeBased()&&o.id&&Object(x.jsx)(a.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"none"},Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiButtonEmpty,m()({size:"s",iconSize:"s",iconType:"documents",flush:"left"},y,{"data-test-subj":"docTableRowAction"}),g.i18n.translate("discover.grid.tableRow.viewSurroundingDocumentsLinkTextSimple",{defaultMessage:"Surrounding documents"}))),Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiIconTip,{content:g.i18n.translate("discover.grid.tableRow.viewSurroundingDocumentsHover",{defaultMessage:"Inspect documents that occurred before and after this document. Only pinned filters remain active in the Surrounding documents view."}),type:"questionInCircle",color:"subdued",position:"right",iconProps:{className:"eui-alignTop"}}))),-1!==_&&Object(x.jsx)(a.EuiFlexItem,{"data-test-subj":`dscDocNavigationPage-${_}`},Object(x.jsx)(a.EuiPagination,{"aria-label":g.i18n.translate("discover.grid.flyout.documentNavigation",{defaultMessage:"Document navigation"}),pageCount:p,activePage:_,onPageClick:O,className:"dscTable__flyoutDocumentNavigation",compressed:!0,"data-test-subj":"dscDocNavigation"})))),Object(x.jsx)(a.EuiFlyoutBody,null,Object(x.jsx)(f.a,{hit:b,columns:i,indexPattern:o,filter:(e,t,o)=>{r(e,t,o),u.toastNotifications.addSuccess(g.i18n.translate("discover.grid.flyout.toastFilterAdded",{defaultMessage:"Filter was added"}))},onRemoveColumn:e=>{l(e),u.toastNotifications.addSuccess(g.i18n.translate("discover.grid.flyout.toastColumnRemoved",{defaultMessage:"Column '{columnName}' was removed",values:{columnName:e}}))},onAddColumn:e=>{c(e),u.toastNotifications.addSuccess(g.i18n.translate("discover.grid.flyout.toastColumnAdded",{defaultMessage:"Column '{columnName}' was added",values:{columnName:e}}))}}))))}const O={},w=i.a.createContext(O);var T=o(39),y=o.n(T),D=o(43),C=(o(81),o(105));const k=({json:e,width:t,height:o,hasLineNumbers:n})=>{const i=JSON.stringify(e,null,2);return Object(x.jsx)(C.b,{jsonValue:i,width:t,height:o,hasLineNumbers:n,onEditorDidMount:()=>{},hideCopyButton:!0})};var E=o(71),S=o(132),F=o(7);const M="dscDiscoverGrid__cellValue";function N(e,t){return Object.fromEntries(Object.entries(e).filter((([e])=>0===e.indexOf(`${t}.`))))}function I(e,t,o){return o?N(t.fields,e):t}var R=o(80);const B=({rowIndex:e,setCellProps:t})=>{const{expanded:o,setExpanded:i,rows:r,isDarkMode:s}=Object(n.useContext)(w),l=r[e];Object(n.useEffect)((()=>{l.isAnchor?t({className:"dscDocsGrid__cell--highlight"}):o&&l&&o._id===l._id&&o._index===l._index?t({style:{backgroundColor:s?D.euiDarkVars.euiColorHighlight:D.euiLightVars.euiColorHighlight}}):t({style:void 0})}),[o,l,t,s]);const c=l===o,d=g.i18n.translate("discover.grid.viewDoc",{defaultMessage:"Toggle dialog with details"});return Object(x.jsx)(a.EuiToolTip,{content:d,delay:"long"},Object(x.jsx)(a.EuiButtonIcon,{id:0===e?R.a.expandDocument:void 0,size:"xs",iconSize:"s","aria-label":d,"data-test-subj":"docTableExpandToggleColumn",onClick:()=>i(c?void 0:l),color:c?"primary":"text",iconType:c?"minimize":"expand",isSelected:c}))};function H(e,t,o,n){const i=e.rowsFlattened[t][o],r=e.indexPattern.fields.getByName(o);r&&e.onFilter(r,i,n)}const A=({Component:e,rowIndex:t,columnId:o})=>{const i=Object(n.useContext)(w),r=g.i18n.translate("discover.grid.filterForAria",{defaultMessage:"Filter for this {value}",values:{value:o}});return Object(x.jsx)(e,{onClick:()=>{H(i,t,o,"+")},iconType:"plusInCircle","aria-label":r,title:r,"data-test-subj":"filterForButton"},g.i18n.translate("discover.grid.filterFor",{defaultMessage:"Filter for"}))},G=({Component:e,rowIndex:t,columnId:o})=>{const i=Object(n.useContext)(w),r=g.i18n.translate("discover.grid.filterOutAria",{defaultMessage:"Filter out this {value}",values:{value:o}});return Object(x.jsx)(e,{onClick:()=>{H(i,t,o,"-")},iconType:"minusInCircle","aria-label":r,title:r,"data-test-subj":"filterOutButton"},g.i18n.translate("discover.grid.filterOut",{defaultMessage:"Filter out"}))},P=({Component:e,rowIndex:t,columnId:o})=>{const{indexPattern:i,rowsFlattened:r,rows:s}=Object(n.useContext)(w),{fieldFormats:l,toastNotifications:c}=Object(h.a)(),d=g.i18n.translate("discover.grid.copyClipboardButtonTitle",{defaultMessage:"Copy value of {column}",values:{column:o}});return Object(x.jsx)(e,{onClick:()=>{const e=r[t],n=i.fields.getByName(o),d=e[o],u="_source"===(null==n?void 0:n.type)?JSON.stringify(e,null,2):Object(E.a)(d,s[t],l,i,n,"text");Object(a.copyToClipboard)(u);const b=g.i18n.translate("discover.grid.copyClipboardToastTitle",{defaultMessage:"Copied value of {column} to clipboard.",values:{column:o}});c.addInfo({title:b})},iconType:"copyClipboard","aria-label":d,title:d,"data-test-subj":"copyClipboardButton"},g.i18n.translate("discover.grid.copyClipboardButton",{defaultMessage:"Copy to clipboard"}))},L=e=>{const t=e._routing?e._routing:"";return[e._index,e._id,t].join("::")},z=({rowIndex:e,setCellProps:t})=>{const{selectedDocs:o,expanded:i,rows:r,isDarkMode:s,setSelectedDocs:l}=Object(n.useContext)(w),c=Object(n.useMemo)((()=>r[e]),[r,e]),d=Object(n.useMemo)((()=>L(c)),[c]),u=Object(n.useMemo)((()=>o.includes(d)),[o,d]),b=g.i18n.translate("discover.grid.selectDoc",{defaultMessage:"Select document '{rowNumber}'",values:{rowNumber:e+1}});return Object(n.useEffect)((()=>{i&&c&&i._id===c._id&&i._index===c._index?t({style:{backgroundColor:s?D.euiDarkVars.euiColorHighlight:D.euiLightVars.euiColorHighlight}}):t({style:void 0})}),[i,c,t,s]),Object(x.jsx)(a.EuiCheckbox,{id:d,"aria-label":b,checked:u,"data-test-subj":`dscGridSelectDoc-${d}`,onChange:()=>{if(u){const e=o.filter((e=>e!==d));l(e)}else l([...o,d])}})};function V({isFilterActive:e,rows:t,selectedDocs:o,setIsFilterActive:i,setSelectedDocs:s}){const[l,c]=Object(n.useState)(!1),d=Object(n.useCallback)((()=>[e?Object(x.jsx)(a.EuiContextMenuItem,{"data-test-subj":"dscGridShowAllDocuments",key:"showAllDocuments",icon:"eye",onClick:()=>{c(!1),i(!1)}},Object(x.jsx)(r.FormattedMessage,{id:"discover.showAllDocuments",defaultMessage:"Show all documents"})):Object(x.jsx)(a.EuiContextMenuItem,{"data-test-subj":"dscGridShowSelectedDocuments",key:"showSelectedDocuments",icon:"eye",onClick:()=>{c(!1),i(!0)}},Object(x.jsx)(r.FormattedMessage,{id:"discover.showSelectedDocumentsOnly",defaultMessage:"Show selected documents only"})),Object(x.jsx)(a.EuiCopy,{key:"copyJsonWrapper","data-test-subj":"dscGridCopySelectedDocumentsJSON",textToCopy:t?JSON.stringify(t.filter((e=>o.includes(L(e))))):""},(e=>Object(x.jsx)(a.EuiContextMenuItem,{key:"copyJSON",icon:"copyClipboard",onClick:e},Object(x.jsx)(r.FormattedMessage,{id:"discover.copyToClipboardJSON",defaultMessage:"Copy documents to clipboard (JSON)"})))),Object(x.jsx)(a.EuiContextMenuItem,{"data-test-subj":"dscGridClearSelectedDocuments",key:"clearSelection",icon:"cross",onClick:()=>{c(!1),s([]),i(!1)}},Object(x.jsx)(r.FormattedMessage,{id:"discover.clearSelection",defaultMessage:"Clear selection"}))]),[e,t,o,i,c,s]),u=Object(n.useCallback)((()=>c((e=>!e))),[]);return Object(x.jsx)(a.EuiPopover,{closePopover:()=>c(!1),isOpen:l,panelPaddingSize:"none",button:Object(x.jsx)(a.EuiButtonEmpty,{size:"xs",color:"text",iconType:"documents",onClick:u,"data-selected-documents":o.length,"data-test-subj":"dscGridSelectionBtn",isSelected:e,className:y()({euiDataGrid__controlBtn:!0,"euiDataGrid__controlBtn--active":e})},Object(x.jsx)(r.FormattedMessage,{id:"discover.selectedDocumentsNumber",defaultMessage:"{nr} documents selected",values:{nr:o.length}}))},l&&Object(x.jsx)(a.EuiContextMenuPanel,{items:d()}))}function $(e){return{size:"xs",label:Object(x.jsx)(r.FormattedMessage,{id:"discover.grid.copyToClipBoardButton",defaultMessage:"Copy to clipboard"}),iconType:"copyClipboard",iconProps:{size:"m"},onClick:()=>Object(a.copyToClipboard)(e)}}function W(e,t=0,o,i,r){const s=o.getFieldByName(e),l={id:e,schema:b(null==s?void 0:s.type),isSortable:r&&!0===(null==s?void 0:s.sortable),display:"_source"===e?g.i18n.translate("discover.grid.documentHeader",{defaultMessage:"Document"}):null==s?void 0:s.displayName,actions:{showHide:!i&&e!==o.timeFieldName&&{label:g.i18n.translate("discover.removeColumnLabel",{defaultMessage:"Remove column"}),iconType:"cross"},showMoveLeft:!i,showMoveRight:!i,additional:"_source"===e?void 0:[$(e)]},cellActions:s?(c=s,"_source"===(null==c?void 0:c.type)?[P]:c.filterable?[A,G]:void 0):[]};var c;if(l.id===o.timeFieldName){var d;const e=g.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltipAriaLabel",{defaultMessage:"Primary time field."}),t=g.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltip",{defaultMessage:"This field represents the time that events occurred."});l.display=Object(x.jsx)(n.Fragment,null,null!==(d=null==s?void 0:s.customLabel)&&void 0!==d?d:o.timeFieldName," ",Object(x.jsx)(a.EuiIconTip,{iconProps:{tabIndex:-1},type:"clock","aria-label":e,content:t})),l.initialWidth=210}return t>0&&(l.initialWidth=Number(t)),l}function U(e,t,o){const n=t.timeFieldName;return o&&!e.find((e=>e===n))?[n,...e]:e}const J=["_source"];var q=o(77);const Y=e=>"number"==typeof e&&!Number.isNaN(e)&&Math.floor(e)===e&&e>=-1&&e<=20,K="discover:dataGridRowHeight",X=i.a.memo(a.EuiDataGrid),Q=["openDetails","select"],Z=({ariaLabelledBy:e,columns:t,indexPattern:o,isLoading:i,expandedDoc:b,onAddColumn:p,onFilter:m,onRemoveColumn:f,onResize:j,onSetColumns:v,onSort:O,rows:T,sampleSize:C,searchDescription:R,searchTitle:H,setExpandedDoc:A,settings:G,showTimeCol:P,sort:$,useNewFieldsApi:Z,isSortEnabled:ee=!0,isPaginationEnabled:te=!0,controlColumnIds:oe=Q,className:ne,rowHeightState:ie,onUpdateRowHeight:re})=>{const ae=Object(n.useRef)(null),se=Object(h.a)(),[le,ce]=Object(n.useState)([]),[de,ue]=Object(n.useState)(!1),be=function(e=[],t){return e&&e.length>0&&(1!==e.length||e[0]!==t.timeFieldName)?e:J}(t,o),pe=be.includes("_source"),me=Object(n.useMemo)((()=>{if(!le.length||null==T||!T.length)return[];const e=T.reduce(((e,t)=>e.set(L(t),!0)),new Map),t=le.filter((t=>e.get(t)));return 0===t.length&&de&&ue(!1),t}),[le,T,de]),ge=Object(n.useMemo)((()=>{if(!T)return[];if(!de||0===me.length)return T;const e=T.filter((e=>me.includes(L(e))));return e.length?e:T}),[T,me,de]),fe=Object(n.useMemo)((()=>ge.map((e=>Object(s.flattenHit)(e,o,{includeIgnoredValues:!0})))),[ge,o]),[je,he]=Object(n.useState)({pageIndex:0,pageSize:100}),xe=Object(n.useMemo)((()=>ge?ge.length:0),[ge]),ve=Object(n.useMemo)((()=>Math.ceil(xe/je.pageSize)),[xe,je]),_e=je.pageIndex===ve-1,Oe=Object(n.useMemo)((()=>te?{onChangeItemsPerPage:e=>he((t=>({...t,pageSize:e}))),onChangePage:e=>he((t=>({...t,pageIndex:e}))),pageIndex:je.pageIndex>ve-1?0:je.pageIndex,pageSize:je.pageSize,pageSizeOptions:d}:void 0),[je,ve,te]),we=Object(n.useMemo)((()=>$.map((([e,t])=>({id:e,direction:t})))),[$]),Te=Object(n.useCallback)((e=>{ee&&O&&O(e.map((({id:e,direction:t})=>[e,t])))}),[O,ee]),ye=se.uiSettings.get(F.SHOW_MULTIFIELDS),De=Object(n.useMemo)((()=>{const e=o.fields.getAll().map((e=>e.name));return Object(q.a)(e,o,ye)}),[o,ye]),Ce=Object(n.useMemo)((()=>((e,t,o,i,r,s,l)=>({rowIndex:c,columnId:d,isDetails:u,setCellProps:b})=>{const{uiSettings:p,fieldFormats:m}=Object(h.a)(),f=Object(n.useMemo)((()=>p.get(F.MAX_DOC_FIELDS_DISPLAYED)),[p]),j=t?t[c]:void 0,v=o?o[c]:void 0,_=e.fields.getByName(d),O=Object(n.useContext)(w);if(Object(n.useEffect)((()=>{j.isAnchor?b({className:"dscDocsGrid__cell--highlight"}):O.expanded&&j&&O.expanded._id===j._id&&O.expanded._index===j._index?b({style:{backgroundColor:O.isDarkMode?D.euiDarkVars.euiColorHighlight:D.euiLightVars.euiColorHighlight}}):b({style:void 0})}),[O,j,b]),void 0===j||void 0===v)return Object(x.jsx)("span",{className:M},"-");const T=Boolean(i&&!_&&(null==j?void 0:j.fields)&&!j.fields[d]);if(u)return function({rowRaw:e,rowFlattened:t,field:o,columnId:n,dataView:i,useTopLevelObjectColumns:r,fieldFormats:s,closePopover:l}){const c=Object(x.jsx)(a.EuiButtonIcon,{"aria-label":g.i18n.translate("discover.grid.closePopover",{defaultMessage:"Close popover"}),"data-test-subj":"docTableClosePopover",iconSize:"s",iconType:"cross",size:"xs",onClick:l});return r||"_source"===(null==o?void 0:o.type)?Object(x.jsx)(a.EuiFlexGroup,{gutterSize:"none",direction:"column",justifyContent:"flexEnd"},Object(x.jsx)(a.EuiFlexItem,{grow:!1},Object(x.jsx)(a.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"none"},Object(x.jsx)(a.EuiFlexItem,{grow:!1},c))),Object(x.jsx)(a.EuiFlexItem,null,Object(x.jsx)(k,{json:I(n,e,r),width:370,height:200}))):Object(x.jsx)(a.EuiFlexGroup,{gutterSize:"none",direction:"row",responsive:!1},Object(x.jsx)(a.EuiFlexItem,null,Object(x.jsx)("span",{className:"dscDiscoverGrid__cellPopoverValue eui-textBreakWord",dangerouslySetInnerHTML:{__html:Object(E.a)(t[n],e,s,i,o)}})),Object(x.jsx)(a.EuiFlexItem,{grow:!1},c))}({rowRaw:j,rowFlattened:v,field:_,columnId:d,dataView:e,useTopLevelObjectColumns:T,fieldFormats:m,closePopover:l});if("_source"===(null==_?void 0:_.type)||T){const t=T?function(e,t,o,n){var i;const r=N(e.fields,t),a=null!==(i=e.highlight)&&void 0!==i?i:{},s=[],l=[];return Object.entries(r).forEach((([t,i])=>{var r;const c=o.getFieldByName(t),d=o.fields.getByName?null===(r=o.fields.getByName(t))||void 0===r?void 0:r.displayName:void 0,u=c?o.getFormatterForField(c):{convert:(e,...t)=>String(e)},b=i.map((t=>u.convert(t,"html",{field:c,hit:e,indexPattern:o}))).join(", "),p=a[t]?s:l;d?n.includes(d)&&p.push([d,b]):p.push([t,b])})),[...s,...l]}(j,d,e,r).slice(0,s):Object(S.a)(j,e,r,f,m);return Object(x.jsx)(a.EuiDescriptionList,{type:"inline",compressed:!0,className:y()("dscDiscoverGrid__descriptionList",M)},t.map((([e,t])=>Object(x.jsx)(n.Fragment,{key:e},Object(x.jsx)(a.EuiDescriptionListTitle,null,e),Object(x.jsx)(a.EuiDescriptionListDescription,{className:"dscDiscoverGrid__descriptionListDescription",dangerouslySetInnerHTML:{__html:t}})))))}return Object(x.jsx)("span",{className:M,dangerouslySetInnerHTML:{__html:Object(E.a)(v[d],j,m,e,_)}})})(o,ge,fe,Z,De,se.uiSettings.get(F.MAX_DOC_FIELDS_DISPLAYED),(()=>{var e;return null===(e=ae.current)||void 0===e?void 0:e.closeCellPopover()}))),[o,fe,ge,Z,De,se.uiSettings]),ke=xe===C&&_e,Ee=Object(n.useMemo)((()=>Object(a.htmlIdGenerator)()()),[]),Se=Object(n.useMemo)((()=>function(e,t,o,n,i,r){const a=o.timeFieldName,s=e=>{var o,n,i;return null!==(o=null==t||null===(n=t.columns)||void 0===n||null===(i=n[e])||void 0===i?void 0:i.width)&&void 0!==o?o:0};return n&&o.timeFieldName&&!e.find((e=>e===a))?[o.timeFieldName,...e].map((e=>W(e,s(e),o,i,r))):e.map((e=>W(e,s(e),o,i,r)))}(be,G,o,P,pe,ee)),[be,o,P,G,pe,ee]),Fe=Object(n.useMemo)((()=>se.uiSettings.get(F.DOC_HIDE_TIME_COLUMN_SETTING,!1)),[se.uiSettings]),Me=Object(n.useMemo)((()=>[{type:l,detector:()=>0,sortTextAsc:"",sortTextDesc:"",icon:"",color:""}]),[]),Ne=Object(n.useMemo)((()=>({visibleColumns:U(be,o,P),setVisibleColumns:e=>{v(e,Fe)}})),[be,o,P,Fe,v]),Ie=Object(n.useMemo)((()=>ee?{columns:we,onSort:Te}:{columns:we,onSort:()=>{}}),[we,Te,ee]),Re=Object(n.useMemo)((()=>[{id:"openDetails",width:24,headerCellRender:()=>Object(x.jsx)(a.EuiScreenReaderOnly,null,Object(x.jsx)("span",null,g.i18n.translate("discover.controlColumnHeader",{defaultMessage:"Control column"}))),rowCellRender:B},{id:"select",width:24,rowCellRender:z,headerCellRender:()=>Object(x.jsx)(a.EuiScreenReaderOnly,null,Object(x.jsx)("span",null,g.i18n.translate("discover.selectColumnHeader",{defaultMessage:"Select column"})))}].filter((({id:e})=>oe.includes(e)))),[oe]),Be=Object(n.useMemo)((()=>me.length?Object(x.jsx)(V,{isFilterActive:de,rows:T,selectedDocs:me,setSelectedDocs:ce,setIsFilterActive:ue}):null),[me,de,T,ue]),He=Object(n.useMemo)((()=>re?{allowDensity:!1,allowRowHeight:!0}:void 0),[re]),Ae=Object(n.useMemo)((()=>pe?{...u,showColumnSelector:!1,showSortSelector:ee,additionalControls:Be,showDisplaySelector:He}:{...u,showSortSelector:ee,additionalControls:Be,showDisplaySelector:He}),[He,pe,Be,ee]),Ge=(({rowHeightState:e,onUpdateRowHeight:t})=>{const{storage:o,uiSettings:i}=Object(h.a)();return Object(n.useMemo)((()=>{const n=(e=>{const t=e.get(K);return"object"==typeof t&&null!==t&&Y(t.previousRowHeight)&&Y(t.previousConfigRowHeight)?t:null})(o),r=i.get(F.ROW_HEIGHT_OPTION);let a;var s,l;return a=Y(e)?e:null!==(s=n)&&r===s.previousConfigRowHeight?n.previousRowHeight:r,{defaultHeight:(l=a,-1===l?"auto":0!==l?{lineCount:l}:void 0),lineHeight:"1.6em",onChange:({defaultHeight:e})=>{const n=(e=>"auto"===e?-1:"object"==typeof e&&e.lineCount?e.lineCount:0)(e);((e,t,o)=>{o.set(K,{previousRowHeight:e,previousConfigRowHeight:t})})(n,r,o),null==t||t(n)}}}),[e,i,o,t])})({rowHeightState:ie,onUpdateRowHeight:re});return!xe&&i?Object(x.jsx)("div",{className:"euiDataGrid__loading"},Object(x.jsx)(a.EuiText,{size:"xs",color:"subdued"},Object(x.jsx)(a.EuiLoadingSpinner,null),Object(x.jsx)(a.EuiSpacer,{size:"s"}),Object(x.jsx)(r.FormattedMessage,{id:"discover.loadingResults",defaultMessage:"Loading results"}))):xe?Object(x.jsx)(w.Provider,{value:{expanded:b,setExpanded:A,rows:ge,rowsFlattened:fe,onFilter:m,indexPattern:o,isDarkMode:se.uiSettings.get("theme:darkMode"),selectedDocs:me,setSelectedDocs:e=>{ce(e),de&&0===e.length&&ue(!1)}}},Object(x.jsx)("span",{"data-test-subj":"discoverDocTable","data-render-complete":!i,"data-shared-item":"","data-title":H,"data-description":R,"data-document-number":ge.length,className:ne},Object(x.jsx)(X,{"aria-describedby":Ee,"aria-labelledby":e,columns:Se,columnVisibility:Ne,"data-test-subj":"docTable",leadingControlColumns:Re,onColumnResize:j,pagination:Oe,renderCellValue:Ce,ref:ae,rowCount:xe,schemaDetectors:Me,sorting:Ie,toolbarVisibility:Ae,rowHeightsOptions:Ge,gridStyle:c}),ke&&Object(x.jsx)("p",{className:"dscDiscoverGrid__footer"},Object(x.jsx)(r.FormattedMessage,{id:"discover.howToSeeOtherMatchingDocumentsDescriptionGrid",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:C}}),Object(x.jsx)("a",{href:`#${e}`},Object(x.jsx)(r.FormattedMessage,{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))),H&&Object(x.jsx)(a.EuiScreenReaderOnly,null,Object(x.jsx)("p",{id:String(Ee)},R?Object(x.jsx)(r.FormattedMessage,{id:"discover.searchGenerationWithDescriptionGrid",defaultMessage:"Table generated by search {searchTitle} ({searchDescription})",values:{searchTitle:H,searchDescription:R}}):Object(x.jsx)(r.FormattedMessage,{id:"discover.searchGenerationWithDescription",defaultMessage:"Table generated by search {searchTitle}",values:{searchTitle:H}}))),b&&Object(x.jsx)(_,{indexPattern:o,hit:b,hits:ge,columns:pe?[]:be,onFilter:m,onRemoveColumn:f,onAddColumn:p,onClose:()=>A(void 0),setExpandedDoc:A}))):Object(x.jsx)("div",{className:"euiDataGrid__noResults","data-render-complete":!i,"data-shared-item":"","data-title":H,"data-description":R,"data-document-number":0},Object(x.jsx)(a.EuiText,{size:"xs",color:"subdued"},Object(x.jsx)(a.EuiIcon,{type:"discoverApp",size:"m",color:"subdued"}),Object(x.jsx)(a.EuiSpacer,{size:"s"}),Object(x.jsx)(r.FormattedMessage,{id:"discover.noResultsFound",defaultMessage:"No results found"})))}},125:function(e,t,o){"use strict";o.d(t,"a",(function(){return R}));var n=o(3),i=o(14),r=o(38),a=o(66),s=o.n(a),l=o(55),c=o(0),d=o(5);function u(){const e=c.i18n.translate("discover.docViews.table.scoreSortWarningTooltip",{defaultMessage:"In order to retrieve values for _score, you must sort by it."});return Object(d.jsx)(i.EuiIconTip,{content:e,color:"warning",size:"s",type:"alert"})}const b={desc:{iconType:"sortDown",color:"primary"},asc:{iconType:"sortUp",color:"primary"},"":{iconType:"sortable",color:"text"}},p={width:12,height:12};function m({colLeftIdx:e,colRightIdx:t,displayName:o,isRemoveable:n,isSortable:r,isTimeColumn:a,customLabel:l,name:m,onChangeSortOrder:g,onMoveColumn:f,onRemoveColumn:j,sortOrder:h}){const[,x=""]=h.find((e=>m===e[0]))||[],v=h.filter((e=>e[0]!==m)),_=h.find((e=>e[0]===m)),O=_&&_[1]||"",w=c.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltipAriaLabel",{defaultMessage:"Primary time field."}),T=c.i18n.translate("discover.docTable.tableHeader.timeFieldIconTooltip",{defaultMessage:"This field represents the time that events occurred."}),y="_score"===m&&!_,D=()=>{const e=c.i18n.translate("discover.docTable.tableHeader.sortByColumnAscendingAriaLabel",{defaultMessage:"Sort {columnName} ascending",values:{columnName:m}}),t=c.i18n.translate("discover.docTable.tableHeader.sortByColumnDescendingAriaLabel",{defaultMessage:"Sort {columnName} descending",values:{columnName:m}}),o=c.i18n.translate("discover.docTable.tableHeader.sortByColumnUnsortedAriaLabel",{defaultMessage:"Stop sorting on {columnName}",values:{columnName:m}});return void 0===_?e:"asc"===x?t:"desc"===x&&0===v.length?e:o},C=[{active:r&&"function"==typeof g,ariaLabel:D(),className:x?"":"kbnDocTableHeader__sortChange",iconProps:b[x],onClick:()=>{g&&(void 0===_?g([...v,[m,"asc"]]):"asc"===O?g([...v,[m,"desc"]]):"desc"===O&&0===v.length?g([[m,"asc"]]):g(v))},testSubject:`docTableHeaderFieldSort_${m}`,tooltip:D()},{active:n&&"function"==typeof j,ariaLabel:c.i18n.translate("discover.docTable.tableHeader.removeColumnButtonAriaLabel",{defaultMessage:"Remove {columnName} column",values:{columnName:m}}),className:"kbnDocTableHeader__move",iconProps:{iconType:"cross",color:"text"},onClick:()=>j&&j(m),testSubject:`docTableRemoveHeader-${m}`,tooltip:c.i18n.translate("discover.docTable.tableHeader.removeColumnButtonTooltip",{defaultMessage:"Remove Column"})},{active:e>=0&&"function"==typeof f,ariaLabel:c.i18n.translate("discover.docTable.tableHeader.moveColumnLeftButtonAriaLabel",{defaultMessage:"Move {columnName} column to the left",values:{columnName:m}}),className:"kbnDocTableHeader__move",iconProps:{iconType:"sortLeft",color:"text"},onClick:()=>f&&f(m,e),testSubject:`docTableMoveLeftHeader-${m}`,tooltip:c.i18n.translate("discover.docTable.tableHeader.moveColumnLeftButtonTooltip",{defaultMessage:"Move column to the left"})},{active:t>=0&&"function"==typeof f,ariaLabel:c.i18n.translate("discover.docTable.tableHeader.moveColumnRightButtonAriaLabel",{defaultMessage:"Move {columnName} column to the right",values:{columnName:m}}),className:"kbnDocTableHeader__move",iconProps:{iconType:"sortRight",color:"text"},onClick:()=>f&&f(m,t),testSubject:`docTableMoveRightHeader-${m}`,tooltip:c.i18n.translate("discover.docTable.tableHeader.moveColumnRightButtonTooltip",{defaultMessage:"Move column to the right"})}];return Object(d.jsx)("th",{"data-test-subj":"docTableHeaderField"},Object(d.jsx)("span",{"data-test-subj":`docTableHeader-${m}`,className:"kbnDocTableHeader__actions"},y&&Object(d.jsx)(u,null),null!=l?l:o,a&&Object(d.jsx)(i.EuiIconTip,{key:"time-icon",type:"clock","aria-label":w,content:T}),C.filter((e=>e.active)).map(((e,t)=>Object(d.jsx)(i.EuiToolTip,{id:`docTableHeader-${m}-tt`,content:e.tooltip,key:`button-${t}`},Object(d.jsx)(i.EuiButtonIcon,s()({"aria-label":e.ariaLabel,className:e.className,"data-test-subj":e.testSubject,onClick:e.onClick,iconSize:"s",style:p},e.iconProps)))))))}var g=o(73),f=o(19),j=o(7);function h({columns:e,indexPattern:t,onChangeSortOrder:o,onMoveColumn:i,onRemoveColumn:r,sortOrder:a}){const{uiSettings:u}=Object(f.a)(),[b,p,h]=Object(n.useMemo)((()=>[u.get(j.SORT_DEFAULT_ORDER_SETTING,"desc"),u.get(j.DOC_HIDE_TIME_COLUMN_SETTING,!1),u.get(l.FORMATS_UI_SETTINGS.SHORT_DOTS_ENABLE)]),[u]),x=function(e,t,o,n){if(!Array.isArray(e)||"object"!=typeof t||!t.getFieldByName)return[];const i=0===e.length?[{name:"__document__",displayName:c.i18n.translate("discover.docTable.tableHeader.documentHeader",{defaultMessage:"Document"}),isSortable:!1,isRemoveable:!1,colLeftIdx:-1,colRightIdx:-1}]:e.map(((o,n)=>{var i;const r=t.getFieldByName(o);return{name:o,displayName:null!==(i=null==r?void 0:r.displayName)&&void 0!==i?i:o,isSortable:!(!r||!r.sortable),isRemoveable:"_source"!==o||e.length>1,colLeftIdx:n-1<0?-1:n-1,colRightIdx:n+1>=e.length?-1:n+1}}));return!o&&t.timeFieldName?[(r=t.timeFieldName,{name:r,displayName:r,isSortable:!0,isRemoveable:!1,colLeftIdx:-1,colRightIdx:-1}),...i]:i;var r}(e,t,p);return Object(d.jsx)("tr",{"data-test-subj":"docTableHeader",className:"kbnDocTableHeader"},Object(d.jsx)("th",{style:{width:"24px"}}),x.map((e=>{var n;return Object(d.jsx)(m,s()({key:e.name},e,{customLabel:null===(n=t.getFieldByName(e.name))||void 0===n?void 0:n.customLabel,isTimeColumn:t.timeFieldName===e.name,sortOrder:a.length?a:Object(g.a)(t,b,p),onMoveColumn:i,onRemoveColumn:r,onChangeSortOrder:o}))})))}var x=o(39),v=o.n(x),_=o(15),O=o(71),w=o(133);const T=({handleFilterFor:e,handleFilterOut:t})=>Object(d.jsx)("span",{className:"kbnDocTableCell__filter"},Object(d.jsx)(i.EuiToolTip,{className:"kbnDocTableCell__filterButton",position:"bottom",content:c.i18n.translate("discover.docTable.tableRow.filterForValueButtonTooltip",{defaultMessage:"Filter for value"})},Object(d.jsx)("button",{className:"kbnDocTableRowFilterButton","data-test-subj":"docTableCellFilter","aria-label":c.i18n.translate("discover.docTable.tableRow.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),onClick:e},Object(d.jsx)(i.EuiIcon,{type:"plusInCircle",size:"s",color:"primary"}))),Object(d.jsx)(i.EuiToolTip,{className:"kbnDocTableCell__filterButton",position:"bottom",content:c.i18n.translate("discover.docTable.tableRow.filterOutValueButtonTooltip",{defaultMessage:"Filter out value"})},Object(d.jsx)("button",{className:"kbnDocTableRowFilterButton","data-test-subj":"docTableCellFilterNegate","aria-label":c.i18n.translate("discover.docTable.tableRow.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),onClick:t},Object(d.jsx)(i.EuiIcon,{type:"minusInCircle",size:"s",color:"primary"})))),y=e=>{const t=v()({"eui-textNoWrap kbnDocTableCell--extraWidth":e.timefield,"eui-textBreakAll eui-textBreakWord":e.sourcefield,"kbnDocTableCell__dataField eui-textBreakAll eui-textBreakWord":!e.timefield&&!e.sourcefield});return Object(d.jsx)("td",{className:t,"data-test-subj":"docTableField"},e.formatted,e.filterable?Object(d.jsx)(T,{handleFilterOut:()=>e.inlineFilter(e.column,"-"),handleFilterFor:()=>e.inlineFilter(e.column,"+")}):Object(d.jsx)("span",{className:"kbnDocTableCell__filter"}))};var D=o(132);o(187);const C=({defPairs:e})=>Object(d.jsx)("dl",{className:"source dscTruncateByHeight"},e.map(((e,t)=>Object(d.jsx)(n.Fragment,{key:t},Object(d.jsx)("dt",null,e[0],!!e[1]&&":"),Object(d.jsx)("dd",{className:"rowFormatter__value",dangerouslySetInnerHTML:{__html:e[1]}})," ")))),k=(e,t,o,n,i)=>{const r=Object(D.a)(e,t,o,n,i);return Object(d.jsx)(C,{defPairs:r})},E=(e,t,o,n)=>{var i;const r=null!==(i=e.highlight)&&void 0!==i?i:{},a=[],s=[];return Object.entries(t).sort((([e],[t])=>e.localeCompare(t))).forEach((([n,i])=>{var l;const c=o.getFieldByName(n),d=t.getByName?null===(l=t.getByName(n))||void 0===l?void 0:l.displayName:void 0,u=c?o.getFormatterForField(c):{convert:(e,...t)=>String(e)};if(!i.map)return;const b=i.map((t=>u.convert(t,"html",{field:c,hit:e,indexPattern:o}))).join(", ");(r[n]?a:s).push([d||n,b])})),Object(d.jsx)(C,{defPairs:[...a,...s].slice(0,n)})};var S=o(82);const F=({open:e,colLength:t,isTimeBased:o,singleDocProps:n,surrDocsProps:a,children:l})=>e?Object(d.jsx)("td",{colSpan:(t||1)+2},Object(d.jsx)(i.EuiFlexGroup,{gutterSize:"l",justifyContent:"spaceBetween",responsive:!1},Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiFlexGroup,{gutterSize:"s",alignItems:"center",responsive:!1},Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiIcon,{type:"folderOpen",size:"m"})),Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiTitle,{size:"xxs","data-test-subj":"docTableRowDetailsTitle"},Object(d.jsx)("h4",null,Object(d.jsx)(r.FormattedMessage,{id:"discover.docTable.tableRow.detailHeading",defaultMessage:"Expanded document"})))))),Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiFlexGroup,{gutterSize:"l",alignItems:"center",responsive:!1},Object(d.jsx)(i.EuiFlexItem,{grow:!1},o&&Object(d.jsx)(i.EuiLink,s()({"data-test-subj":"docTableRowAction"},a),Object(d.jsx)(r.FormattedMessage,{id:"discover.docTable.tableRow.viewSurroundingDocumentsLinkText",defaultMessage:"View surrounding documents"}))),Object(d.jsx)(i.EuiFlexItem,{grow:!1},Object(d.jsx)(i.EuiLink,s()({"data-test-subj":"docTableRowAction"},n),Object(d.jsx)(r.FormattedMessage,{id:"discover.docTable.tableRow.viewSingleDocumentLinkText",defaultMessage:"View single document"})))))),Object(d.jsx)("div",{"data-test-subj":"docViewer"},l)):null,M=({columns:e,filter:t,row:o,indexPattern:r,useNewFieldsApi:a,fieldsToShow:s,onAddColumn:l,onRemoveColumn:u})=>{const{uiSettings:b,filterManager:p,fieldFormats:m,addBasePath:g}=Object(f.a)(),[h,x]=Object(n.useMemo)((()=>[b.get(j.MAX_DOC_FIELDS_DISPLAYED),b.get(j.DOC_HIDE_TIME_COLUMN_SETTING,!1)]),[b]),[T,D]=Object(n.useState)(!1),C=v()("kbnDocTable__row",{"kbnDocTable__row--highlight":o.isAnchor}),M=o.isAnchor?" docTableAnchorRow":"",N=Object(n.useMemo)((()=>Object(_.flattenHit)(o,r,{includeIgnoredValues:!0})),[r,o]),I=Object(n.useMemo)((()=>r.fields.getByName),[r]),R=e=>{if("_source"===e)return k(o,r,s,h,m);const t=Object(O.a)(N[e],o,m,r,I(e));return Object(d.jsx)("div",{className:"dscTruncateByHeight",dangerouslySetInnerHTML:{__html:t}})},B=Object(n.useCallback)(((e,o)=>{const n=r.fields.getByName(e);t(n,N[e],o)}),[t,N,r.fields]),{singleDocProps:H,surrDocsProps:A}=Object(S.b)({indexPatternId:r.id,rowIndex:o._index,rowId:o._id,filterManager:p,addBasePath:g,columns:e}),G=[Object(d.jsx)("td",{className:"kbnDocTableCell__toggleDetails",key:"toggleDetailsCell"},Object(d.jsx)(i.EuiButtonEmpty,{onClick:()=>D((e=>!e)),size:"xs","aria-expanded":T,"aria-label":c.i18n.translate("discover.docTable.tableRow.toggleRowDetailsButtonAriaLabel",{defaultMessage:"Toggle row details"}),"data-test-subj":"docTableExpandToggleColumn"},T?Object(d.jsx)(i.EuiIcon,{type:"arrowDown",color:"text",size:"s"}):Object(d.jsx)(i.EuiIcon,{type:"arrowRight",color:"text",size:"s"})))];var P;if(r.timeFieldName&&!x&&G.push(Object(d.jsx)(y,{key:r.timeFieldName,timefield:!0,formatted:R(r.timeFieldName),filterable:Boolean((null===(P=I(r.timeFieldName))||void 0===P?void 0:P.filterable)&&t),column:r.timeFieldName,inlineFilter:B})),0===e.length&&a){const e=k(o,r,s,h,m);G.push(Object(d.jsx)(y,{key:"__document__",timefield:!1,sourcefield:!0,formatted:e,filterable:!1,column:"__document__",inlineFilter:B}))}else e.forEach((function(e){if(a&&!I(e)&&o.fields&&!o.fields[e]){const t=Object.fromEntries(Object.entries(o.fields).filter((([t])=>0===t.indexOf(`${e}.`))));G.push(Object(d.jsx)(y,{key:e,timefield:!1,sourcefield:!0,formatted:E(o,t,r,h),filterable:!1,column:e,inlineFilter:B}))}else{var n,i;const r=Boolean((null===(n=I(e))||void 0===n?void 0:n.filterable)&&t&&!(null!==(i=o._ignored)&&void 0!==i&&i.includes(e)));G.push(Object(d.jsx)(y,{key:e,timefield:!1,sourcefield:"_source"===e,formatted:R(e),filterable:r,column:e,inlineFilter:B}))}}));return Object(d.jsx)(n.Fragment,null,Object(d.jsx)("tr",{"data-test-subj":`docTableRow${M}`,className:C},G),Object(d.jsx)("tr",{"data-test-subj":"docTableDetailsRow",className:"kbnDocTableDetails__row"},Object(d.jsx)(F,{open:T,colLength:(e.length||1)+2,isTimeBased:r.isTimeBased(),singleDocProps:H,surrDocsProps:A},Object(d.jsx)(w.a,{columns:e,filter:t,hit:o,indexPattern:r,onAddColumn:l,onRemoveColumn:u}))))};var N=o(77);const I=e=>new Promise((t=>setTimeout(t,e))),R=Object(n.forwardRef)((({render:e,columns:t,rows:o,indexPattern:a,onSort:s,onAddColumn:l,onMoveColumn:c,onRemoveColumn:u,sort:b,onFilter:p,useNewFieldsApi:m,searchDescription:g,sharedItemTitle:x,dataTestSubj:v,isLoading:_},O)=>{const{uiSettings:w}=Object(f.a)(),T=Object(n.useMemo)((()=>w.get(j.SHOW_MULTIFIELDS,!1)),[w]),y=Object(n.useCallback)((async()=>{const e=document.getElementById("discoverBottomMarker");for(;o.length!==document.getElementsByClassName("kbnDocTable__row").length;)await I(50);e.focus(),await I(50),e.blur()}),[o]),D=Object(n.useMemo)((()=>Object(N.a)(a.fields.map((e=>e.name)),a,T)),[a,T]),C=Object(n.useCallback)((()=>Object(d.jsx)(h,{columns:t,indexPattern:a,onChangeSortOrder:s,onMoveColumn:c,onRemoveColumn:u,sortOrder:b})),[t,a,c,u,s,b]),k=Object(n.useCallback)((e=>e.map((e=>Object(d.jsx)(M,{key:`${e._index}${e._id}${e._score}${e._version}${e._routing}`,columns:t,filter:p,indexPattern:a,row:e,useNewFieldsApi:m,fieldsToShow:D,onAddColumn:l,onRemoveColumn:u})))),[t,p,a,m,D,l,u]);return Object(d.jsx)("div",{className:"kbnDocTableWrapper eui-yScroll eui-xScroll","data-shared-item":!0,"data-title":x,"data-description":g,"data-test-subj":v,"data-render-complete":!_,ref:O},0!==o.length&&e({columnLength:t.length,rows:o,onSkipBottomButtonClick:y,renderHeader:C,renderRows:k}),!o.length&&Object(d.jsx)("div",{className:"kbnDocTable__error"},Object(d.jsx)(i.EuiText,{size:"xs",color:"subdued"},Object(d.jsx)(i.EuiIcon,{type:"visualizeApp",size:"m",color:"subdued"}),Object(d.jsx)(i.EuiSpacer,{size:"m"}),Object(d.jsx)(r.FormattedMessage,{id:"discover.docTable.noResultsTitle",defaultMessage:"No results found"}))))}))},127:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var n=o(3),i=o.n(n),r=o(14),a=o(6),s=o(1),l=o.n(s),c=o(9),d=o(5);function u({render:e,renderProps:t}){const o=Object(n.useRef)(null);return Object(n.useEffect)((()=>{if(o&&o.current)return e(o.current,t)}),[e,t]),Object(d.jsx)("div",{ref:o})}const b=({error:e})=>{throw e},p=({error:e})=>Object(d.jsx)(r.EuiErrorBoundary,{"data-test-subj":"docViewerError"},Object(d.jsx)(b,{error:e}));class doc_viewer_tab_DocViewerTab extends i.a.Component{constructor(...e){super(...e),l()(this,"state",{hasError:!1,error:""})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}shouldComponentUpdate(e,t){return e.renderProps.hit._id!==this.props.renderProps.hit._id||e.renderProps.hit._index!==this.props.renderProps.hit._index||!Object(c.isEqual)(e.renderProps.hit.highlight,this.props.renderProps.hit.highlight)||e.id!==this.props.id||!Object(c.isEqual)(e.renderProps.columns,this.props.renderProps.columns)||t.hasError}render(){const{component:e,render:t,renderProps:o,title:n}=this.props,{hasError:i,error:r}=this.state;return i&&r?Object(d.jsx)(p,{error:r}):t?Object(d.jsx)(u,{render:t,renderProps:o}):e?Object(d.jsx)(e,o):Object(d.jsx)(p,{error:`Invalid plugin ${n}, there is neither a (react) component nor a render function provided`})}}function m(e){const t=Object(a.a)().getDocViewsSorted(e.hit).map((({title:t,render:o,component:n},i)=>({id:`kbn_doc_viewer_tab_${i}`,name:t,content:Object(d.jsx)(doc_viewer_tab_DocViewerTab,{id:i,title:t,component:n,renderProps:e,render:o})})));return t.length?Object(d.jsx)("div",{className:"kbnDocViewer","data-test-subj":"kbnDocViewer"},Object(d.jsx)(r.EuiTabbedContent,{size:"s",tabs:t})):null}},131:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"c",(function(){return l})),o.d(t,"b",(function(){return c}));var n=o(7),i=o(112);function r(e,t=!1){return e.length>1&&-1!==e.indexOf("_source")?e.filter((e=>"_source"!==e)):0!==e.length?e:t?[]:["_source"]}function a(e,t,o){return e.includes(t)?e:r([...e,t],o)}function s(e,t,o){return e.includes(t)?r(e.filter((e=>e!==t)),o):e}function l(e,t,o){if(o<0||o>=e.length||!e.includes(t))return e;const n=[...e];return n.splice(n.indexOf(t),1),n.splice(o,0,t),n}function c({capabilities:e,config:t,indexPattern:o,indexPatterns:r,useNewFieldsApi:c,setAppState:d,state:u}){return{onAddColumn:function(s){var l;Object(i.a)(o,s,r,e);const b=a(u.columns||[],s,c),p=t.get(n.SORT_DEFAULT_ORDER_SETTING),m="_score"!==s||null!==(l=u.sort)&&void 0!==l&&l.length?u.sort:[["_score",p]];d({columns:b,sort:m})},onRemoveColumn:function(t){Object(i.a)(o,t,r,e);const n=s(u.columns||[],t,c),a=u.sort&&u.sort.length?u.sort.filter((e=>e[0]!==t)):[];d({columns:n,sort:a})},onMoveColumn:function(e,t){const o=l(u.columns||[],e,t);d({columns:o})},onSetColumns:function(e,t){const n=!t&&o.timeFieldName&&o.timeFieldName===e[0]?e.slice(1):e;d({columns:n})}}}},132:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));var n=o(0),i=o(15),r=o(71);const a=new WeakMap;function s(e,t,o,s,l){var c;const d=a.get(e);if(d)return d;const u=null!==(c=e.highlight)&&void 0!==c?c:{},b=Object(i.flattenHit)(e,t,{includeIgnoredValues:!0,source:!0}),p=[],m=[];Object.entries(b).forEach((([n,i])=>{var a;const s=null===(a=t.fields.getByName(n))||void 0===a?void 0:a.displayName,c=u[n]?p:m,d=Object(r.a)(i,e,l,t,t.fields.getByName(n));s?o.includes(n)&&c.push([s,d]):c.push([n,d])}));const g=[...p,...m],f=g.length<=s?g:[...g.slice(0,s),[n.i18n.translate("discover.utils.formatHit.moreFields",{defaultMessage:"and {count} more {count, plural, one {field} other {fields}}",values:{count:g.length-s}}),""]];return a.set(e,f),f}},133:function(e,t,o){"use strict";var n=o(127);o.d(t,"a",(function(){return n.a}))},136:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return r}));const n="field_statistics_loaded",i="field_statistics_view_click",r="documents_view_click"},142:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));var n=o(3),i=o(47),r=o(8),a=o(19),s=o(136),l=o(5);const c=e=>{const{availableFields$:t,indexPattern:o,savedSearch:c,query:d,columns:u,filters:b,stateContainer:p,onAddFilter:m,trackUiMetric:g,savedSearchRefetch$:f,searchSessionId:j}=e,h=Object(a.a)(),[x,v]=Object(n.useState)(),_=Object(n.useRef)(null),O=Object(n.useMemo)((()=>!p||!p.appStateContainer.getState().hideAggregatedPreview),[p]);return Object(n.useEffect)((()=>{const e=null==x?void 0:x.getOutput$().subscribe((e=>{void 0!==e.showDistributions&&p&&p.setAppState({hideAggregatedPreview:!e.showDistributions})})),o=null==f?void 0:f.subscribe((()=>{x&&!Object(r.isErrorEmbeddable)(x)&&x.updateInput({lastReloadRequestTime:Date.now()})})),n=null==t?void 0:t.subscribe((()=>{!x||Object(r.isErrorEmbeddable)(x)||null!=t&&t.getValue().error||x.updateInput({fieldsToFetch:null==t?void 0:t.getValue().fields})}));return()=>{null==e||e.unsubscribe(),null==o||o.unsubscribe(),null==n||n.unsubscribe()}}),[x,p,f,t]),Object(n.useEffect)((()=>{x&&!Object(r.isErrorEmbeddable)(x)&&(x.updateInput({dataView:o,savedSearch:c,query:d,filters:b,visibleFieldNames:u,onAddFilter:m,sessionId:j,fieldsToFetch:null==t?void 0:t.getValue().fields}),x.reload())}),[x,o,c,d,u,b,m,j,t]),Object(n.useEffect)((()=>{O&&x&&!Object(r.isErrorEmbeddable)(x)&&(x.updateInput({showPreviewByDefault:O}),x.reload())}),[O,x]),Object(n.useEffect)((()=>{let e=!1;return(async()=>{if(h.embeddable){const t=h.embeddable.getEmbeddableFactory("data_visualizer_grid");if(t){const n=await t.create({id:"discover_data_visualizer_grid",dataView:o,savedSearch:c,query:d,showPreviewByDefault:O,onAddFilter:m});e||v(n)}}})(),()=>{e=!0}}),[h.embeddable,O]),Object(n.useEffect)((()=>(_.current&&x&&(x.render(_.current),null==g||g(i.METRIC_TYPE.LOADED,s.b)),()=>{null==x||x.destroy()})),[x,_,g]),Object(l.jsx)("div",{"data-test-subj":"dscFieldStatsEmbeddedContent",ref:_,style:{height:"100%",overflowY:"auto",overflowX:"hidden"},className:"kbnDocTableWrapper"})}},169:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(170);case"v8light":return o(172)}},170:function(e,t,o){var n=o(64),i=o(171);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},171:function(e,t,o){(t=o(65)(!1)).push([e.i,'.dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #343741}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__cellValue{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace}.dscDiscoverGrid__cellPopoverValue{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:14px}.dscDiscoverGrid__footer{background-color:#343741;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader{display:flex}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__loading,.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}.dscDiscoverGrid__descriptionListDescription img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n',""]),e.exports=t},172:function(e,t,o){var n=o(64),i=o(173);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},173:function(e,t,o){(t=o(65)(!1)).push([e.i,'.dscDiscoverGrid{width:100%;max-width:100%;height:100%;overflow:hidden}.dscDiscoverGrid .euiDataGrid__controls{border:none;border-bottom:1px solid #D3DAE6}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn{border-left:none;padding:0}.dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn{border-right:none}.dscDiscoverGrid .euiDataGridRowCell:first-of-type,.dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type{border-left:none;border-right:none}.dscDiscoverGrid .euiDataGridRowCell:last-of-type,.dscDiscoverGrid .euiDataGridHeaderCell:last-of-type{border-right:none}.dscDiscoverGrid__cellValue{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace}.dscDiscoverGrid__cellPopoverValue{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:14px}.dscDiscoverGrid__footer{background-color:#D3DAE6;padding:8px 16px;margin-top:4px;text-align:center}.dscTable__flyoutHeader{white-space:nowrap}.dscTable__flyoutDocumentNavigation{justify-content:flex-end}.euiDataGridHeader{display:flex}.euiDataGridHeader .euiDataGridHeaderCell__content{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;overflow:hidden;white-space:nowrap;flex-grow:1}.euiDataGridHeader .euiDataGridHeaderCell__popover{flex-grow:0;flex-basis:auto;width:auto;padding-left:4px}.euiDataGridRowCell--numeric{text-align:right}.euiDataGrid__loading,.euiDataGrid__noResults{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center;height:100%;width:100%}.dscFormatSource{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important}.dscDiscoverGrid__descriptionListDescription{word-break:normal !important}.dscDiscoverGrid__descriptionListDescription img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}@media only screen and (max-width: 574px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.dscTable__flyoutDocumentNavigation .euiPagination__compressedText{display:none}}\n',""]),e.exports=t},174:function(e,t,o){"use strict";const n=o(175),i=o(176),r=o(177);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const o=function(e){let t;switch(e.arrayFormat){case"index":return(e,o,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=o):n[e]=o};case"bracket":return(e,o,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],o):n[e]=[o]:n[e]=o};case"comma":case"separator":return(t,o,n)=>{const i="string"==typeof o&&o.split("").indexOf(e.arrayFormatSeparator)>-1?o.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===o?o:l(o,e);n[t]=i};default:return(e,t,o)=>{void 0!==o[e]?o[e]=[].concat(o[e],t):o[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){let[e,a]=r(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:l(a,t),o(l(e,t),a,n)}for(const e of Object.keys(n)){const o=n[e];if("object"==typeof o&&null!==o)for(const e of Object.keys(o))o[e]=b(o[e],t);else n[e]=b(o,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const o=n[t];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?e[t]=c(o):e[t]=o,e}),Object.create(null))}t.extract=u,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const o=o=>t.skipNull&&null==e[o]||t.skipEmptyString&&""===e[o],n=function(e){switch(e.arrayFormat){case"index":return t=>(o,n)=>{const i=o.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:null===n?[...o,[s(t,e),"[",i,"]"].join("")]:[...o,[s(t,e),"[",s(i,e),"]=",s(n,e)].join("")]};case"bracket":return t=>(o,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:null===n?[...o,[s(t,e),"[]"].join("")]:[...o,[s(t,e),"[]=",s(n,e)].join("")];case"comma":case"separator":return t=>(o,n)=>null==n||0===n.length?o:0===o.length?[[s(t,e),"=",s(n,e)].join("")]:[[o,s(n,e)].join(e.arrayFormatSeparator)];default:return t=>(o,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?o:null===n?[...o,s(t,e)]:[...o,[s(t,e),"=",s(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))o(t)||(i[t]=e[t]);const r=Object.keys(i);return!1!==t.sort&&r.sort(t.sort),r.map((o=>{const i=e[o];return void 0===i?"":null===i?s(o,t):Array.isArray(i)?i.reduce(n(o),[]).join("&"):s(o,t)+"="+s(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[o,n]=r(e,"#");return Object.assign({url:o.split("?")[0]||"",query:p(u(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,o)=>{o=Object.assign({encode:!0,strict:!0},o);const n=d(e.url).split("?")[0]||"",i=t.extract(e.url),r=t.parse(i,{sort:!1}),a=Object.assign(r,e.query);let l=t.stringify(a,o);l&&(l=`?${l}`);let c=function(e){let t="";const o=e.indexOf("#");return-1!==o&&(t=e.slice(o)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,o)}`),`${n}${l}${c}`}},175:function(e,t,o){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},176:function(e,t,o){"use strict";var n="%[a-f0-9]{2}",i=new RegExp(n,"gi"),r=new RegExp("("+n+")+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var o=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],a(o),a(n))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i),o=1;o<t.length;o++)t=(e=a(t,o).join("")).match(i);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},o=r.exec(e);o;){try{t[o[0]]=decodeURIComponent(o[0])}catch(e){var n=s(o[0]);n!==o[0]&&(t[o[0]]=n)}o=r.exec(e)}t["%C2"]="";for(var i=Object.keys(t),a=0;a<i.length;a++){var l=i[a];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},177:function(e,t,o){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const o=e.indexOf(t);return-1===o?[e]:[e.slice(0,o),e.slice(o+t.length)]}},178:function(e,t,o){var n=o(64),i=o(179);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},179:function(e,t,o){(t=o(65)(!1)).push([e.i,'.kbnDocTableWrapper{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;overflow:auto;display:flex;flex:1 1 100%;flex-direction:column}.kbnDocTableWrapper::-webkit-scrollbar{width:16px;height:16px}.kbnDocTableWrapper::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.kbnDocTableWrapper::-webkit-scrollbar-corner,.kbnDocTableWrapper::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.kbnDocTableWrapper th{text-align:left;font-weight:bold}.kbnDocTableWrapper .spinner{position:absolute;top:40%;left:0;right:0;z-index:1000;opacity:.5}.kbnDocTableWrapper .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.kbnDocTable__footer{background-color:#343741;padding:4px 8px;text-align:center}.kbnDocTable__container.loading{opacity:.5}.kbnDocTable th{white-space:nowrap;padding-right:8px}.kbn-table dl.source,.kbnDocTable dl.source{margin-bottom:0;line-height:2em;word-break:break-word}.kbn-table dl.source dt,.kbn-table dl.source dd,.kbnDocTable dl.source dt,.kbnDocTable dl.source dd{display:inline}.kbn-table dl.source dt,.kbnDocTable dl.source dt{background-color:rgba(43,130,191,0.1);color:#DFE5EF;padding:2px 4px;margin-right:4px;word-break:normal;border-radius:6px}.kbnDocTable__row td{position:relative}.kbnDocTable__row td:hover .kbnDocTableRowFilterButton{opacity:1}.kbnDocTable__row--highlight td,.kbnDocTable__row--highlight .kbnDocTableRowFilterButton{background-color:#103148}.kbnDocTable__error{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center}.table .table{background-color:#1D1E24}.kbn-table .table .table{margin-bottom:0}.kbn-table .table .table tr:first-child>td{border-top:none}.kbn-table .table .table td.field-name{font-weight:700}.dscTruncateByHeight{display:inline-block}.kbnDocTableHeader{white-space:nowrap}.kbnDocTableHeader button,.kbnDocTableHeader svg{margin-left:2px}.kbnDocTableHeader__move,.kbnDocTableHeader__sortChange{opacity:0}th:hover .kbnDocTableHeader__move,.kbnDocTableHeader__move:focus,th:hover .kbnDocTableHeader__sortChange,.kbnDocTableHeader__sortChange:focus{opacity:1}.kbnDocTableHeader__actions{display:flex;align-items:center}.kbnDocTableCell__dataField{white-space:pre-wrap}.kbnDocTableCell__toggleDetails{padding:4px 0 0 0 !important}.kbnDocTableCell--extraWidth{width:1%}.kbnDocTableCell__filter{position:absolute;white-space:nowrap;right:0}.kbnDocTableCell__filterButton{font-size:12px;padding:4px}.kbnDocTableRowFilterButton{-webkit-appearance:none;appearance:none;background-color:#1D1E24;border:none;padding:0 4px;font-size:14px;line-height:1;display:inline-block;opacity:0}.kbnDocTableRowFilterButton:focus{opacity:1}.kbnDocTableDetails__actions{float:right;padding-top:8px}.kbnDocTableDetails__row>td{padding:24px !important}.kbnDocTableDetails__row>td tr:hover td{background:#1e1e25}.kbnDocTableDetails__row td{border-top:none !important}.kbnDocTableOpen__button{-webkit-appearance:none;appearance:none;background-color:transparent;padding:0;border:none;width:14px;height:14px}\n',""]),e.exports=t},180:function(e,t,o){var n=o(64),i=o(181);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},181:function(e,t,o){(t=o(65)(!1)).push([e.i,'.kbnDocTableWrapper{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;overflow:auto;display:flex;flex:1 1 100%;flex-direction:column}.kbnDocTableWrapper::-webkit-scrollbar{width:16px;height:16px}.kbnDocTableWrapper::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.kbnDocTableWrapper::-webkit-scrollbar-corner,.kbnDocTableWrapper::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.kbnDocTableWrapper th{text-align:left;font-weight:bold}.kbnDocTableWrapper .spinner{position:absolute;top:40%;left:0;right:0;z-index:1000;opacity:.5}.kbnDocTableWrapper .kbnDocTable__row{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;font-size:12px}.kbnDocTable__footer{background-color:#D3DAE6;padding:4px 8px;text-align:center}.kbnDocTable__container.loading{opacity:.5}.kbnDocTable th{white-space:nowrap;padding-right:8px}.kbn-table dl.source,.kbnDocTable dl.source{margin-bottom:0;line-height:2em;word-break:break-word}.kbn-table dl.source dt,.kbn-table dl.source dd,.kbnDocTable dl.source dt,.kbnDocTable dl.source dd{display:inline}.kbn-table dl.source dt,.kbnDocTable dl.source dt{background-color:rgba(0,95,163,0.1);color:#343741;padding:2px 4px;margin-right:4px;word-break:normal;border-radius:6px}.kbnDocTable__row td{position:relative}.kbnDocTable__row td:hover .kbnDocTableRowFilterButton{opacity:1}.kbnDocTable__row--highlight td,.kbnDocTable__row--highlight .kbnDocTableRowFilterButton{background-color:#e6f1fa}.kbnDocTable__error{display:flex;flex-direction:column;justify-content:center;flex:1 0 100%;text-align:center}.table .table{background-color:#fff}.kbn-table .table .table{margin-bottom:0}.kbn-table .table .table tr:first-child>td{border-top:none}.kbn-table .table .table td.field-name{font-weight:700}.dscTruncateByHeight{display:inline-block}.kbnDocTableHeader{white-space:nowrap}.kbnDocTableHeader button,.kbnDocTableHeader svg{margin-left:2px}.kbnDocTableHeader__move,.kbnDocTableHeader__sortChange{opacity:0}th:hover .kbnDocTableHeader__move,.kbnDocTableHeader__move:focus,th:hover .kbnDocTableHeader__sortChange,.kbnDocTableHeader__sortChange:focus{opacity:1}.kbnDocTableHeader__actions{display:flex;align-items:center}.kbnDocTableCell__dataField{white-space:pre-wrap}.kbnDocTableCell__toggleDetails{padding:4px 0 0 0 !important}.kbnDocTableCell--extraWidth{width:1%}.kbnDocTableCell__filter{position:absolute;white-space:nowrap;right:0}.kbnDocTableCell__filterButton{font-size:12px;padding:4px}.kbnDocTableRowFilterButton{-webkit-appearance:none;appearance:none;background-color:#fff;border:none;padding:0 4px;font-size:14px;line-height:1;display:inline-block;opacity:0}.kbnDocTableRowFilterButton:focus{opacity:1}.kbnDocTableDetails__actions{float:right;padding-top:8px}.kbnDocTableDetails__row>td{padding:24px !important}.kbnDocTableDetails__row>td tr:hover td{background:#fafbfd}.kbnDocTableDetails__row td{border-top:none !important}.kbnDocTableOpen__button{-webkit-appearance:none;appearance:none;background-color:transparent;padding:0;border:none;width:14px;height:14px}\n',""]),e.exports=t},187:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(188);case"v8light":return o(190)}},188:function(e,t,o){var n=o(64),i=o(189);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},189:function(e,t,o){(t=o(65)(!1)).push([e.i,".rowFormatter__value img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}\n",""]),e.exports=t},190:function(e,t,o){var n=o(64),i=o(191);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},191:function(e,t,o){(t=o(65)(!1)).push([e.i,".rowFormatter__value img{vertical-align:middle;max-height:1.14286rem !important;max-width:500px !important}\n",""]),e.exports=t},232:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(233);case"v8light":return o(235)}},233:function(e,t,o){var n=o(64),i=o(234);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},234:function(e,t,o){(t=o(65)(!1)).push([e.i,".dscViewModeToggle{padding-right:16px}.fieldStatsButton{display:flex;align-items:center}.fieldStatsBetaBadge{margin-left:4px}\n",""]),e.exports=t},235:function(e,t,o){var n=o(64),i=o(236);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},236:function(e,t,o){(t=o(65)(!1)).push([e.i,".dscViewModeToggle{padding-right:16px}.fieldStatsButton{display:flex;align-items:center}.fieldStatsBetaBadge{margin-left:4px}\n",""]),e.exports=t},69:function(e,t,o){"use strict";o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return a}));var n=o(9);function i(e,t){const o=t.getFieldByName(e);return!(!o||!o.sortable)}function r(e,t){return Array.isArray(e)?function(e){return 2===e.length&&"string"==typeof e[0]&&("desc"===e[1]||"asc"===e[1])}(e)?[{[e[0]]:e[1]}]:e.map((e=>function(e,t){if(Array.isArray(e)&&2===e.length&&i(String(e[0]),t)){const[t,o]=e;return{[t]:o}}if(Object(n.isPlainObject)(e)&&i(Object.keys(e)[0],t))return e}(e,t))).filter((e=>"object"==typeof e)):[]}function a(e,t){return r(e,t).reduce(((e,t)=>{const o=Object.entries(t);return o&&o[0]&&e.push(o[0]),e}),[])}},72:function(e,t,o){"use strict";o.d(t,"b",(function(){return n.b})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return r.a}));var n=o(69);function i(e,t,o="desc"){if(!e||!t||Array.isArray(e)&&0===e.length)return null!=t&&t.timeFieldName?[{_doc:o}]:[{_score:o}];const{timeFieldName:i}=t;return Object(n.a)(e,t).map((e=>t.isTimeNanosBased()&&i&&e[i]?{[i]:{order:e[i],numeric_type:"date_nanos"}}:e))}var r=o(73)},73:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(69);function i(e,t="desc",o=!1){return null!=e&&e.timeFieldName&&Object(n.c)(e.timeFieldName,e)&&!o?[[e.timeFieldName,t]]:[]}},79:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o(9),i=o(7);function r(e,t){if(!e.columns)return e;const o=!t.get(i.SEARCH_FIELDS_FROM_SOURCE),r=t.get(i.DEFAULT_COLUMNS_SETTING);if(o){let t=e.columns.filter((e=>"_source"!==e));return 0!==t.length||Object(n.isEqual)(r,["_source"])||(t=r,t=t.filter((e=>"_source"!==e))),{...e,columns:t}}if(0===e.columns.length){const t=r;return 0===t.length&&t.push("_source"),{...e,columns:[...t]}}return e}},80:function(e,t,o){"use strict";o.d(t,"b",(function(){return x})),o.d(t,"c",(function(){return p})),o.d(t,"a",(function(){return m}));var n=o(66),i=o.n(n),r=o(3),a=o.n(r),s=o(0),l=o(38),c=o(14),d=o(7),u=o(19);const b=Object(r.createContext)({onStartTour:()=>{},onNextTourStep:()=>{},onFinishTour:()=>{}}),p=()=>Object(r.useContext)(b),m={addFields:Object(c.htmlIdGenerator)("dsc-tour-step-add-fields")(),expandDocument:Object(c.htmlIdGenerator)("dsc-tour-step-expand")()},g={addFields:`#${m.addFields}`,reorderColumns:'[data-test-subj="dataGridColumnSelectorButton"]',sort:'[data-test-subj="dataGridColumnSortingButton"]',changeRowHeight:'[data-test-subj="dataGridDisplaySelectorButton"]',expandDocument:`#${m.expandDocument}`};var f=o(5);const j=[{anchor:g.addFields,title:s.i18n.translate("discover.dscTour.stepAddFields.title",{defaultMessage:"Add fields to the table"}),content:Object(f.jsx)(l.FormattedMessage,{id:"discover.dscTour.stepAddFields.description",defaultMessage:"Click {plusIcon} to add the fields that interest you.",values:{plusIcon:Object(f.jsx)(c.EuiIcon,{size:"s",type:"plusInCircleFilled",color:"primary","aria-label":"+"})}}),imageName:"add_fields.gif",imageAltText:s.i18n.translate("discover.dscTour.stepAddFields.imageAltText",{defaultMessage:"In the Available fields list, click the plus icon to toggle a field into the document table."})},{anchor:g.reorderColumns,title:s.i18n.translate("discover.dscTour.stepReorderColumns.title",{defaultMessage:"Order the table columns"}),content:Object(f.jsx)(l.FormattedMessage,{id:"discover.dscTour.stepReorderColumns.description",defaultMessage:"Drag columns to the order you want."}),imageName:"reorder_columns.gif",imageAltText:s.i18n.translate("discover.dscTour.stepReorderColumns.imageAltText",{defaultMessage:"Use the Columns popover to drag the columns to the order you prefer."})},{anchor:g.sort,title:s.i18n.translate("discover.dscTour.stepSort.title",{defaultMessage:"Sort on one or more fields"}),content:Object(f.jsx)(l.FormattedMessage,{id:"discover.dscTour.stepSort.description",defaultMessage:"Use the column heading to sort on a single field, or the popover for multiple fields."}),imageName:"sort.gif",imageAltText:s.i18n.translate("discover.dscTour.stepSort.imageAltText",{defaultMessage:"Click a column header and select the desired sort order. Adjust a multi-field sort using the fields sorted popover."})},{anchor:g.changeRowHeight,title:s.i18n.translate("discover.dscTour.stepChangeRowHeight.title",{defaultMessage:"Change the row height"}),content:Object(f.jsx)(l.FormattedMessage,{id:"discover.dscTour.stepChangeRowHeight.description",defaultMessage:"Adjust the number of lines to fit the contents."}),imageName:"rows_per_line.gif",imageAltText:s.i18n.translate("discover.dscTour.stepChangeRowHeight.imageAltText",{defaultMessage:"Click the display options icon to adjust the row height to fit the contents."})},{anchor:g.expandDocument,title:s.i18n.translate("discover.dscTour.stepExpand.title",{defaultMessage:"Expand documents"}),content:Object(f.jsx)(l.FormattedMessage,{id:"discover.dscTour.stepExpand.description",defaultMessage:"Click {expandIcon} to view, compare, and filter documents.",values:{expandIcon:Object(f.jsx)(c.EuiIcon,{size:"s",type:"expand",color:"text","aria-label":s.i18n.translate("discover.dscTour.stepExpand.expandIconAriaLabel",{defaultMessage:"Expand icon"})})}}),imageName:"expand.gif",imageAltText:s.i18n.translate("discover.dscTour.stepExpand.imageAltText",{defaultMessage:"Click the expand icon to inspect and filter the fields in the document and view the document in context."})}],h={currentTourStep:1,isTourActive:!1,tourPopoverWidth:350,tourSubtitle:""},x=({children:e})=>{const t=Object(u.a)().core.http.basePath.prepend,o=Object(r.useCallback)((e=>t(`/plugins/${d.PLUGIN_ID}/assets/discover_tour/${e}`)),[t]),n=Object(r.useMemo)((()=>((e,t)=>e.map(((e,o)=>({step:o+1,anchor:e.anchor,title:e.title,maxWidth:350,content:Object(f.jsx)(a.a.Fragment,null,Object(f.jsx)(c.EuiText,null,Object(f.jsx)("p",null,e.content)),e.imageName&&Object(f.jsx)(a.a.Fragment,null,Object(f.jsx)(c.EuiSpacer,{size:"m"}),Object(f.jsx)(c.EuiImage,{alt:e.imageAltText,src:t(e.imageName),size:"fullWidth"})))}))))(j,o)),[o]),[s,l,p]=Object(c.useEuiTour)(n,h),m=p.currentTourStep,g=p.isTourActive,x=Object(r.useCallback)((()=>{l.resetTour(),l.goToStep(1,!0)}),[l]),_=Object(r.useCallback)((()=>{const e=((e,t)=>{var o;const n=e.find((e=>e.step>t&&"string"==typeof e.anchor&&document.querySelector(e.anchor)));return null!==(o=null==n?void 0:n.step)&&void 0!==o?o:null})(s,m);e?l.goToStep(e):l.finishTour()}),[l,s,m]),O=Object(r.useCallback)((()=>{l.finishTour()}),[l]),w=Object(r.useMemo)((()=>({onStartTour:x,onNextTourStep:_,onFinishTour:O})),[x,_,O]);return Object(f.jsx)(b.Provider,{value:w},g&&s.map((e=>Object(f.jsx)(c.EuiTourStep,i()({key:`step-${e.step}-is-${String(e.isStepOpen)}`},e,{footerAction:Object(f.jsx)(v,{isLastStep:e.step===s[s.length-1].step,onNextTourStep:_,onFinishTour:O})})))),e)},v=({isLastStep:e,onNextTourStep:t,onFinishTour:o})=>{const n={size:"s",color:"success"};return Object(f.jsx)(c.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},!e&&Object(f.jsx)(c.EuiFlexItem,{grow:!1},Object(f.jsx)(c.EuiButtonEmpty,{color:"text",size:"xs",onClick:o,"data-test-subj":"discoverTourButtonSkip"},Object(c.EuiI18n)({token:"core.euiTourStep.skipTour",default:"Skip tour"}))),Object(f.jsx)(c.EuiFlexItem,{grow:!1},e?Object(f.jsx)(c.EuiButton,i()({},n,{onClick:o,"data-test-subj":"discoverTourButtonEnd"}),Object(c.EuiI18n)({token:"core.euiTourStep.endTour",default:"End tour"})):Object(f.jsx)(c.EuiButton,i()({},n,{onClick:t,"data-test-subj":"discoverTourButtonNext"}),Object(c.EuiI18n)({token:"core.euiTourStep.nextStep",default:"Next"}))))}},81:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(106);case"v8light":return o(108)}},82:function(e,t,o){"use strict";o.d(t,"a",(function(){return b})),o.d(t,"b",(function(){return p}));var n=o(3),i=o(41),r=o(174),a=o(50),s=o.n(a),l=o(42),c=o(54),d=o(19);const u=(e,t,o)=>e?o:"#"+t.pathname+t.search,b=()=>{var e;return Object(n.useRef)(null===(e=Object(i.useHistory)().location.state)||void 0===e?void 0:e.breadcrumb).current},p=({indexPatternId:e,rowIndex:t,rowId:o,columns:a,filterManager:b,addBasePath:p})=>{var m;const g=Object(i.useHistory)(),f=Object(d.a)().history().location,j=Object(n.useRef)(null==g||null===(m=g.location.state)||void 0===m?void 0:m.breadcrumb).current,h=Object(n.useMemo)((()=>((e,t)=>{const o=t.getGlobalFilters(),n=t.getAppFilters();return Object(r.stringify)(c.url.encodeQuery({_g:s.a.encode({filters:o||[]}),_a:s.a.encode({columns:e,filters:(n||[]).map(l.disableFilter)})}),{encode:!1,sort:!1})})(a,b)),[a,b]),x=p(`/app/discover#/doc/${e}/${t}?id=${encodeURIComponent(o)}`),v=p(`/app/discover#/context/${encodeURIComponent(e)}/${encodeURIComponent(o)}?${h}`);if(g){const n=Object(i.matchPath)(g.location.pathname,{path:"/context/:indexPatternId/:id",exact:!0});return{singleDocProps:{onClick:i=>{var r;null==i||null===(r=i.preventDefault)||void 0===r||r.call(i),g.push({pathname:`/doc/${e}/${t}`,search:`?id=${encodeURIComponent(o)}`,state:{breadcrumb:u(!!n,f,j)}})},href:x},surrDocsProps:{onClick:t=>{var i;null==t||null===(i=t.preventDefault)||void 0===i||i.call(t),g.push({pathname:`/context/${encodeURIComponent(e)}/${encodeURIComponent(String(o))}`,search:`?${h}`,state:{breadcrumb:u(!!n,f,j)}})},href:v}}}return{singleDocProps:{href:x},surrDocsProps:{href:v}}}},88:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return s}));var n=o(14),i=o(3),r=o(0),a=o(38);let s;!function(e){e.DOCUMENT_LEVEL="documents",e.AGGREGATED_LEVEL="aggregated"}(s||(s={})),o(232);var l=o(5);const c=({viewMode:e,setDiscoverViewMode:t})=>{const o=Object(i.useMemo)((()=>[{id:s.DOCUMENT_LEVEL,label:r.i18n.translate("discover.viewModes.document.label",{defaultMessage:"Documents"}),"data-test-subj":"dscViewModeDocumentButton"},{id:s.AGGREGATED_LEVEL,label:Object(l.jsx)("div",{className:"fieldStatsButton","data-test-subj":"dscViewModeFieldStatsButton"},Object(l.jsx)(a.FormattedMessage,{id:"discover.viewModes.fieldStatistics.label",defaultMessage:"Field statistics"}),Object(l.jsx)(n.EuiBetaBadge,{label:r.i18n.translate("discover.viewModes.fieldStatistics.betaTitle",{defaultMessage:"Beta"}),size:"s",className:"fieldStatsBetaBadge"}))}]),[]);return Object(l.jsx)(n.EuiButtonGroup,{className:"dscViewModeToggle",legend:r.i18n.translate("discover.viewModes.legend",{defaultMessage:"View modes"}),buttonSize:"compressed",options:o,idSelected:e,onChange:e=>t(e),"data-test-subj":"dscViewModeToggle"})}}}]);