(window.discover_bundle_jsonpfunction=window.discover_bundle_jsonpfunction||[]).push([[7],{105:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n(81);var o=n(3),i=n.n(o),r=n(0),s=n(45),a=n(14),c=n(20),u=n(5);const d=r.i18n.translate("discover.json.codeEditorAriaLabel",{defaultMessage:"Read only JSON view of an elasticsearch document"}),l=r.i18n.translate("discover.json.copyToClipboardLabel",{defaultMessage:"Copy to clipboard"}),f=({jsonValue:e,width:t,height:n,hasLineNumbers:o,onEditorDidMount:i,hideCopyButton:r})=>{if(""===e)return null;const f=Object(u.jsx)(c.CodeEditor,{languageId:s.XJsonLang.ID,width:t,height:n,value:e||"",editorDidMount:i,"aria-label":d,options:{automaticLayout:!0,fontSize:12,lineNumbers:o?"on":"off",minimap:{enabled:!1},overviewRulerBorder:!1,readOnly:!0,scrollbar:{alwaysConsumeMouseWheel:!1},scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent"}});return r?f:Object(u.jsx)(a.EuiFlexGroup,{className:"dscJsonCodeEditor",direction:"column",gutterSize:"s"},Object(u.jsx)(a.EuiFlexItem,null,Object(u.jsx)(a.EuiSpacer,{size:"s"}),Object(u.jsx)("div",{className:"eui-textRight"},Object(u.jsx)(a.EuiCopy,{textToCopy:e},(e=>Object(u.jsx)(a.EuiButtonEmpty,{size:"xs",flush:"right",iconType:"copyClipboard",onClick:e},l))))),Object(u.jsx)(a.EuiFlexItem,null,f))},p=i.a.memo((e=>Object(u.jsx)(f,e)))},106:function(e,t,n){var o=n(64),i=n(107);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},107:function(e,t,n){(t=n(65)(!1)).push([e.i,".dscJsonCodeEditor{width:100%}\n",""]),e.exports=t},108:function(e,t,n){var o=n(64),i=n(109);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},109:function(e,t,n){(t=n(65)(!1)).push([e.i,".dscJsonCodeEditor{width:100%}\n",""]),e.exports=t},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(3),i=n(21),r=n(78),s=n(7),a=n(19);function c({id:e,index:t,indexPattern:n,requestSource:c}){const[d,l]=Object(o.useState)(r.a.Loading),[f,p]=Object(o.useState)(null),{data:h,uiSettings:g}=Object(a.a)(),b=Object(o.useMemo)((()=>!g.get(s.SEARCH_FIELDS_FROM_SOURCE)),[g]),v=Object(o.useCallback)((async()=>{try{var o,s;const a=(await Object(i.lastValueFrom)(h.search.search({params:{index:n.title,body:null===(o=u(e,t,n,b,c))||void 0===o?void 0:o.body}}))).rawResponse.hits;null!=a&&null!==(s=a.hits)&&void 0!==s&&s[0]?(l(r.a.Found),p(a.hits[0])):l(r.a.NotFound)}catch(e){e.savedObjectId?l(r.a.NotFoundIndexPattern):404===e.status?l(r.a.NotFound):l(r.a.Error)}}),[e,t,n,h.search,b,c]);return Object(o.useEffect)((()=>{v()}),[v]),[d,f,v]}function u(e,t,n,o,i){var r;const s=n.getComputedFields(),a=s.runtimeFields,c={body:{query:{bool:{filter:[{ids:{values:[e]}},{term:{_index:t}}]}},stored_fields:s.storedFields,script_fields:s.scriptFields,version:!0}};if(c.body)return o?(c.body.fields=[{field:"*",include_unmapped:"true"}],c.body.runtime_mappings=a||{},i&&(c.body._source=!0)):c.body._source=!0,c.body.fields=[...(null===(r=c.body)||void 0===r?void 0:r.fields)||[],...s.docvalueFields||[]],c}},148:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(149);case"v8light":return n(151)}},149:function(e,t,n){var o=n(64),i=n(150);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},150:function(e,t,n){(t=n(65)(!1)).push([e.i,".sourceViewer__loading{display:flex;flex-direction:row;justify-content:left;flex:1 0 100%;text-align:center;height:100%;width:100%;margin-top:8px}.sourceViewer__loadingSpinner{margin-right:8px}\n",""]),e.exports=t},151:function(e,t,n){var o=n(64),i=n(152);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},152:function(e,t,n){(t=n(65)(!1)).push([e.i,".sourceViewer__loading{display:flex;flex-direction:row;justify-content:left;flex:1 0 100%;text-align:center;height:100%;width:100%;margin-top:8px}.sourceViewer__loadingSpinner{margin-right:8px}\n",""]),e.exports=t},290:function(e,t,n){"use strict";n.r(t),n(148);var o=n(3),i=n(38),r=n(14),s=n(0),a=n(19),c=n(105),u=n(7),d=n(110),l=n(78),f=n(45),p=n(5);t.default=({id:e,index:t,indexPattern:n,width:h,hasLineNumbers:g})=>{const[b,v]=Object(o.useState)(),[m,j]=Object(o.useState)(),[x,y]=Object(o.useState)(""),{uiSettings:O}=Object(a.a)(),w=!O.get(u.SEARCH_FIELDS_FROM_SOURCE),_=!O.get(u.DOC_TABLE_LEGACY),[E,S,C]=Object(d.a)({id:e,index:t,indexPattern:n,requestSource:w});Object(o.useEffect)((()=>{E===l.a.Found&&S&&y(JSON.stringify(S,void 0,2))}),[E,S]),Object(o.useEffect)((()=>{if(!b)return;if(!b.getDomNode())return;const e=function(e,t){const n=null==e?void 0:e.getDomNode();if(!n)return 0;let o;if(t){const e=n.getBoundingClientRect();o=window.innerHeight-e.top-25}else{var i;const t=e.getOption(f.monaco.editor.EditorOption.lineHeight),n=(null===(i=e.getModel())||void 0===i?void 0:i.getLineCount())||1,r=n>500?500:n;o=e.getTopForLineNumber(r+1)+t}return o>0?o:0}(b,_);0!==e&&j(x&&""!==x?e:0)}),[b,x,_,j]);const N=Object(p.jsx)("div",{className:"sourceViewer__loading"},Object(p.jsx)(r.EuiLoadingSpinner,{className:"sourceViewer__loadingSpinner"}),Object(p.jsx)(r.EuiText,{size:"xs",color:"subdued"},Object(p.jsx)(i.FormattedMessage,{id:"discover.loadingJSON",defaultMessage:"Loading JSON"}))),F=Object(p.jsx)("h2",null,s.i18n.translate("discover.sourceViewer.errorMessageTitle",{defaultMessage:"An Error Occurred"})),M=Object(p.jsx)("div",null,s.i18n.translate("discover.sourceViewer.errorMessage",{defaultMessage:"Could not fetch data at this time. Refresh the tab to try again."}),Object(p.jsx)(r.EuiSpacer,{size:"s"}),Object(p.jsx)(r.EuiButton,{iconType:"refresh",onClick:C},s.i18n.translate("discover.sourceViewer.refresh",{defaultMessage:"Refresh"}))),L=Object(p.jsx)(r.EuiEmptyPrompt,{iconType:"alert",title:F,body:M});return E===l.a.Error||E===l.a.NotFound?L:E===l.a.Loading||""===x?N:Object(p.jsx)(c.a,{jsonValue:x,width:h,height:m,hasLineNumbers:g,onEditorDidMount:e=>v(e)})}},64:function(e,t,n){"use strict";var o,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function s(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},o=[],i=0;i<e.length;i++){var a=e[i],c=t.base?a[0]+t.base:a[0],u=n[c]||0,d="".concat(c," ").concat(u);n[c]=u+1;var l=s(d),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==l?(r[l].references++,r[l].updater(f)):r.push({identifier:d,updater:g(f,t),references:1}),o.push(d)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function l(e,t,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function f(e,t,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,h=0;function g(e,t){var n,o,i;if(t.singleton){var r=h++;n=p||(p=c(t)),o=l.bind(null,n,r,!1),i=l.bind(null,n,r,!0)}else n=c(t),o=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var i=s(n[o]);r[i].references--}for(var c=a(e,t),u=0;u<n.length;u++){var d=s(n[u]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=c}}}},65:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,i,r=e[1]||"",s=e[3];if(!s)return r;if(t&&"function"==typeof btoa){var a=(n=s,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(i," */")),c=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[r].concat(c).concat([a]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},78:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e[e.Loading=0]="Loading",e[e.NotFound=1]="NotFound",e[e.Found=2]="Found",e[e.Error=3]="Error",e[e.NotFoundIndexPattern=4]="NotFoundIndexPattern"}(o||(o={}))},81:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(106);case"v8light":return n(108)}}}]);