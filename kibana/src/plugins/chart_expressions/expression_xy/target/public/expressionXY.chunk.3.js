(window.expressionXY_bundle_jsonpfunction=window.expressionXY_bundle_jsonpfunction||[]).push([[3],{27:function(r,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"c",(function(){return i})),t.d(e,"b",(function(){return l})),t.d(e,"d",(function(){return u})),t.d(e,"e",(function(){return f}));var o=t(18),s=t(1);const n=(r,e)=>`${r}-${e}`;function a(r,e){return r.filter((r=>void 0!==r)).map(((r,t)=>{return{...r,layerId:(o=r,o.layerId?r.layerId:n(e,t))};var o}))}function i(r){return r.filter((r=>r.layerType===s.r.DATA||!r.layerType))}function l(r,e){var t;let s=r.splitAccessor,n=r.xAccessor,a=null!==(t=r.accessors)&&void 0!==t?t:[],i=r.markSizeAccessor;if(!(s||n||a&&a.length||i)){var l,c,u,d;const r=null===(l=e.columns.find((r=>r.id===o.PointSeriesColumnNames.Y)))||void 0===l?void 0:l.id;n=null===(c=e.columns.find((r=>r.id===o.PointSeriesColumnNames.X)))||void 0===c?void 0:c.id,s=null===(u=e.columns.find((r=>r.id===o.PointSeriesColumnNames.COLOR)))||void 0===u?void 0:u.id,a=r?[r]:[],i=null===(d=e.columns.find((r=>r.id===o.PointSeriesColumnNames.SIZE)))||void 0===d?void 0:d.id}return{splitAccessor:s,xAccessor:n,accessors:a,markSizeAccessor:i}}var c=t(17);function u(r){return r.every((r=>{var e;return!(!r.xAccessor||"date"!==(null===(e=Object(c.getColumnByAccessor)(r.xAccessor,r.table.columns))||void 0===e?void 0:e.meta.type)||r.xScaleType&&r.xScaleType!==s.z.TIME)}))}var d=t(8),p=t.n(d);function f(r,e){const t=e&&Object(c.getColumnByAccessor)(e,r.columns);if(t&&"date"===(null==t?void 0:t.meta.type)){const e=t.id;if(!r.rows.some((r=>"string"==typeof r[e])))return r;const o=r.rows.map((r=>"string"!=typeof r[e]?r:{...r,[e]:p()(r[e]).valueOf()}));return{...r,rows:o}}return r}},31:function(r,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"c",(function(){return l})),t.d(e,"b",(function(){return c})),t.d(e,"d",(function(){return u})),t.d(e,"f",(function(){return d})),t.d(e,"g",(function(){return p})),t.d(e,"o",(function(){return f})),t.d(e,"e",(function(){return b})),t.d(e,"i",(function(){return h})),t.d(e,"j",(function(){return y})),t.d(e,"h",(function(){return v})),t.d(e,"n",(function(){return A})),t.d(e,"m",(function(){return O})),t.d(e,"k",(function(){return E})),t.d(e,"l",(function(){return x}));var o=t(0),s=t(21),n=t(1),a=t(27);const i={markSizeAccessorForNonLineOrAreaChartsError:()=>o.i18n.translate("expressionXY.reusable.function.dataLayer.errors.markSizeAccessorForNonLineOrAreaChartsError",{defaultMessage:"`markSizeAccessor` can't be used. Dots are applied only for line or area charts"}),markSizeRatioLimitsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeLimitsError",{defaultMessage:"Mark size ratio must be greater or equal to 1 and less or equal to 100"}),lineWidthForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.lineWidthForNonLineOrAreaChartError",{defaultMessage:"`lineWidth` can be applied only for line or area charts"}),showPointsForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.showPointsForNonLineOrAreaChartError",{defaultMessage:"`showPoints` can be applied only for line or area charts"}),pointsRadiusForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.pointsRadiusForNonLineOrAreaChartError",{defaultMessage:"`pointsRadius` can be applied only for line or area charts"}),markSizeRatioWithoutAccessor:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeRatioWithoutAccessor",{defaultMessage:"Mark size ratio can be applied only with `markSizeAccessor`"}),extendBoundsAreInvalidError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.extendBoundsAreInvalidError",{defaultMessage:"For area and bar modes, and custom extent mode, the lower bound should be less or greater than 0 and the upper bound - be greater or equal than 0"}),notUsedFillOpacityError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.notUsedFillOpacityError",{defaultMessage:"`fillOpacity` argument is applicable only for area charts."}),valueLabelsForNotBarsOrHistogramBarsChartsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.valueLabelsForNotBarsOrHistogramBarsChartsError",{defaultMessage:"`valueLabels` argument is applicable only for bar charts, which are not histograms."}),dataBoundsForNotLineChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.dataBoundsForNotLineChartError",{defaultMessage:"Only line charts can be fit to the data bounds"}),timeMarkerForNotTimeChartsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.timeMarkerForNotTimeChartsError",{defaultMessage:"Only time charts can have current time marker"}),isInvalidIntervalError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.isInvalidIntervalError",{defaultMessage:"Provided x-axis interval is invalid. The interval should include quantity and unit names. Examples: 1d, 24h, 1w."}),minTimeBarIntervalNotForTimeBarChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.minTimeBarIntervalNotForTimeBarChartError",{defaultMessage:"`minTimeBarInterval` argument is applicable only for time bar charts."})},l=r=>r.filter((({seriesType:r})=>r.includes("bar"))).length>0,c=r=>r.filter((({seriesType:r})=>r.includes("area"))).length>0,u=r=>r.filter((({seriesType:r,isHistogram:e})=>r.includes("bar")&&e)).length>0,d=(r,e,t)=>{if(r.mode===n.e.CUSTOM&&e&&!(r=>{const e=void 0===r.lowerBound||void 0!==r.lowerBound&&r.lowerBound<=0,t=void 0===r.upperBound||void 0!==r.upperBound&&r.upperBound>=0;return e&&t})(r))throw new Error(i.extendBoundsAreInvalidError());((r,e)=>{if(!e.filter((({seriesType:r})=>r.includes("line"))).length&&r.mode===n.e.DATA_BOUNDS)throw new Error(i.dataBoundsForNotLineChartError())})(r,t)},p=(r,e)=>{if(void 0!==r&&!e)throw new Error(i.notUsedFillOpacityError())},f=(r,e,t)=>{if(!(e&&t||r===n.y.HIDE))throw new Error(i.valueLabelsForNotBarsOrHistogramBarsChartsError())},m=r=>r.includes("line")||r.includes("area"),b=(r,e)=>{if(e&&!Object(a.d)(r))throw new Error(i.timeMarkerForNotTimeChartsError())},h=(r,e)=>{if(r&&!e.includes("line")&&!e.includes("area"))throw new Error(i.markSizeAccessorForNonLineOrAreaChartsError())},y=r=>{if(void 0!==r&&(r<1||r>100))throw new Error(i.markSizeRatioLimitsError())},v=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(i.lineWidthForNonLineOrAreaChartError())},A=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(i.showPointsForNonLineOrAreaChartError())},O=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(i.pointsRadiusForNonLineOrAreaChartError())},E=(r,e)=>{if(void 0!==r&&!e)throw new Error(i.markSizeRatioWithoutAccessor())},x=(r,e,t)=>{if(t){if(!Object(s.isValidInterval)(t))throw new Error(i.isInvalidIntervalError());if(!e||!Object(a.d)(r))throw new Error(i.minTimeBarIntervalNotForTimeBarChartError())}}},34:function(r,e,t){"use strict";t.d(e,"b",(function(){return a})),t.d(e,"a",(function(){return i}));var o=t(17),s=t(1),n=t(2);const a=(r,e)=>{var t;null!=e&&null!==(t=e.inspectorAdapters)&&void 0!==t&&t.tables&&(e.inspectorAdapters.tables.reset(),e.inspectorAdapters.tables.allowCsvExport=!0,r.forEach((r=>{if(r.layerType===s.r.ANNOTATIONS||r.type===s.t)return;const t=Object(o.prepareLogTable)(r.table,i(r),!0);e.inspectorAdapters.tables.logDatatable(r.layerId,t)})))},i=r=>{let e,t;r.layerType===s.r.DATA&&(e=r.xAccessor,t=r.splitAccessor);const{accessors:o,layerType:a}=r;return[[o||void 0,a===s.r.DATA?n.a.getMetricHelp():n.a.getReferenceLineHelp()],[e?[e]:void 0,n.a.getXAxisHelp()],[t?[t]:void 0,n.a.getBreakdownHelp()]]}},50:function(r,e,t){"use strict";t.r(e),t.d(e,"xyVisFn",(function(){return c}));var o=t(17),s=t(1),n=t(27),a=t(34),i=t(31);const l=(r,e)=>{const t=Object(n.b)(r,e),o=Object(n.e)(e,t.xAccessor);return{type:s.f,seriesType:r.seriesType,hide:r.hide,columnToLabel:r.columnToLabel,xScaleType:r.xScaleType,isHistogram:r.isHistogram,palette:r.palette,yConfig:r.yConfig,showPoints:r.showPoints,pointsRadius:r.pointsRadius,lineWidth:r.lineWidth,layerType:s.r.DATA,table:o,...t}},c=async(r,e,t)=>{var c,u,d,p,f;Object(o.validateAccessor)(e.splitRowAccessor,r.columns),Object(o.validateAccessor)(e.splitColumnAccessor,r.columns);const{referenceLines:m=[],annotationLayers:b=[],seriesType:h,accessors:y,xAccessor:v,hide:A,splitAccessor:O,columnToLabel:E,xScaleType:x,isHistogram:T,yConfig:g,palette:w,markSizeAccessor:C,showPoints:L,pointsRadius:j,lineWidth:S,...N}=e,k=[l(e,r)];Object(o.validateAccessor)(k[0].xAccessor,r.columns),Object(o.validateAccessor)(k[0].splitAccessor,r.columns),k[0].accessors.forEach((e=>Object(o.validateAccessor)(e,r.columns))),Object(i.i)(k[0].markSizeAccessor,e.seriesType),Object(o.validateAccessor)(k[0].markSizeAccessor,r.columns);const B=[...Object(n.a)(k,"dataLayers"),...Object(n.a)(m,"referenceLines"),...Object(n.a)(b,"annotationLayers")];if(t.inspectorAdapters.tables){t.inspectorAdapters.tables.reset(),t.inspectorAdapters.tables.allowCsvExport=!0;const e=B.reduce(((r,e)=>e.layerType===s.r.ANNOTATIONS||e.type===s.t?r:[...r,...Object(a.a)(e)]),[]),n=Object(o.prepareLogTable)(r,e,!0);t.inspectorAdapters.tables.logDatatable("default",n)}const F=Object(i.c)(k),z=Object(i.b)(k);Object(i.f)(e.yLeftExtent,F||z,k),Object(i.f)(e.yRightExtent,F||z,k),Object(i.g)(e.fillOpacity,z),Object(i.e)(k,e.addTimeMarker),Object(i.l)(k,F,e.minTimeBarInterval);const I=!Object(i.d)(k);return Object(i.o)(e.valueLabels,F,I),Object(i.k)(e.markSizeRatio,k[0].markSizeAccessor),Object(i.j)(e.markSizeRatio),Object(i.h)(S,e.seriesType),Object(i.n)(L,e.seriesType),Object(i.m)(j,e.seriesType),{type:"render",as:s.C,value:{args:{...N,layers:B,markSizeRatio:k[0].markSizeAccessor&&!e.markSizeRatio?10:e.markSizeRatio,ariaLabel:null!==(c=null!==(u=e.ariaLabel)&&void 0!==u?u:null===(d=t.variables)||void 0===d?void 0:d.embeddableTitle)&&void 0!==c?c:null===(p=t.getExecutionContext)||void 0===p||null===(f=p.call(t))||void 0===f?void 0:f.description}}}}}}]);