(window.expressionXY_bundle_jsonpfunction=window.expressionXY_bundle_jsonpfunction||[]).push([[2],{27:function(r,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return p}));var o=n(18),t=n(1);const i=(r,e)=>`${r}-${e}`;function a(r,e){return r.filter((r=>void 0!==r)).map(((r,n)=>{return{...r,layerId:(o=r,o.layerId?r.layerId:i(e,n))};var o}))}function s(r){return r.filter((r=>r.layerType===t.r.DATA||!r.layerType))}function l(r,e){var n;let t=r.splitAccessor,i=r.xAccessor,a=null!==(n=r.accessors)&&void 0!==n?n:[],s=r.markSizeAccessor;if(!(t||i||a&&a.length||s)){var l,u,c,d;const r=null===(l=e.columns.find((r=>r.id===o.PointSeriesColumnNames.Y)))||void 0===l?void 0:l.id;i=null===(u=e.columns.find((r=>r.id===o.PointSeriesColumnNames.X)))||void 0===u?void 0:u.id,t=null===(c=e.columns.find((r=>r.id===o.PointSeriesColumnNames.COLOR)))||void 0===c?void 0:c.id,a=r?[r]:[],s=null===(d=e.columns.find((r=>r.id===o.PointSeriesColumnNames.SIZE)))||void 0===d?void 0:d.id}return{splitAccessor:t,xAccessor:i,accessors:a,markSizeAccessor:s}}var u=n(17);function c(r){return r.every((r=>{var e;return!(!r.xAccessor||"date"!==(null===(e=Object(u.getColumnByAccessor)(r.xAccessor,r.table.columns))||void 0===e?void 0:e.meta.type)||r.xScaleType&&r.xScaleType!==t.z.TIME)}))}var d=n(8),f=n.n(d);function p(r,e){const n=e&&Object(u.getColumnByAccessor)(e,r.columns);if(n&&"date"===(null==n?void 0:n.meta.type)){const e=n.id;if(!r.rows.some((r=>"string"==typeof r[e])))return r;const o=r.rows.map((r=>"string"!=typeof r[e]?r:{...r,[e]:f()(r[e]).valueOf()}));return{...r,rows:o}}return r}},31:function(r,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"o",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return b})),n.d(e,"h",(function(){return y})),n.d(e,"n",(function(){return E})),n.d(e,"m",(function(){return A})),n.d(e,"k",(function(){return w})),n.d(e,"l",(function(){return x}));var o=n(0),t=n(21),i=n(1),a=n(27);const s={markSizeAccessorForNonLineOrAreaChartsError:()=>o.i18n.translate("expressionXY.reusable.function.dataLayer.errors.markSizeAccessorForNonLineOrAreaChartsError",{defaultMessage:"`markSizeAccessor` can't be used. Dots are applied only for line or area charts"}),markSizeRatioLimitsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeLimitsError",{defaultMessage:"Mark size ratio must be greater or equal to 1 and less or equal to 100"}),lineWidthForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.lineWidthForNonLineOrAreaChartError",{defaultMessage:"`lineWidth` can be applied only for line or area charts"}),showPointsForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.showPointsForNonLineOrAreaChartError",{defaultMessage:"`showPoints` can be applied only for line or area charts"}),pointsRadiusForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.pointsRadiusForNonLineOrAreaChartError",{defaultMessage:"`pointsRadius` can be applied only for line or area charts"}),markSizeRatioWithoutAccessor:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeRatioWithoutAccessor",{defaultMessage:"Mark size ratio can be applied only with `markSizeAccessor`"}),extendBoundsAreInvalidError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.extendBoundsAreInvalidError",{defaultMessage:"For area and bar modes, and custom extent mode, the lower bound should be less or greater than 0 and the upper bound - be greater or equal than 0"}),notUsedFillOpacityError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.notUsedFillOpacityError",{defaultMessage:"`fillOpacity` argument is applicable only for area charts."}),valueLabelsForNotBarsOrHistogramBarsChartsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.valueLabelsForNotBarsOrHistogramBarsChartsError",{defaultMessage:"`valueLabels` argument is applicable only for bar charts, which are not histograms."}),dataBoundsForNotLineChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.dataBoundsForNotLineChartError",{defaultMessage:"Only line charts can be fit to the data bounds"}),timeMarkerForNotTimeChartsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.timeMarkerForNotTimeChartsError",{defaultMessage:"Only time charts can have current time marker"}),isInvalidIntervalError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.isInvalidIntervalError",{defaultMessage:"Provided x-axis interval is invalid. The interval should include quantity and unit names. Examples: 1d, 24h, 1w."}),minTimeBarIntervalNotForTimeBarChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.minTimeBarIntervalNotForTimeBarChartError",{defaultMessage:"`minTimeBarInterval` argument is applicable only for time bar charts."})},l=r=>r.filter((({seriesType:r})=>r.includes("bar"))).length>0,u=r=>r.filter((({seriesType:r})=>r.includes("area"))).length>0,c=r=>r.filter((({seriesType:r,isHistogram:e})=>r.includes("bar")&&e)).length>0,d=(r,e,n)=>{if(r.mode===i.e.CUSTOM&&e&&!(r=>{const e=void 0===r.lowerBound||void 0!==r.lowerBound&&r.lowerBound<=0,n=void 0===r.upperBound||void 0!==r.upperBound&&r.upperBound>=0;return e&&n})(r))throw new Error(s.extendBoundsAreInvalidError());((r,e)=>{if(!e.filter((({seriesType:r})=>r.includes("line"))).length&&r.mode===i.e.DATA_BOUNDS)throw new Error(s.dataBoundsForNotLineChartError())})(r,n)},f=(r,e)=>{if(void 0!==r&&!e)throw new Error(s.notUsedFillOpacityError())},p=(r,e,n)=>{if(!(e&&n||r===i.y.HIDE))throw new Error(s.valueLabelsForNotBarsOrHistogramBarsChartsError())},m=r=>r.includes("line")||r.includes("area"),h=(r,e)=>{if(e&&!Object(a.d)(r))throw new Error(s.timeMarkerForNotTimeChartsError())},v=(r,e)=>{if(r&&!e.includes("line")&&!e.includes("area"))throw new Error(s.markSizeAccessorForNonLineOrAreaChartsError())},b=r=>{if(void 0!==r&&(r<1||r>100))throw new Error(s.markSizeRatioLimitsError())},y=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(s.lineWidthForNonLineOrAreaChartError())},E=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(s.showPointsForNonLineOrAreaChartError())},A=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(s.pointsRadiusForNonLineOrAreaChartError())},w=(r,e)=>{if(void 0!==r&&!e)throw new Error(s.markSizeRatioWithoutAccessor())},x=(r,e,n)=>{if(n){if(!Object(t.isValidInterval)(n))throw new Error(s.isInvalidIntervalError());if(!e||!Object(a.d)(r))throw new Error(s.minTimeBarIntervalNotForTimeBarChartError())}}},34:function(r,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var o=n(17),t=n(1),i=n(2);const a=(r,e)=>{var n;null!=e&&null!==(n=e.inspectorAdapters)&&void 0!==n&&n.tables&&(e.inspectorAdapters.tables.reset(),e.inspectorAdapters.tables.allowCsvExport=!0,r.forEach((r=>{if(r.layerType===t.r.ANNOTATIONS||r.type===t.t)return;const n=Object(o.prepareLogTable)(r.table,s(r),!0);e.inspectorAdapters.tables.logDatatable(r.layerId,n)})))},s=r=>{let e,n;r.layerType===t.r.DATA&&(e=r.xAccessor,n=r.splitAccessor);const{accessors:o,layerType:a}=r;return[[o||void 0,a===t.r.DATA?i.a.getMetricHelp():i.a.getReferenceLineHelp()],[e?[e]:void 0,i.a.getXAxisHelp()],[n?[n]:void 0,i.a.getBreakdownHelp()]]}},51:function(r,e,n){"use strict";n.r(e),n.d(e,"layeredXyVisFn",(function(){return s}));var o=n(1),t=n(34),i=n(31),a=n(27);const s=async(r,e,n)=>{var s,l,u,c,d,f;const p=Object(a.a)(null!==(s=e.layers)&&void 0!==s?s:[],"layers");Object(t.b)(p,n);const m=Object(a.c)(p),h=Object(i.c)(m);Object(i.e)(m,e.addTimeMarker),Object(i.j)(e.markSizeRatio),Object(i.l)(m,h,e.minTimeBarInterval);const v=m.filter((r=>void 0!==r.markSizeAccessor)).length>0;if(!v&&void 0!==e.markSizeRatio)throw new Error(i.a.markSizeRatioWithoutAccessor());return{type:"render",as:o.C,value:{args:{...e,layers:p,markSizeRatio:v&&!e.markSizeRatio?10:e.markSizeRatio,ariaLabel:null!==(l=null!==(u=e.ariaLabel)&&void 0!==u?u:null===(c=n.variables)||void 0===c?void 0:c.embeddableTitle)&&void 0!==l?l:null===(d=n.getExecutionContext)||void 0===d||null===(f=d.call(n))||void 0===f?void 0:f.description}}}}}}]);