(window.expressionXY_bundle_jsonpfunction=window.expressionXY_bundle_jsonpfunction||[]).push([[1,4],Array(27).concat([function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var o=n(18),i=n(1);const a=(e,t)=>`${e}-${t}`;function s(e,t){return e.filter((e=>void 0!==e)).map(((e,n)=>{return{...e,layerId:(o=e,o.layerId?e.layerId:a(t,n))};var o}))}function l(e){return e.filter((e=>e.layerType===i.r.DATA||!e.layerType))}function r(e,t){var n;let i=e.splitAccessor,a=e.xAccessor,s=null!==(n=e.accessors)&&void 0!==n?n:[],l=e.markSizeAccessor;if(!(i||a||s&&s.length||l)){var r,c,d,u;const e=null===(r=t.columns.find((e=>e.id===o.PointSeriesColumnNames.Y)))||void 0===r?void 0:r.id;a=null===(c=t.columns.find((e=>e.id===o.PointSeriesColumnNames.X)))||void 0===c?void 0:c.id,i=null===(d=t.columns.find((e=>e.id===o.PointSeriesColumnNames.COLOR)))||void 0===d?void 0:d.id,s=e?[e]:[],l=null===(u=t.columns.find((e=>e.id===o.PointSeriesColumnNames.SIZE)))||void 0===u?void 0:u.id}return{splitAccessor:i,xAccessor:a,accessors:s,markSizeAccessor:l}}var c=n(17);function d(e){return e.every((e=>{var t;return!(!e.xAccessor||"date"!==(null===(t=Object(c.getColumnByAccessor)(e.xAccessor,e.table.columns))||void 0===t?void 0:t.meta.type)||e.xScaleType&&e.xScaleType!==i.z.TIME)}))}var u=n(8),m=n.n(u);function f(e,t){const n=t&&Object(c.getColumnByAccessor)(t,e.columns);if(n&&"date"===(null==n?void 0:n.meta.type)){const t=n.id;if(!e.rows.some((e=>"string"==typeof e[t])))return e;const o=e.rows.map((e=>"string"!=typeof e[t]?e:{...e,[t]:m()(e[t]).valueOf()}));return{...e,rows:o}}return e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n(1);const i=e=>e.layerType===o.r.DATA||!e.layerType,a=e=>(e||[]).filter((e=>i(e))),s=e=>e.layerType===o.r.REFERENCELINE&&e.type===o.u,l=e=>e.type===o.t,r=e=>e.type===o.v,c=e=>(e||[]).filter((e=>s(e)||l(e))),d=e=>(e=>e.layerType===o.r.ANNOTATIONS)(e),u=e=>(e||[]).filter((e=>d(e)))},function(e,t,n){"use strict";var o,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],i=0;i<e.length;i++){var l=e[i],r=t.base?l[0]+t.base:l[0],c=n[r]||0,d="".concat(r," ").concat(c);n[r]=c+1;var u=s(d),m={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(a[u].references++,a[u].updater(m)):a.push({identifier:d,updater:p(m,t),references:1}),o.push(d)}return o}function r(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function m(e,t,n){var o=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,v=0;function p(e,t){var n,o,i;if(t.singleton){var a=v++;n=f||(f=r(t)),o=u.bind(null,n,a,!1),i=u.bind(null,n,a,!0)}else n=r(t),o=m.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var i=s(n[o]);a[i].references--}for(var r=l(e,t),c=0;c<n.length;c++){var d=s(n[c]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=r}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,i,a=e[1]||"",s=e[3];if(!s)return a;if(t&&"function"==typeof btoa){var l=(n=s,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(i," */")),r=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(r).concat([l]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var r=[].concat(e[l]);o&&i[r[0]]||(n&&(r[2]?r[2]="".concat(n," and ").concat(r[2]):r[2]=n),t.push(r))}},t}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(17),i=n(28);function a(e){return e.filter((e=>{let t,n,a,s=[];return(Object(i.e)(e)||Object(i.f)(e))&&(t=e.table,s=e.accessors),Object(i.e)(e)&&(n=e.xAccessor&&t&&Object(o.getAccessorByDimension)(e.xAccessor,t.columns),a=e.splitAccessor&&t&&Object(o.getAccessorByDimension)(e.splitAccessor,t.columns)),!(!s.length||!t||0===t.rows.length||n&&t.rows.every((e=>n&&void 0===e[n]))||!n&&a&&t.rows.every((e=>a&&void 0===e[a])))}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"calculateMinInterval",(function(){return r}));var o=n(22),i=n(17),a=n(27),s=n(32),l=n(28);function r({args:{layers:e,minTimeBarInterval:t}}){var n;const r=Object(s.a)(e);if(0===r.length)return;const c=Object(a.d)(Object(l.b)(r)),d=Object(l.e)(r[0])&&r[0].xAccessor&&Object(i.getColumnByAccessor)(r[0].xAccessor,r[0].table.columns);if(!d)return;var u;if(t)return null===(u=o.search.aggs.parseInterval(t))||void 0===u?void 0:u.as("milliseconds");if(!c){const e=o.search.aggs.getNumberHistogramIntervalByDatatableColumn(d);return"number"==typeof e?e:void 0}const m=null===(n=o.search.aggs.getDateHistogramMetaDataByDatatableColumn(d))||void 0===n?void 0:n.interval;if(!m)return;const f=o.search.aggs.parseInterval(m);return f?f.as("milliseconds"):void 0}},,function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(36);case"v8light":return n(38)}},function(e,t,n){var o=n(29),i=n(37);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(30)(!1)).push([e.i,".xyDecorationRotatedWrapper{display:inline-block;overflow:hidden;line-height:1.5}.xyDecorationRotatedWrapper .xyDecorationRotatedWrapper__label{display:inline-block;white-space:nowrap;transform:translate(0, 100%) rotate(-90deg);transform-origin:0 0}.xyDecorationRotatedWrapper .xyDecorationRotatedWrapper__label::after{content:'';float:left;margin-top:100%}\n",""]),e.exports=t},function(e,t,n){var o=n(29),i=n(39);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(30)(!1)).push([e.i,".xyDecorationRotatedWrapper{display:inline-block;overflow:hidden;line-height:1.5}.xyDecorationRotatedWrapper .xyDecorationRotatedWrapper__label{display:inline-block;white-space:nowrap;transform:translate(0, 100%) rotate(-90deg);transform-origin:0 0}.xyDecorationRotatedWrapper .xyDecorationRotatedWrapper__label::after{content:'';float:left;margin-top:100%}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(41);case"v8light":return n(43)}},function(e,t,n){var o=n(29),i=n(42);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(30)(!1)).push([e.i,".xyAnnotationNumberIcon{border-radius:16px;min-width:16px;height:16px;background-color:currentColor}.xyAnnotationNumberIcon__text{font-weight:500;font-size:9px;letter-spacing:-.5px;line-height:11px}.xyAnnotationIcon_rotate90{transform:rotate(45deg);transform-origin:center}.xyAnnotationTooltipDetail{padding:4px 8px}\n",""]),e.exports=t},function(e,t,n){var o=n(29),i=n(44);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(30)(!1)).push([e.i,".xyAnnotationNumberIcon{border-radius:16px;min-width:16px;height:16px;background-color:currentColor}.xyAnnotationNumberIcon__text{font-weight:500;font-size:9px;letter-spacing:-.5px;line-height:11px}.xyAnnotationIcon_rotate90{transform:rotate(45deg);transform-origin:center}.xyAnnotationTooltipDetail{padding:4px 8px}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(46);case"v8light":return n(48)}},function(e,t,n){var o=n(29),i=n(47);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(30)(!1)).push([e.i,".xyChart__empty{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}\n",""]),e.exports=t},function(e,t,n){var o=n(29),i=n(49);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);o(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(30)(!1)).push([e.i,".xyChart__empty{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}\n",""]),e.exports=t},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"XYChartReportable",(function(){return ue})),n.d(t,"XYChart",(function(){return me}));var o=n(12),i=n.n(o),a=n(3),s=n(20),l=n(9),r=n(17),c=n(4),d=n(27),u=(n(33),n(32)),m=n(28),f=n(1);function v(e){return e?a.Fit[e]:a.Fit.None}function p(e){return e===f.j.NEAREST?a.Fit[e]:e===f.j.ZERO?0:void 0}function b(e,t){return{type:v(e),endValue:p(t)}}const h=(e,t)=>{var n;const o=null===(n=Object(r.getColumnByAccessor)(t,e))||void 0===n?void 0:n.meta.type;return Object(r.getFormatByAccessor)(t,e,o?{id:o}:void 0)};function g(e,t){return e.id===t.id}var y=n(0),x=n(7),j=n.n(x),A=n(5),O=n(23),C=n.n(O);function I(e){return null!=e&&"empty"!==e}const w=[{value:f.d.EMPTY,label:y.i18n.translate("expressionXY.xyChart.iconSelect.noIconLabel",{defaultMessage:"None"})},{value:f.d.ASTERISK,label:y.i18n.translate("expressionXY.xyChart.iconSelect.asteriskIconLabel",{defaultMessage:"Asterisk"})},{value:f.d.ALERT,label:y.i18n.translate("expressionXY.xyChart.iconSelect.alertIconLabel",{defaultMessage:"Alert"})},{value:f.d.BELL,label:y.i18n.translate("expressionXY.xyChart.iconSelect.bellIconLabel",{defaultMessage:"Bell"})},{value:f.d.BOLT,label:y.i18n.translate("expressionXY.xyChart.iconSelect.boltIconLabel",{defaultMessage:"Bolt"})},{value:f.d.BUG,label:y.i18n.translate("expressionXY.xyChart.iconSelect.bugIconLabel",{defaultMessage:"Bug"})},{value:f.d.CIRCLE,label:y.i18n.translate("expressionXY.xyChart.iconSelect.circleIconLabel",{defaultMessage:"Circle"}),icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("circle",{strokeWidth:"1",stroke:"currentColor",cx:"8",cy:"8",className:C()("lensAnnotationIconNoFill",n.className),r:"7"})),canFill:!0},{value:f.d.EDITOR_COMMENT,label:y.i18n.translate("expressionXY.xyChart.iconSelect.commentIconLabel",{defaultMessage:"Comment"})},{value:f.d.FLAG,label:y.i18n.translate("expressionXY.xyChart.iconSelect.flagIconLabel",{defaultMessage:"Flag"})},{value:f.d.HEART,label:y.i18n.translate("expressionXY.xyChart.iconSelect.heartLabel",{defaultMessage:"Heart"})},{value:f.d.MAP_MARKER,label:y.i18n.translate("expressionXY.xyChart.iconSelect.mapMarkerLabel",{defaultMessage:"Map Marker"})},{value:f.d.PIN_FILLED,label:y.i18n.translate("expressionXY.xyChart.iconSelect.mapPinLabel",{defaultMessage:"Map Pin"})},{value:f.d.STAR_EMPTY,label:y.i18n.translate("expressionXY.xyChart.iconSelect.starLabel",{defaultMessage:"Star"})},{value:f.d.TAG,label:y.i18n.translate("expressionXY.xyChart.iconSelect.tagIconLabel",{defaultMessage:"Tag"})},{value:f.d.TRIANGLE,label:y.i18n.translate("expressionXY.xyChart.iconSelect.triangleIconLabel",{defaultMessage:"Triangle"}),icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{strokeWidth:"1",stroke:"currentColor",d:"M 6.9 11.612 C 7.64533 12.7953 8.39067 12.7953 9.136 11.612 L 13.11 5.3 C 13.8553 4.11667 13.4827 3.525 11.992 3.525 L 4.044 3.525 C 2.55333 3.525 2.18067 4.11667 2.926 5.3 Z",className:C()("lensAnnotationIconNoFill",n.className)})),shouldRotate:!0,canFill:!0}];var T=n(19),S=n(24);S.euiLightVars.euiColorDarkShade;var _=n(25);const M=({label:e,onFilter:t,context:n})=>{const[i,s]=Object(o.useState)(!1),[l,r]=Object(a.useLegendAction)(),c=[{id:"main",title:e,items:[{name:y.i18n.translate("expressionXY.legend.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),"data-test-subj":`legend-${e}-filterIn`,icon:Object(A.jsx)(_.EuiIcon,{type:"plusInCircle",size:"m"}),onClick:()=>{s(!1),t(n)}},{name:y.i18n.translate("expressionXY.legend.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),"data-test-subj":`legend-${e}-filterOut`,icon:Object(A.jsx)(_.EuiIcon,{type:"minusInCircle",size:"m"}),onClick:()=>{s(!1),t({...n,negate:!0})}}]}],d=Object(A.jsx)("div",{tabIndex:0,ref:l,role:"button","aria-pressed":"false",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginLeft:4,marginRight:4},"data-test-subj":`legend-${e}`,onKeyPress:()=>s(!i),onClick:()=>s(!i)},Object(A.jsx)(_.EuiIcon,{size:"s",type:"boxesVertical"}));return Object(A.jsx)(_.EuiPopover,{id:"contextMenuNormal",button:d,isOpen:i,closePopover:()=>{s(!1),r()},panelPaddingSize:"none",anchorPosition:"upLeft",title:y.i18n.translate("expressionXY.legend.filterOptionsLegend",{defaultMessage:"{legendDataLabel}, filter options",values:{legendDataLabel:e}})},Object(A.jsx)(_.EuiContextMenu,{initialPanelId:"main",panels:c}))};function L(e,t,n){if("auto"===e){if("bottom"===n)return a.Position.Top;if(t)return"left"===n?t.right?a.Position.Left:a.Position.Right:t.left?a.Position.Right:a.Position.Left}return"left"===e?a.Position.Left:"right"===e?a.Position.Right:"below"===e?a.Position.Bottom:a.Position.Top}n(35);const B=e=>"bottom"===e?void 0:"right"===e?"right":"left",E=(e,t,n,o,i)=>{const a={};return null!=t&&t.x||null!=n&&n.x||!e.bottom||(a[i?W("bottom"):"bottom"]=e.bottom),!e.left||!i&&(null!=t&&t.yLeft||null!=n&&n.yLeft)||(a[i?W("left"):"left"]=e.left),!e.right||!i&&o.right&&(null!=t&&t.yRight||null!=n&&n.yRight)||(a[i?W("right"):"right"]=e.right),e.top&&(a[i?W("top"):"top"]=e.top),a},N=({config:e,axesMap:t,formatter:n,paddingMap:o,isHorizontal:s})=>{const{id:l,axisMode:r,iconPosition:c,name:d,textVisibility:u,value:m,fill:f,color:v}=e,p=B(r),b=S.euiLightVars.euiColorDarkShade,h=o[L(c,t,r)]===Y,g=((e,t,n,o,i,a)=>{const s=L(e.iconPosition,n,e.axisMode),l=o[s]===Y;return{groupId:i,marker:Object(A.jsx)(G,{config:e,label:t.markerLabel,isHorizontal:a,hasReducedPadding:l}),markerBody:Object(A.jsx)($,{label:t.markerBodyLabel,isHorizontal:!a&&"bottom"===e.axisMode||a&&"bottom"!==e.axisMode}),markerPosition:a?W(s):s}})(e,{markerLabel:d,markerBodyLabel:u&&!h?d:void 0},t,o,p,s),y=(e=>({strokeWidth:e.lineWidth||1,stroke:e.color||S.euiLightVars.euiColorDarkShade,dash:"dashed"===e.lineStyle?[3*(e.lineWidth||1),e.lineWidth||1]:"dotted"===e.lineStyle?[e.lineWidth||1,e.lineWidth||1]:void 0}))(e),x={dataValue:m,header:d,details:(null==n?void 0:n.convert(m))||m.toString()},O=Object(A.jsx)(a.LineAnnotation,j()({},g,{id:`${l}-line`,key:`${l}-line`,dataValues:[x],domainType:"bottom"===r?a.AnnotationDomainType.XDomain:a.AnnotationDomainType.YDomain,style:{line:{...y,opacity:1}}}));let C;if(f&&"none"!==f){const t=((e,t)=>{const{name:n,value:o,nextValue:i,fill:a,axisMode:s}=e,l="above"===a;return"bottom"===s?((e,t,n,o,i)=>({coordinates:{x0:t?o:i,y0:void 0,x1:t?i:o,y1:void 0},header:e,details:(null==n?void 0:n.convert(o))||o.toString()}))(n,l,t,o,i):((e,t,n,o,i)=>({coordinates:{x0:void 0,y0:t?o:i,x1:void 0,y1:t?i:o},header:e,details:(null==n?void 0:n.convert(o))||o.toString()}))(n,l,t,o,i)})(e,n);C=Object(A.jsx)(a.RectAnnotation,j()({},g,{id:`${l}-rect`,key:`${l}-rect`,dataValues:[t],style:{...y,fill:v||b,opacity:.1}}))}return Object(A.jsx)(i.a.Fragment,null,O,C)},k=({layer:e,formatters:t,paddingMap:n,axesMap:o,isHorizontal:a})=>{if(!e.yConfig)return null;const{columnToLabel:s,yConfig:l,table:r}=e,c=s?JSON.parse(s):{},d=r.rows[0],u=l.sort((({forAccessor:e},{forAccessor:t})=>d[e]-d[t])),m=Object(T.groupBy)(u,"fill");m.below&&m.below.reverse();const f=u.flatMap((i=>{const{axisMode:s}=i,l=B(s),r=t[l||"bottom"],u=c[i.forAccessor],f=d[i.forAccessor],v=m[i.fill],p=v.findIndex((({forAccessor:e})=>e===i.forAccessor)),b=p<v.length-1?d[v[p+1].forAccessor]:void 0,{forAccessor:h,type:g,...y}=i,x=`${e.layerId}-${i.forAccessor}`;return Object(A.jsx)(N,{key:x,config:{id:x,value:f,nextValue:b,name:u,...y},paddingMap:n,axesMap:o,formatter:r,isHorizontal:a})}));return Object(A.jsx)(i.a.Fragment,null,f)},R=({layer:e,axesMap:t,formatters:n,paddingMap:o,isHorizontal:i,nextValue:a})=>{const{yConfig:[s]}=e;if(!s)return null;const{axisMode:l,value:r}=s,c=n[B(l)||"bottom"],d=`${e.layerId}-${r}`;return Object(A.jsx)(N,{config:{id:d,...s,nextValue:a},paddingMap:o,axesMap:t,formatter:c,isHorizontal:i})},D=({layers:e,...t})=>{const n=(e=>{const t=Object(T.groupBy)(e,(({yConfig:[e]})=>e.fill));return Object.keys(t).reduce(((e,n)=>{const o=((e,t)=>{if(t===f.k.ABOVE||t===f.k.BELOW){const n=t===f.k.ABOVE?"asc":"desc";return Object(T.orderBy)(e,(({yConfig:[{value:e}]})=>e),[n])}return e})(t[n],n);return{...e,[n]:o.reduce(((e,t,n,o)=>{let i;if(n<o.length-1){const[e]=o[n+1].yConfig;i=e.value}return{...e,[t.layerId]:i}}),{})}}),{})})(e.filter((e=>Object(m.g)(e))));return Object(A.jsx)(i.a.Fragment,null,e.flatMap((e=>{if(!e.yConfig)return null;const o=`referenceLine-${e.layerId}`;if(Object(m.g)(e)){const i=n[e.yConfig[0].fill][e.layerId];return Object(A.jsx)(R,j()({key:o,layer:e},t,{nextValue:i}))}return Object(A.jsx)(k,j()({key:o,layer:e},t))})))},z=(e,t,n,o)=>i.a.memo((({series:[i]})=>{var a;const s=i,l=e.findIndex((e=>s.seriesKeys.some((t=>e.accessors.some((n=>Object(r.getAccessorByDimension)(n,e.table.columns)===t.toString()))))));if(-1===l)return null;const c=e[l];if(!c||!c.splitAccessor)return null;const d=s.seriesKeys[0],{table:u}=c,m=Object(r.getAccessorByDimension)(c.splitAccessor,u.columns),f=n(m?h(u.columns,c.splitAccessor):void 0),v=u.rows.findIndex((e=>{var t;return null!==(t=o[c.layerId])&&void 0!==t&&t.formattedColumns[m]?f.convert(e[m])===d:e[m]===d}));if(v<0)return null;const p={data:[{row:v,column:u.columns.findIndex((e=>e.id===m)),value:m?u.rows[v][m]:d,table:u}]};return Object(A.jsx)(M,{label:null!==(a=o[c.layerId])&&void 0!==a&&a.formattedColumns[m]||!f?d:f.convert(d),context:p,onFilter:t})}));var V=n(8),H=n.n(V),F=n(22);function P(e){return Boolean(e&&"number"==typeof e.min&&"number"==typeof e.max&&e.minInterval)}const X=function({baseDomain:e,extendedDomain:t,histogramMode:n,darkMode:o}){return P(e)&&P(t)?Object(A.jsx)(s.Endzones,{isFullBin:!n,isDarkMode:o,domainStart:e.min,domainEnd:e.max,interval:t.minInterval,domainMin:t.min,domainMax:t.max,hideTooltips:!1}):null},Y=20;function W(e){switch(e){case a.Position.Top:return a.Position.Right;case a.Position.Bottom:return a.Position.Left;case a.Position.Left:return a.Position.Bottom;case a.Position.Right:return a.Position.Top}}function $({label:e,isHorizontal:t}){return e?t?Object(A.jsx)("div",{className:"eui-textTruncate",style:{maxWidth:3*Y},"data-test-subj":"xyVisAnnotationText"},e):Object(A.jsx)("div",{className:"xyDecorationRotatedWrapper","data-test-subj":"xyVisAnnotationText",style:{width:Y}},Object(A.jsx)("div",{className:"eui-textTruncate xyDecorationRotatedWrapper__label",style:{maxWidth:3*Y}},e)):null}function K({number:e}){return Object(A.jsx)(_.EuiFlexGroup,{justifyContent:"spaceAround",className:"xyAnnotationNumberIcon","data-test-subj":"xyVisGroupedAnnotationIcon",gutterSize:"none",alignItems:"center"},Object(A.jsx)(_.EuiText,{color:"ghost",className:"xyAnnotationNumberIcon__text"},e<10?e:"9+"))}const Z=({type:e,rotateClassName:t="",isHorizontal:n,renderedInChart:o,...i})=>{if(!isNaN(Number(e)))return Object(A.jsx)(K,{number:Number(e)});const a=w.find((t=>t.value===e));return a?Object(A.jsx)(_.EuiIcon,j()({},i,{"data-test-subj":"xyVisAnnotationIcon",type:a.icon||e,className:C()({[t]:a.shouldRotate},{lensAnnotationIconFill:o&&a.canFill})})):null};function G({config:e,isHorizontal:t,hasReducedPadding:n,label:o,rotateClassName:i}){return I(e.icon)?Object(A.jsx)(Z,{type:e.icon,rotateClassName:i,renderedInChart:!0}):e.textVisibility?n?Object(A.jsx)($,{label:o,isHorizontal:t}):Object(A.jsx)(_.EuiIcon,{type:"empty"}):null}const U=(e,t,n,o,i)=>t.reduce(((e,{id:t})=>{const a=e.row[t];return null!=a&&(null==(s=a)||"object"==typeof s||t===o&&"ordinal"===i)?{row:{...e.row,[t]:n[t].convert(a)},formattedColumns:{...e.formattedColumns,[t]:!0}}:e;var s}),{row:e,formattedColumns:{}}),J=(e,t,n,o,i)=>{const a=e.columns.reduce(((n,{id:i,meta:a})=>{const s=o.find((t=>Object(r.getAccessorByDimension)(t,e.columns)===i));return{...n,[i]:t(s?h(e.columns,s):a.params)}}),{}),s={rows:[],formattedColumns:{}};for(const t of e.rows){const o=U(t,e.columns,a,n?Object(r.getAccessorByDimension)(n,e.columns):void 0,i);s.rows.push(o.row),s.formattedColumns={...s.formattedColumns,...o.formattedColumns}}return{table:{...e,rows:s.rows},formattedColumns:s.formattedColumns}},q=({xAccessor:e,markSizeAccessor:t,emphasizeFitting:n,showPoints:o,pointsRadius:i})=>({visible:void 0!==o?o:!e||void 0!==t,radius:void 0!==i?i:e&&!n?5:0,fill:t?a.ColorVariant.Series:void 0}),Q=()=>({visible:!0,stroke:a.ColorVariant.Series,opacity:1,dash:[]}),ee=e=>({strokeWidth:e}),te=[{id:f.w.BAR,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M5 7a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V8a1 1 0 011-1h4zm16-7a1 1 0 011 1v20a1 1 0 01-1 1h-4a1 1 0 01-1-1V1a1 1 0 011-1h4z",className:"lensChartIcon__subdued"}),Object(A.jsx)("path",{d:"M13 11a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1v-9a1 1 0 011-1h4zm16-7a1 1 0 011 1v16a1 1 0 01-1 1h-4a1 1 0 01-1-1V5a1 1 0 011-1h4z",className:"lensChartIcon__accent"}))},{id:f.w.BAR_STACKED,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{className:"lensChartIcon__subdued",d:"M6 13v8a1 1 0 01-1 1H1a1 1 0 01-1-1v-8h6zm8-4v12a1 1 0 01-1 1H9a1 1 0 01-1-1V9h6zm8 4v8a1 1 0 01-1 1h-4a1 1 0 01-1-1v-8h6zm8 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1v-7h6z"}),Object(A.jsx)("path",{d:"M29 1a1 1 0 011 1v10h-6V2a1 1 0 011-1h4zM5 7a1 1 0 011 1v3H0V8a1 1 0 011-1h4zm16-4a1 1 0 011 1v7h-6V4a1 1 0 011-1h4zm-8-3a1 1 0 011 1v6H8V1a1 1 0 011-1h4z",className:"lensChartIcon__accent"}))},{id:f.w.BAR_HORIZONTAL,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M29 16a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1v-4a1 1 0 011-1h28zM22 0a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h21z",className:"lensChartIcon__subdued"}),Object(A.jsx)("path",{d:"M0 9a1 1 0 011-1h15a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1V9z",className:"lensChartIcon__accent"}))},{id:f.w.BAR_PERCENTAGE_STACKED,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M6 13v8a1 1 0 01-1 1H1a1 1 0 01-1-1v-8h6zm8-4v12a1 1 0 01-1 1H9a1 1 0 01-1-1V9h6zm8 4v8a1 1 0 01-1 1h-4a1 1 0 01-1-1v-8h6zm8 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1v-7h6z",className:"lensChartIcon__subdued"}),Object(A.jsx)("path",{d:"M29 0a1 1 0 011 1v11h-6V1a1 1 0 011-1h4zM5 0a1 1 0 011 1v10H0V1a1 1 0 011-1h4zm16 0a1 1 0 011 1v10h-6V1a1 1 0 011-1h4zm-8 0a1 1 0 011 1v6H8V1a1 1 0 011-1h4z",className:"lensChartIcon__accent"}))},{id:f.w.BAR_HORIZONTAL_STACKED,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M18 16v6H1a1 1 0 01-1-1v-4a1 1 0 011-1h17zm-3-8v6H1.222C.547 14 0 13.552 0 13V9c0-.552.547-1 1.222-1H15zm1-8v6H1.042C.466 6 0 5.552 0 5V1c0-.552.466-1 1.042-1H16z",className:"lensChartIcon__subdued"}),Object(A.jsx)("path",{d:"M29 16a1 1 0 011 1v4a1 1 0 01-1 1h-9v-6h9zm-9.222-8C20.453 8 21 8.448 21 9v4c0 .552-.547 1-1.222 1H17V8h2.778zm3.18-8C23.534 0 24 .448 24 1v4c0 .552-.466 1-1.042 1H18V0h4.958z",className:"lensChartIcon__accent"}))},{id:f.w.BAR_HORIZONTAL_PERCENTAGE_STACKED,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M20 16v6H1a1 1 0 01-1-1v-4a1 1 0 011-1h19zm-3-8v6H1.222C.547 14 0 13.552 0 13V9c0-.552.547-1 1.222-1H17zm1-8v6H1.042C.466 6 0 5.552 0 5V1c0-.552.466-1 1.042-1H18z",className:"lensChartIcon__subdued"}),Object(A.jsx)("path",{d:"M29 16a1 1 0 011 1v4a1 1 0 01-1 1h-7v-6h7zm-.222-8C29.453 8 30 8.448 30 9v4c0 .552-.547 1-1.222 1H19V8h9.778zm.18-8C29.534 0 30 .448 30 1v4c0 .552-.466 1-1.042 1H20V0h8.958z",className:"lensChartIcon__accent"}))},{id:f.w.LINE,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M23.434 16.456c.211.553.406.982.58 1.277l.073.119c.038.058.072.105.101.141.52-.04 1.07-.248 2.13-.77l.235-.117C28.198 16.283 28.953 16 30 16v2c-.507 0-.988.146-1.89.571l-1.209.592C25.621 19.78 24.924 20 24 20l-.174-.005c-1.251-.076-1.805-1.036-2.994-4.993L22.93 15c.18.563.335 1.012.505 1.455zM6 1c1.269 0 1.966.69 3.492 2.939l.774 1.146.272.387.26.358C11.419 6.658 11.788 7 12 7c.466 0 .967-.252 1.99-.997l.891-.659.458-.325C16.424 4.272 17.093 4 18 4c1.377 0 1.925.863 3.168 4.999L19.07 9a26.766 26.766 0 00-.505-1.457c-.24-.631-.46-1.1-.652-1.395l-.051-.074-.045-.06c-.452.064-.988.375-2.007 1.13l-.691.512-.458.325C13.576 8.728 12.907 9 12 9c-1.269 0-1.966-.69-3.492-2.939l-.774-1.146-.272-.387-.26-.358C6.581 3.342 6.213 3 6 3c-.294 0-.885.651-2.017 2.33l-.491.731-.326.475C1.859 8.409 1.175 9 0 9V7c.294 0 .885-.651 2.017-2.33l.491-.731.326-.475C4.141 1.591 4.825 1 6 1z",className:"lensChartIcon__subdued"}),Object(A.jsx)("path",{d:"M0 21c1.123 0 1.852-.477 3.295-1.885l.758-.75.345-.33C5.208 17.275 5.648 17 6 17c.466 0 .967.252 1.99.997l.891.659.458.325C10.424 19.728 11.093 20 12 20c1.325 0 1.996-.772 3.546-3.444l.593-1.028.385-.646C17.328 13.562 17.796 13 18 13h6c1.333 0 1.978-.795 3.452-3.676l.692-1.37.358-.69C29.333 5.7 29.831 5 30 5V3c-1.333 0-1.978.795-3.452 3.676l-.692 1.37-.358.69C24.667 10.3 24.169 11 24 11h-6c-1.325 0-1.996.772-3.546 3.444l-.593 1.028-.385.646C12.672 17.438 12.204 18 12 18c-.466 0-.967-.252-1.99-.997l-.891-.659-.458-.325C7.576 15.272 6.907 15 6 15c-1.123 0-1.852.477-3.295 1.885l-.758.75-.345.33C.792 18.725.352 19 0 19v2z",className:"lensChartIcon__accent"}))},{id:f.w.AREA,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M30 6v15a1 1 0 01-1 1H1a1 1 0 01-1-1v-2c1 0 3.5-4 6-4s5 3 6 3 3.23-6.994 5.865-6.997C20.5 11 23 11 24 11s3-5 6-5z",className:"lensChartIcon__accent"}),Object(A.jsx)("path",{d:"M6 1c3 0 5 6 6 6s3.5-3 6-3c1.667 0 2.944 2.333 3.833 6.999l.309.001c-1.013 0-2.27 0-3.593.002h-.684C15.231 11.007 13 18 12 18s-3.5-3-6-3-5 4-6 4V7c1-1.5 3-6 6-6z",className:"lensChartIcon__subdued"}))},{id:f.w.AREA_STACKED,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:31,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M0 15.213l.484.091.813.146.762.129C3.779 15.859 5.09 16 6 16c.986 0 1.712-.25 3.166-.966l.281-.14C10.802 14.217 11.381 14 12 14c.507 0 .988.146 1.89.571l1.209.592c1.28.617 1.977.837 2.901.837 1.028 0 1.75-.349 3.119-1.344l.89-.659C23.034 13.252 23.535 13 24 13c.581 0 1.232.185 2.598.718l1.1.436.568.217c.72.27 1.256.438 1.736.532L30 21a1 1 0 01-1 1H1a1 1 0 01-1-1v-5.787z",className:"lensChartIcon__accent"}),Object(A.jsx)("path",{d:"M24 1c1.334 0 3.334 1 6 3v8.842l-.324-.098c-.346-.11-.759-.262-1.273-.462l-1.101-.436-.568-.217-.536-.193C25.277 11.118 24.676 11 24 11c-1.028 0-1.75.349-3.119 1.344l-.89.659c-1.024.745-1.524.997-1.99.997-.508 0-.989-.146-1.89-.571l-1.21-.592c-1.28-.617-1.977-.837-2.9-.837-.987 0-1.713.25-3.167.966l-.281.14C7.198 13.783 6.619 14 6 14l-.334-.007c-1.182-.045-3.08-.317-5.665-.815V9c2 0 4.666 1 6 1 2 0 4-4 6-4s4 1 6 1 4-6 6-6z",className:"lensChartIcon__subdued"}))},{id:f.w.AREA_PERCENTAGE_STACKED,icon:({title:e,titleId:t,...n})=>Object(A.jsx)("svg",j()({viewBox:"0 0 30 22",width:30,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(A.jsx)("title",{id:t},e):null,Object(A.jsx)("path",{d:"M0 13v8a1 1 0 001 1h28a1 1 0 001-1V9.25c-1.251-.929-2.45-1.734-3.493-2.313a11.028 11.028 0 00-1.478-.703C24.592 6.072 24.25 6 24 6c-.262 0-.63.212-1.126.77-.472.53-.952 1.249-1.458 2.007l-.013.02c-.49.736-1.006 1.51-1.53 2.098C19.37 11.462 18.739 12 18 12c-1.062 0-2.112-.263-3.092-.508l-.03-.007C13.869 11.232 12.929 11 12 11c-.337 0-.729.171-1.2.525-.466.35-.94.822-1.446 1.329l-.015.015c-.49.489-1.01 1.01-1.539 1.406-.529.396-1.137.725-1.8.725-.657 0-1.57-.212-2.48-.424l-.058-.014C2.275 14.287 1.032 14 0 14v-1z",className:"lensChartIcon__accent"}),Object(A.jsx)("path",{d:"M29 0a1 1 0 011 1v6.012c-1.06-.764-2.085-1.437-3.007-1.95a11.93 11.93 0 00-1.616-.765C24.887 4.115 24.418 4 24 4c-.738 0-1.369.538-1.874 1.105-.523.589-1.039 1.362-1.529 2.098l-.013.02c-.506.758-.985 1.476-1.458 2.007-.495.558-.864.77-1.126.77-.928 0-1.867-.232-2.879-.485l-.029-.007C14.112 9.263 13.062 9 12 9c-.663 0-1.271.328-1.8.725-.528.396-1.05.917-1.538 1.406l-.015.015c-.507.507-.98.98-1.447 1.329-.471.354-.863.525-1.2.525-.528 0-1.328-.183-2.311-.412l-.034-.007C2.507 12.314 1.159 12 .001 12V1a1 1 0 011-1h28z",className:"lensChartIcon__subdued"}))}],ne="__split_column__",oe="__split_row__",ie=({splitColumnAccessor:e,splitRowAccessor:t,columns:n,formatFactory:s})=>{const l=Object(o.useCallback)(((e,t)=>{const o=Object(r.getFormatByAccessor)(t,n);return(o?s(o):s()).convert(e)}),[n,s]),c=Object(o.useCallback)(((e,t)=>e[Object(r.getColumnByAccessor)(t,n).id]),[n]);return e||t?Object(A.jsx)(i.a.Fragment,null,e&&Object(A.jsx)(a.GroupBy,{id:ne,by:(t,n)=>c(n,e),sort:a.Predicate.DataIndex,format:t=>l(t,e)}),t&&Object(A.jsx)(a.GroupBy,{id:oe,by:(e,n)=>c(n,t),sort:a.Predicate.DataIndex,format:e=>l(e,t)}),Object(A.jsx)(a.SmallMultiples,{splitVertically:e?ne:void 0,splitHorizontally:t?oe:void 0})):null};n(40);var ae=n(26);const se=(e,t)=>()=>Object(A.jsx)("div",{key:e[0].time},e.map((({icon:e,label:n,time:o,color:i})=>Object(A.jsx)("div",{className:"echTooltip__item--container",key:Object(T.snakeCase)(n)},Object(A.jsx)(_.EuiFlexGroup,{className:"echTooltip__label",gutterSize:"xs"},I(e)&&Object(A.jsx)(_.EuiFlexItem,{grow:!1},Object(A.jsx)(Z,{type:e,color:i})),Object(A.jsx)(_.EuiFlexItem,null," ",n)),Object(A.jsx)("span",{className:"echTooltip__value"}," ",(null==t?void 0:t.convert(o))||String(o))))));function le(e,t,n){const o=e[0][t];return e.every((e=>o===e[t]))?o:n}a.RectAnnotation.displayName="RectAnnotation";const re=({groupedLineAnnotations:e,rangeAnnotations:t,formatter:n,isHorizontal:o,paddingMap:s,hide:l,minInterval:r,isBarChart:c,outsideDimension:d})=>Object(A.jsx)(i.a.Fragment,null,e.map((e=>{const t=a.Position.Top,i=o?W(t):t,d=s[t]===Y,u=Object(T.snakeCase)(e.label),{roundedTimestamp:m,time:f}=e,v=Boolean(e.customTooltipDetails),p=(null==n?void 0:n.convert(v?m:f))||H()(v?m:f).toISOString(),b=l?1:e.lineWidth||1,h=v?H()(c&&r?m+r/2:m).valueOf():H()(f).valueOf();return Object(A.jsx)(a.LineAnnotation,{id:u,key:u,domainType:a.AnnotationDomainType.XDomain,marker:l?void 0:Object(A.jsx)(G,{config:e,isHorizontal:!o,hasReducedPadding:d,label:e.label,rotateClassName:o?"xyAnnotationIcon_rotate90":void 0}),markerBody:l?void 0:Object(A.jsx)($,{label:e.textVisibility&&!d?e.label:void 0,isHorizontal:!o}),markerPosition:i,dataValues:[{dataValue:h,header:p,details:e.label}],customTooltipDetails:e.customTooltipDetails,style:{line:{strokeWidth:b,stroke:e.color||ae.defaultAnnotationColor,dash:"dashed"===e.lineStyle?[3*b,b]:"dotted"===e.lineStyle?[b,b]:void 0,opacity:1}}})})),t.map((({label:e,time:t,color:o,endTime:i,outside:s})=>{const l=Object(T.snakeCase)(e);return Object(A.jsx)(a.RectAnnotation,{id:l,key:l,customTooltip:()=>Object(A.jsx)("div",{className:"echTooltip"},Object(A.jsx)(_.EuiText,{size:"xs",className:"echTooltip__header"},Object(A.jsx)("h4",null,n?`${n.convert(t)} — ${null==n?void 0:n.convert(i)}`:`${H()(t).toISOString()} — ${H()(i).toISOString()}`)),Object(A.jsx)("div",{className:"xyAnnotationTooltipDetail"},e)),dataValues:[{coordinates:{x0:H()(t).valueOf(),x1:H()(i).valueOf()},details:e}],style:{fill:o||ae.defaultAnnotationRangeColor,opacity:1},outside:Boolean(s),outsideDimension:d})}))),ce=({layers:e,endValue:t,timeZone:n,curveType:o,syncColors:s,valueLabels:l,fillOpacity:c,formatFactory:d,paletteService:u,fittingFunction:v,emphasizeFitting:p,yAxesConfiguration:g,shouldShowValueLabels:x,formattedDatatables:O,chartHasMoreThanOneBarSeries:C,defaultXScaleType:I})=>{const w=function(e,t){const n={};return e.forEach((e=>{var t;if(!Object(m.e)(e))return;const o=(null===(t=e.palette)||void 0===t?void 0:t.name)||"default";n[o]||(n[o]=[]),n[o].push(e)})),Object(T.mapValues)(n,(e=>{const n=e.map((e=>{var n;if(!e.splitAccessor)return{numberOfSeries:e.accessors.length,splits:[]};const o=Object(r.getAccessorByDimension)(e.splitAccessor,e.table.columns),i=null===(n=e.table.columns)||void 0===n?void 0:n.find((({id:e})=>e===o)),a=i&&t(h(e.table.columns,e.splitAccessor)),s=i&&e.table?Object(T.uniq)(e.table.rows.map((e=>{let t=e[o];var n;return t=t&&!(e=>null!=e&&"object"!=typeof e)(t)?null!==(n=null==a?void 0:a.convert(t))&&void 0!==n?n:t:String(t),t}))):[];return{numberOfSeries:(s.length||1)*e.accessors.length,splits:s}}));return{totalSeriesCount:n.reduce(((e,t)=>e+t.numberOfSeries),0),getRank(t,o,i){const a=e.findIndex((e=>t.layerId===e.layerId)),s=n[a].splits.indexOf(o);return(0===a?0:n.slice(0,a).reduce(((e,t)=>e+t.numberOfSeries),0))+(t.splitAccessor&&-1!==s?s*t.accessors.length:0)+t.accessors.findIndex((e=>Object(r.getAccessorByDimension)(e,t.table.columns)===i))}}}))}(e,d);return Object(A.jsx)(i.a.Fragment,null,e.flatMap((e=>e.accessors.map(((i,T)=>{const{seriesType:S,columnToLabel:_,layerId:M,table:L}=e,B=Object(r.getAccessorByDimension)(i,L.columns),E=_?JSON.parse(_):{},N=O[M],k=S.includes("percentage"),R=g.find((e=>e.series.find((e=>e.accessor===B)))),D=(({layer:e,accessor:t,chartHasMoreThanOneBarSeries:n,colorAssignments:o,formatFactory:i,columnToLabelMap:s,paletteService:l,syncColors:c,yAxis:d,timeZone:u,emphasizeFitting:f,fillOpacity:v,formattedDatatableInfo:p,defaultXScaleType:b})=>{var g,x,j;const{table:A,markSizeAccessor:O}=e,C=e.seriesType.includes("stacked"),I=e.seriesType.includes("percentage"),w=e.seriesType.includes("bar"),T=e.xAccessor&&Object(r.getAccessorByDimension)(e.xAccessor,A.columns),S=e.splitAccessor&&Object(r.getAccessorByDimension)(e.splitAccessor,A.columns),_=e.isHistogram&&(C||!e.splitAccessor)&&(C||!w||!n),M=null==A||null===(g=A.columns.find((e=>e.id===t)))||void 0===g||null===(x=g.meta)||void 0===x?void 0:x.params,L=e.splitAccessor?Object(r.getFormatByAccessor)(e.splitAccessor,A.columns):void 0,B=i(L),E=O?Object(r.getAccessorByDimension)(O,A.columns):void 0,N=i(O?h(A.columns,O):void 0),{table:k,formattedColumns:R}=p;let D=k.rows.filter((e=>!(T&&void 0===e[T]||S&&void 0===e[S]&&void 0===e[t])));return T||(D=D.map((e=>({...e,unifiedX:y.i18n.translate("expressionXY.xyChart.emptyXLabel",{defaultMessage:"(empty)"})})))),{splitSeriesAccessors:S?[S]:[],stackAccessors:C?[T]:[],id:S?`${S}-${t}`:t,xAccessor:T||"unifiedX",yAccessors:[t],markSizeAccessor:E,markFormat:e=>N.convert(e),data:D,xScaleType:T?null!==(j=e.xScaleType)&&void 0!==j?j:b:"ordinal",yScaleType:"bytes"===(null==M?void 0:M.id)&&(null==d?void 0:d.scale)===a.ScaleType.Linear?a.ScaleType.LinearBinary:(null==d?void 0:d.scale)||a.ScaleType.Linear,color:n=>(({yAccessor:e,seriesKeys:t},{layer:n,accessor:o,colorAssignments:i,columnToLabelMap:a,paletteService:s,syncColors:l})=>{const r=((e,t)=>{var n;if(Object(m.e)(e)&&e.splitAccessor||Object(m.d)(e)||Object(m.g)(e))return null;const o=null==e?void 0:e.yConfig;return(null==o||null===(n=o.find((e=>e.forAccessor===t)))||void 0===n?void 0:n.color)||null})(n,o);if(null!==r)return r;const c=i[n.palette.name],d=[{name:n.splitAccessor?String(t[0]):a[t[0]],totalSeriesAtDepth:c.totalSeriesCount,rankAtDepth:c.getRank(n,String(t[0]),String(e))}];return s.get(n.palette.name).getCategoricalColor(d,{maxDepth:1,behindText:!1,totalSeries:c.totalSeriesCount,syncColors:l},n.palette.params)})(n,{layer:e,accessor:t,colorAssignments:o,columnToLabelMap:s,paletteService:l,syncColors:c}),groupId:null==d?void 0:d.groupId,enableHistogramMode:_,stackMode:I?a.StackMode.Percentage:void 0,timeZone:u,areaSeriesStyle:{point:q({xAccessor:T,markSizeAccessor:E,emphasizeFitting:f,showPoints:e.showPoints,pointsRadius:e.pointsRadius}),...v&&{area:{opacity:v}},...f&&{fit:{area:{opacity:v||.5},line:Q()}},line:ee(e.lineWidth)},lineSeriesStyle:{point:q({xAccessor:T,markSizeAccessor:E,emphasizeFitting:f,showPoints:e.showPoints,pointsRadius:e.pointsRadius}),...f&&{fit:{line:Q()}},line:ee(e.lineWidth)},name:t=>((e,{splitColumnId:t,accessorsCount:n,splitHint:o,splitFormatter:i,alreadyFormattedColumns:a,columnToLabelMap:s})=>{var l;if(t&&n>1){const n=a[t];return e.seriesKeys.map(((e,a)=>{var l;return 0===a&&o&&t&&!n?i.convert(e):t&&0===a?e:null!==(l=s[e])&&void 0!==l?l:null})).join(" - ")}return o?t&&a[t]?e.seriesKeys[0]:i.convert(e.seriesKeys[0]):t?e.seriesKeys[0]:null!==(l=s[e.seriesKeys[0]])&&void 0!==l?l:null})(t,{splitColumnId:S,accessorsCount:e.accessors.length,splitHint:L,splitFormatter:B,alreadyFormattedColumns:R,columnToLabelMap:s})}})({layer:e,accessor:B,chartHasMoreThanOneBarSeries:C,colorAssignments:w,formatFactory:d,columnToLabelMap:E,paletteService:u,formattedDatatableInfo:N,syncColors:s,yAxis:R,timeZone:n,emphasizeFitting:p,fillOpacity:c,defaultXScaleType:I}),z=`${e.layerId}-${T}`,V=o?a.CurveType[o]:void 0;switch(S){case f.w.LINE:return Object(A.jsx)(a.LineSeries,j()({key:z},D,{fit:b(v,t),curve:V}));case f.w.BAR:case f.w.BAR_STACKED:case f.w.BAR_PERCENTAGE_STACKED:case f.w.BAR_HORIZONTAL:case f.w.BAR_HORIZONTAL_STACKED:case f.w.BAR_HORIZONTAL_PERCENTAGE_STACKED:const e={displayValueSettings:{valueFormatter:e=>{var t;return(null==R||null===(t=R.formatter)||void 0===t?void 0:t.convert(e))||""},showValueLabel:x&&l!==f.y.HIDE,isValueContainedInElement:!1,isAlternatingValueLabel:!1,overflowConstraints:[a.LabelOverflowConstraint.ChartEdges,a.LabelOverflowConstraint.BarGeometry]}};return Object(A.jsx)(a.BarSeries,j()({key:z},D,e));case f.w.AREA_STACKED:case f.w.AREA_PERCENTAGE_STACKED:return Object(A.jsx)(a.AreaSeries,j()({key:z},D,{fit:k?"zero":b(v,t),curve:V}));case f.w.AREA:return Object(A.jsx)(a.AreaSeries,j()({key:z},D,{fit:b(v,t),curve:V}))}})))))},de=({enabled:e,isDarkMode:t,domain:n})=>{if(!e)return null;const o=n&&"max"in n?n.max:void 0;return Object(A.jsx)(s.CurrentTime,{isDarkMode:t,domainEnd:o})};n(45);const ue=i.a.memo(me);function me({args:e,formatFactory:t,timeZone:n,chartsThemeService:i,chartsActiveCursorService:v,paletteService:p,minInterval:b,onClickValue:y,onSelectRange:x,interactive:j=!0,syncColors:O,syncTooltips:C,useLegacyTimeAxis:w}){var S,_,M,B,N,k,R,V,W,$,K,Z,G,U,q,Q,ee,ne,oe,ue,me,fe;const{legend:ve,layers:pe,fittingFunction:be,endValue:he,emphasizeFitting:ge,gridlinesVisibilitySettings:ye,valueLabels:xe,hideEndzones:je,yLeftExtent:Ae,yRightExtent:Oe,valuesInLegend:Ce,yLeftScale:Ie,yRightScale:we,splitColumnAccessor:Te,splitRowAccessor:Se}=e,_e=Object(o.useRef)(null),Me=i.useChartsTheme(),Le=i.useChartsBaseTheme(),Be=i.useDarkMode(),Ee=Object(u.a)(pe),Ne=Ee.reduce(((e,t)=>({...e,[t.layerId]:t})),{}),ke=Object(s.useActiveCursor)(v,_e,{datatables:Ee.map((({table:e})=>e))}),Re=Ee.filter(m.e),De=Object(o.useMemo)((()=>((e,t)=>e.reduce(((e,{layerId:n,table:o,xAccessor:i,splitAccessor:a,accessors:s,xScaleType:l})=>({...e,[n]:J(o,t,i,[i,a,...s].filter((e=>void 0!==e)),l)})),{}))(Re,t)),[Re,t]);if(0===Re.length){var ze,Ve;const e=(He=(null===(ze=Object(m.b)(pe))||void 0===ze||null===(Ve=ze[0])||void 0===Ve?void 0:Ve.seriesType)||f.w.BAR,te.find((e=>e.id===He)).icon||"empty");return Object(A.jsx)(s.EmptyPlaceholder,{className:"xyChart__empty",icon:e})}var He;const Fe=Re[0].xAccessor?Object(r.getColumnByAccessor)(Re[0].xAccessor,null===(S=Re[0])||void 0===S?void 0:S.table.columns):void 0,Pe=t(Re[0].xAccessor?h(Re[0].table.columns,Re[0].xAccessor):void 0),Xe=e=>{var t,n;return Fe&&null!==(t=De[null===(n=Re[0])||void 0===n?void 0:n.layerId])&&void 0!==t&&t.formattedColumns[Fe.id]?String(e):String(Pe.convert(e))},Ye=Ee.length>1||Ee.some((e=>e.accessors.length>1))||Ee.some((e=>Object(m.e)(e)&&e.splitAccessor)),We=function(e){return Object(m.b)(e).every((e=>{return"bar_horizontal"===(t=e.seriesType)||"bar_horizontal_stacked"===t||"bar_horizontal_percentage_stacked"===t;var t}))}(Re),$e=function(e,t,n,o,i){const a=function(e){const t={auto:[],left:[],right:[],bottom:[]};e.forEach((e=>{const{table:n}=e;e.accessors.forEach((o=>{var i;const a=e.yConfig,s=Object(r.getAccessorByDimension)(o,(null==n?void 0:n.columns)||[]),l=(null==a||null===(i=a.find((e=>e.forAccessor===s)))||void 0===i?void 0:i.axisMode)||"auto";let c=h(n.columns,o)||{id:"number"};Object(m.e)(e)&&e.seriesType.includes("percentage")&&"percent"!==c.id&&(c={id:"percent",params:{pattern:"0.[00]%"}}),t[l].push({layer:e.layerId,accessor:s,fieldFormat:c})}))}));const n=e.filter((({table:e})=>Boolean(e))).length>0;return t.auto.forEach((e=>{0===t.left.length||n&&t.left.every((t=>g(t.fieldFormat,e.fieldFormat)))?t.left.push(e):0===t.right.length||n&&t.left.every((t=>g(t.fieldFormat,e.fieldFormat)))?t.right.push(e):t.right.length>=t.left.length?t.left.push(e):t.right.push(e)})),t}(e),s=[];return a.left.length>0&&s.push({groupId:"left",position:t?"bottom":"left",formatter:null==n?void 0:n(a.left[0].fieldFormat),series:a.left.map((({fieldFormat:e,...t})=>t)),scale:o}),a.right.length>0&&s.push({groupId:"right",position:t?"top":"right",formatter:null==n?void 0:n(a.right[0].fieldFormat),series:a.right.map((({fieldFormat:e,...t})=>t)),scale:i}),s}(Re,We,t,Ie,we),Ke=e.xTitle||Fe&&Fe.name,Ze=e.axisTitlesVisibilitySettings||{x:!0,yLeft:!0,yRight:!0},Ge=e.tickLabelsVisibilitySettings||{x:!0,yLeft:!0,yRight:!0},Ue=e.labelsOrientation||{x:0,yLeft:0,yRight:0},Je=Re.filter((e=>e.seriesType.includes("bar"))),qe=Je.length>1||Je.some((e=>e.accessors.length>1))||Je.some((e=>Object(m.e)(e)&&e.splitAccessor)),Qe=Object(d.d)(Re),et=Qe?f.z.TIME:f.z.ORDINAL,tt=Re.every((e=>e.isHistogram)),{baseDomain:nt,extendedDomain:ot}=((e,t,n,o)=>{var i;const a=null===(i=(e=>e.map((({xAccessor:e,table:t})=>{var n;const o=e?Object(r.getColumnByAccessor)(e,t.columns):null,i=o&&(null===(n=F.search.aggs.getDateHistogramMetaDataByDatatableColumn(o))||void 0===n?void 0:n.timeRange);if(i)return{timeRange:i,field:null==o?void 0:o.meta.field}})).find(Boolean))(e))||void 0===i?void 0:i.timeRange,s=null==a?void 0:a.from,l=null==a?void 0:a.to,c=n?{min:s?H()(s).valueOf():NaN,max:l?H()(l).valueOf():NaN,minInterval:t}:o?{minInterval:t,min:NaN,max:NaN}:void 0;if(o&&P(c)){const t=Object(T.uniq)(e.flatMap((({table:e,xAccessor:t})=>{const n=t&&Object(r.getAccessorByDimension)(t,e.columns);return e.rows.map((e=>n&&e[n]&&e[n].valueOf()))})).filter((e=>!Object(T.isUndefined)(e))).sort()),[n]=t,o=t[t.length-1],i=Math.min(n,c.min),a=c.max-c.minInterval;return{extendedDomain:{min:i,max:Math.max(a,o),minInterval:c.minInterval},baseDomain:c}}return{baseDomain:c,extendedDomain:c}})(Re,b,Qe,tt),it={left:$e.find((({groupId:e})=>"left"===e)),right:$e.find((({groupId:e})=>"right"===e))},at=Object(m.c)(pe),st=Object(m.a)(pe),lt=null===(_=Re[0])||void 0===_?void 0:_.table,rt=null!==(M=Re[0])&&void 0!==M&&M.xAccessor?null===(B=Object(r.getColumnByAccessor)(null===(N=Re[0])||void 0===N?void 0:N.xAccessor,lt.columns))||void 0===B?void 0:B.id:null,ct=((e,t,n,o)=>{const i=((e,t,n)=>e.flatMap((({annotations:e})=>e.filter((e=>!e.isHidden&&"manual_point_event_annotation"===e.type)))).sort(((e,t)=>H()(e.time).valueOf()-H()(t.time).valueOf())).reduce(((e,o)=>{const i=((e,t,n)=>t&&n?e-(e-t)%n:e)(H()(o.time).valueOf(),n,t);return{...e,[i]:e[i]?[...e[i],o]:[o]}}),{}))(e,t,n);let a;return Object.entries(i).map((([e,t])=>{if(a={...t[0],roundedTimestamp:Number(e),axisMode:"bottom"},t.length>1){const e=(e=>({color:le(e,"color",ae.defaultAnnotationColor),lineWidth:le(e,"lineWidth",1),lineStyle:le(e,"lineStyle","solid"),textVisibility:le(e,"textVisibility",!1)}))(t);a={...a,...e,icon:String(t.length),customTooltipDetails:se(t,o)}}return a}))})(st,b,rt?null===(k=lt.rows[0])||void 0===k?void 0:k[rt]:void 0,Pe),dt=(e=>e.flatMap((({annotations:e})=>e.filter((e=>"manual_range_event_annotation"===e.type&&!e.isHidden)))).sort(((e,t)=>H()(e.time).valueOf()-H()(t.time).valueOf())))(st),ut=[...at.flatMap((({yConfig:e})=>e)),...ct].filter(Boolean),mt=st.length>0&&st[0].hide,ft=mt?{}:((e,t)=>{const n={},o={};return null==e||e.forEach((e=>{if(!e)return;const{axisMode:i,icon:a,textVisibility:s}=e,l=(e=>!(null==e||!e.iconPosition))(e)?e.iconPosition:void 0;if(i&&(I(a)||s)){const e=L(l,t,i);n[e]=Math.max(n[e]||0,Y*(s?2:1)),o[e]=(o[e]||0)+(I(a)?1:0)}})),Object.keys(n).forEach((e=>{o[e]||(n[e]=Y)})),n})(ut,it),vt=t=>{var n,o;const i="right"===t?null==Ge?void 0:Ge.yRight:null==Ge?void 0:Ge.yLeft;return{tickLabel:{visible:i,rotation:"right"===t?(null===(n=e.labelsOrientation)||void 0===n?void 0:n.yRight)||0:(null===(o=e.labelsOrientation)||void 0===o?void 0:o.yLeft)||0,padding:null!=ft[t]?{inner:ft[t]}:void 0},axisTitle:{visible:"right"===t?null==Ze?void 0:Ze.yRight:null==Ze?void 0:Ze.yLeft,padding:i||null==ft[t]?void 0:{inner:ft[t]}}}},pt=e=>{const t="left"===e.groupId?Ae:Oe,n=Boolean(e.series.some((e=>{const t=Ne[e.layer];return!(!t||!Object(m.e)(t))&&(t.seriesType.includes("bar")||t.seriesType.includes("area"))}))),o=!n&&t.mode===f.e.DATA_BOUNDS;let i=NaN,a=NaN;if("custom"===t.mode){const{inclusiveZeroError:e,boundaryError:o}=function(e,t){return{inclusiveZeroError:t&&e&&(void 0!==t.lowerBound&&t.lowerBound>0||(void 0!==t.upperBound&&t.upperBound)<0),boundaryError:t&&void 0!==t.lowerBound&&void 0!==t.upperBound&&t.upperBound<=t.lowerBound}}(n,t);var s,l;e||o||(i=null!==(s=t.lowerBound)&&void 0!==s?s:NaN,a=null!==(l=t.upperBound)&&void 0!==l?l:NaN)}return{fit:o,min:i,max:a,includeDataFromIds:at.flatMap((e=>e.yConfig?e.yConfig.map((t=>({layerId:e.layerId,yConfig:t}))):[])).filter((({yConfig:t})=>t.axisMode===e.groupId)).map((({layerId:e,yConfig:t})=>Object(m.h)(t)?`${e}-${t.value}-${"none"!==t.fill?"rect":"line"}`:`${e}-${t.forAccessor}-${"none"!==t.fill?"rect":"line"}`))}},bt=Re.every((e=>!e.seriesType.includes("stacked")))&&!tt,ht=bt&&xe!==f.y.HIDE&&{displayValue:{fontSize:{min:10,max:12},fill:{textBorder:0},alignment:(gt=We)?{vertical:a.VerticalAlignment.Middle}:{horizontal:a.HorizontalAlignment.Center},offsetX:gt?10:0,offsetY:gt?0:-10}};var gt;const yt={vAlign:null!==(R=ve.verticalAlignment)&&void 0!==R?R:a.VerticalAlignment.Top,hAlign:null!==(V=null==ve?void 0:ve.horizontalAlignment)&&void 0!==V?V:a.HorizontalAlignment.Right,direction:a.LayoutDirection.Vertical,floating:!0,floatingColumns:null!==(W=null==ve?void 0:ve.floatingColumns)&&void 0!==W?W:1},xt=Re.some((({isHistogram:e,seriesType:t})=>e&&(t.includes("stacked")||!t.includes("bar")||!qe))),jt=Qe&&xt&&!w&&!We,At={visible:null==ye?void 0:ye.x,strokeWidth:1},Ot=jt?{...l.MULTILAYER_TIME_AXIS_STYLE,tickLabel:{...l.MULTILAYER_TIME_AXIS_STYLE.tickLabel,visible:Boolean(null==Ge?void 0:Ge.x)},tickLine:{...l.MULTILAYER_TIME_AXIS_STYLE.tickLine,visible:Boolean(null==Ge?void 0:Ge.x)},axisTitle:{visible:Ze.x}}:{tickLabel:{visible:null==Ge?void 0:Ge.x,rotation:null==Ue?void 0:Ue.x,padding:null!=ft.bottom?{inner:ft.bottom}:void 0},axisTitle:{visible:Ze.x,padding:null!=Ge&&Ge.x||null==ft.bottom?void 0:{inner:ft.bottom}}},Ct=Te||Se,It=Ct?Re[0].table:void 0;return Object(A.jsx)(a.Chart,{ref:_e},Object(A.jsx)(a.Settings,{onPointerUpdate:ke,externalPointerEvents:{tooltip:{visible:C,placement:a.Placement.Right}},debugState:null!==($=window._echDebugStateFlag)&&void 0!==$&&$,showLegend:ve.isVisible&&!ve.showSingleSeries?Ye:ve.isVisible,legendPosition:null!=ve&&ve.isInside?yt:ve.position,legendSize:c.LegendSizeToPixels[null!==(K=ve.legendSize)&&void 0!==K?K:c.DEFAULT_LEGEND_SIZE],theme:{...Me,barSeriesStyle:{...Me.barSeriesStyle,...ht},background:{color:void 0},legend:{labelOptions:{maxLines:ve.shouldTruncate?null!==(Z=null==ve?void 0:ve.maxLines)&&void 0!==Z?Z:1:0}},chartMargins:{...Me.chartPaddings,...E(ft,Ge,Ze,it,We)},markSizeRatio:e.markSizeRatio},baseTheme:Le,tooltip:{boundary:null!==(G=document.getElementById("app-fixed-viewport"))&&void 0!==G?G:void 0,headerFormatter:e=>Xe(e.value)},allowBrushingLastHistogramBin:Qe,rotation:We?90:0,xDomain:ot,onBrushEnd:j?({x:e})=>{if(!e)return;const[t,n]=e;if(!Fe||!tt)return;const{table:o}=Re[0],i=Re[0].xAccessor&&Object(r.getAccessorByDimension)(Re[0].xAccessor,o.columns),a=o.columns.findIndex((e=>e.id===i));x({range:[t,n],table:o,column:a})}:void 0,onElementClick:j?([[e,n]])=>{var o;const i=n,a=e,s=Re.findIndex((e=>i.seriesKeys.some((t=>e.accessors.some((n=>Object(r.getAccessorByDimension)(n,e.table.columns)===t.toString()))))));if(-1===s)return;const l=Re[s],{table:c}=l,d=l.xAccessor&&Object(r.getColumnByAccessor)(l.xAccessor,c.columns),u=l.xAccessor?Object(r.getAccessorByDimension)(l.xAccessor,c.columns):void 0,m=u&&null!==(o=De[l.layerId])&&void 0!==o&&o.formattedColumns[u]&&d?t(l.xAccessor?h(c.columns,l.xAccessor):void 0):Pe,f=c.rows.findIndex((e=>{var t;if(u)return null!==(t=De[l.layerId])&&void 0!==t&&t.formattedColumns[u]?m.convert(e[u])===a.x:e[u]===a.x})),v=[{row:f,column:c.columns.findIndex((e=>e.id===u)),value:u?c.rows[f][u]:a.x}];if(i.seriesKeys.length>1){const e=i.seriesKeys[0],n=l.splitAccessor?Object(r.getAccessorByDimension)(l.splitAccessor,c.columns):void 0,o=t(l.splitAccessor?h(c.columns,l.splitAccessor):void 0);v.push({row:c.rows.findIndex((t=>{var i;if(n)return null!==(i=De[l.layerId])&&void 0!==i&&i.formattedColumns[n]?o.convert(t[n])===e:t[n]===e})),column:c.columns.findIndex((e=>e.id===n)),value:e})}const p={data:v.map((({row:e,column:t,value:n})=>({row:e,column:t,value:n,table:c})))};y(p)}:void 0,legendAction:j?z(Re,y,t,De):void 0,showLegendExtra:tt&&Ce,ariaLabel:e.ariaLabel,ariaUseDefaultSummary:!e.ariaLabel}),Object(A.jsx)(de,{enabled:Boolean(e.addTimeMarker&&Qe),isDarkMode:Be,domain:nt}),Object(A.jsx)(a.Axis,{id:"x",position:We?a.Position.Left:a.Position.Bottom,title:Ke,gridLine:At,hide:(null===(U=Re[0])||void 0===U?void 0:U.hide)||!(null!==(q=Re[0])&&void 0!==q&&q.xAccessor),tickFormat:e=>Xe(e),style:Ot,timeAxisLayerCount:jt?3:0}),Ct&&It&&Object(A.jsx)(ie,{splitColumnAccessor:Te,splitRowAccessor:Se,formatFactory:t,columns:It.columns}),$e.map((t=>{var n,o,i;return Object(A.jsx)(a.Axis,{key:t.groupId,id:t.groupId,groupId:t.groupId,position:t.position,title:(o=t.series,i=t.groupId,("right"===i?e.yRightTitle:e.yTitle)||o.map((e=>{var t,n;return null===(t=Ee.find((({layerId:t})=>e.layer===t)))||void 0===t||null===(n=t.table.columns.find((t=>t.id===e.accessor)))||void 0===n?void 0:n.name})).find((e=>Boolean(e)))),gridLine:{visible:"right"===t.groupId?null==ye?void 0:ye.yRight:null==ye?void 0:ye.yLeft},hide:null===(n=Re[0])||void 0===n?void 0:n.hide,tickFormat:e=>{var n;return(null===(n=t.formatter)||void 0===n?void 0:n.convert(e))||""},style:vt(t.groupId),domain:pt(t),ticks:5})})),!je&&Object(A.jsx)(X,{baseDomain:nt,extendedDomain:ot,darkMode:Be,histogramMode:Re.every((e=>e.isHistogram&&(e.seriesType.includes("stacked")||!e.splitAccessor)&&(e.seriesType.includes("stacked")||!e.seriesType.includes("bar")||!qe)))}),Re.length&&Object(A.jsx)(ce,{layers:Re,endValue:he,timeZone:n,curveType:e.curveType,syncColors:O,valueLabels:xe,fillOpacity:e.fillOpacity,formatFactory:t,paletteService:p,fittingFunction:be,emphasizeFitting:ge,yAxesConfiguration:$e,shouldShowValueLabels:bt,formattedDatatables:De,chartHasMoreThanOneBarSeries:qe,defaultXScaleType:et}),at.length?Object(A.jsx)(D,{layers:at,formatters:{left:null===(Q=it.left)||void 0===Q?void 0:Q.formatter,right:null===(ee=it.right)||void 0===ee?void 0:ee.formatter,bottom:Pe},axesMap:{left:Boolean(it.left),right:Boolean(it.right)},isHorizontal:We,paddingMap:ft}):null,dt.length||ct.length?Object(A.jsx)(re,{rangeAnnotations:dt,groupedLineAnnotations:ct,formatter:Pe,isHorizontal:We,paddingMap:ft,isBarChart:Je.length>0,minInterval:b,hide:null==st?void 0:st[0].hide,outsideDimension:dt.length&&mt?2:jt?Number((null===(ne=l.MULTILAYER_TIME_AXIS_STYLE.tickLine)||void 0===ne?void 0:ne.padding)||0)+Number((null===(oe=Me.axes)||void 0===oe||null===(ue=oe.tickLabel)||void 0===ue?void 0:ue.fontSize)||0):Number(null===(me=Me.axes)||void 0===me||null===(fe=me.tickLine)||void 0===fe?void 0:fe.size)||8}):null)}}])]);