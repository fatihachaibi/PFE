(window.expressionXY_bundle_jsonpfunction=window.expressionXY_bundle_jsonpfunction||[]).push([[5],{27:function(r,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return h}));var o=n(18),t=n(1);const i=(r,e)=>`${r}-${e}`;function s(r,e){return r.filter((r=>void 0!==r)).map(((r,n)=>{return{...r,layerId:(o=r,o.layerId?r.layerId:i(e,n))};var o}))}function a(r){return r.filter((r=>r.layerType===t.r.DATA||!r.layerType))}function l(r,e){var n;let t=r.splitAccessor,i=r.xAccessor,s=null!==(n=r.accessors)&&void 0!==n?n:[],a=r.markSizeAccessor;if(!(t||i||s&&s.length||a)){var l,u,c,d;const r=null===(l=e.columns.find((r=>r.id===o.PointSeriesColumnNames.Y)))||void 0===l?void 0:l.id;i=null===(u=e.columns.find((r=>r.id===o.PointSeriesColumnNames.X)))||void 0===u?void 0:u.id,t=null===(c=e.columns.find((r=>r.id===o.PointSeriesColumnNames.COLOR)))||void 0===c?void 0:c.id,s=r?[r]:[],a=null===(d=e.columns.find((r=>r.id===o.PointSeriesColumnNames.SIZE)))||void 0===d?void 0:d.id}return{splitAccessor:t,xAccessor:i,accessors:s,markSizeAccessor:a}}var u=n(17);function c(r){return r.every((r=>{var e;return!(!r.xAccessor||"date"!==(null===(e=Object(u.getColumnByAccessor)(r.xAccessor,r.table.columns))||void 0===e?void 0:e.meta.type)||r.xScaleType&&r.xScaleType!==t.z.TIME)}))}var d=n(8),f=n.n(d);function h(r,e){const n=e&&Object(u.getColumnByAccessor)(e,r.columns);if(n&&"date"===(null==n?void 0:n.meta.type)){const e=n.id;if(!r.rows.some((r=>"string"==typeof r[e])))return r;const o=r.rows.map((r=>"string"!=typeof r[e]?r:{...r,[e]:f()(r[e]).valueOf()}));return{...r,rows:o}}return r}},31:function(r,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"o",(function(){return h})),n.d(e,"e",(function(){return p})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return b})),n.d(e,"h",(function(){return y})),n.d(e,"n",(function(){return E})),n.d(e,"m",(function(){return A})),n.d(e,"k",(function(){return w})),n.d(e,"l",(function(){return x}));var o=n(0),t=n(21),i=n(1),s=n(27);const a={markSizeAccessorForNonLineOrAreaChartsError:()=>o.i18n.translate("expressionXY.reusable.function.dataLayer.errors.markSizeAccessorForNonLineOrAreaChartsError",{defaultMessage:"`markSizeAccessor` can't be used. Dots are applied only for line or area charts"}),markSizeRatioLimitsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeLimitsError",{defaultMessage:"Mark size ratio must be greater or equal to 1 and less or equal to 100"}),lineWidthForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.lineWidthForNonLineOrAreaChartError",{defaultMessage:"`lineWidth` can be applied only for line or area charts"}),showPointsForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.showPointsForNonLineOrAreaChartError",{defaultMessage:"`showPoints` can be applied only for line or area charts"}),pointsRadiusForNonLineOrAreaChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.pointsRadiusForNonLineOrAreaChartError",{defaultMessage:"`pointsRadius` can be applied only for line or area charts"}),markSizeRatioWithoutAccessor:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.markSizeRatioWithoutAccessor",{defaultMessage:"Mark size ratio can be applied only with `markSizeAccessor`"}),extendBoundsAreInvalidError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.extendBoundsAreInvalidError",{defaultMessage:"For area and bar modes, and custom extent mode, the lower bound should be less or greater than 0 and the upper bound - be greater or equal than 0"}),notUsedFillOpacityError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.notUsedFillOpacityError",{defaultMessage:"`fillOpacity` argument is applicable only for area charts."}),valueLabelsForNotBarsOrHistogramBarsChartsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.valueLabelsForNotBarsOrHistogramBarsChartsError",{defaultMessage:"`valueLabels` argument is applicable only for bar charts, which are not histograms."}),dataBoundsForNotLineChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.dataBoundsForNotLineChartError",{defaultMessage:"Only line charts can be fit to the data bounds"}),timeMarkerForNotTimeChartsError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.timeMarkerForNotTimeChartsError",{defaultMessage:"Only time charts can have current time marker"}),isInvalidIntervalError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.isInvalidIntervalError",{defaultMessage:"Provided x-axis interval is invalid. The interval should include quantity and unit names. Examples: 1d, 24h, 1w."}),minTimeBarIntervalNotForTimeBarChartError:()=>o.i18n.translate("expressionXY.reusable.function.xyVis.errors.minTimeBarIntervalNotForTimeBarChartError",{defaultMessage:"`minTimeBarInterval` argument is applicable only for time bar charts."})},l=r=>r.filter((({seriesType:r})=>r.includes("bar"))).length>0,u=r=>r.filter((({seriesType:r})=>r.includes("area"))).length>0,c=r=>r.filter((({seriesType:r,isHistogram:e})=>r.includes("bar")&&e)).length>0,d=(r,e,n)=>{if(r.mode===i.e.CUSTOM&&e&&!(r=>{const e=void 0===r.lowerBound||void 0!==r.lowerBound&&r.lowerBound<=0,n=void 0===r.upperBound||void 0!==r.upperBound&&r.upperBound>=0;return e&&n})(r))throw new Error(a.extendBoundsAreInvalidError());((r,e)=>{if(!e.filter((({seriesType:r})=>r.includes("line"))).length&&r.mode===i.e.DATA_BOUNDS)throw new Error(a.dataBoundsForNotLineChartError())})(r,n)},f=(r,e)=>{if(void 0!==r&&!e)throw new Error(a.notUsedFillOpacityError())},h=(r,e,n)=>{if(!(e&&n||r===i.y.HIDE))throw new Error(a.valueLabelsForNotBarsOrHistogramBarsChartsError())},m=r=>r.includes("line")||r.includes("area"),p=(r,e)=>{if(e&&!Object(s.d)(r))throw new Error(a.timeMarkerForNotTimeChartsError())},v=(r,e)=>{if(r&&!e.includes("line")&&!e.includes("area"))throw new Error(a.markSizeAccessorForNonLineOrAreaChartsError())},b=r=>{if(void 0!==r&&(r<1||r>100))throw new Error(a.markSizeRatioLimitsError())},y=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(a.lineWidthForNonLineOrAreaChartError())},E=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(a.showPointsForNonLineOrAreaChartError())},A=(r,e)=>{if(void 0!==r&&!m(e))throw new Error(a.pointsRadiusForNonLineOrAreaChartError())},w=(r,e)=>{if(void 0!==r&&!e)throw new Error(a.markSizeRatioWithoutAccessor())},x=(r,e,n)=>{if(n){if(!Object(t.isValidInterval)(n))throw new Error(a.isInvalidIntervalError());if(!e||!Object(s.d)(r))throw new Error(a.minTimeBarIntervalNotForTimeBarChartError())}}},53:function(r,e,n){"use strict";n.r(e),n.d(e,"extendedDataLayerFn",(function(){return a}));var o=n(17),t=n(1),i=n(27),s=n(31);const a=async(r,e,n)=>{var a;const l=null!==(a=e.table)&&void 0!==a?a:r,u=Object(i.b)(e,l);Object(o.validateAccessor)(u.xAccessor,l.columns),Object(o.validateAccessor)(u.splitAccessor,l.columns),u.accessors.forEach((r=>Object(o.validateAccessor)(r,l.columns))),Object(s.i)(e.markSizeAccessor,e.seriesType),Object(o.validateAccessor)(e.markSizeAccessor,l.columns),Object(s.h)(e.lineWidth,e.seriesType),Object(s.n)(e.showPoints,e.seriesType),Object(s.m)(e.pointsRadius,e.seriesType);const c=Object(i.e)(l,u.xAccessor);return{type:t.h,...e,layerType:t.r.DATA,...u,table:c}}}}]);