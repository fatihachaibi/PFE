(window.expressionHeatmap_bundle_jsonpfunction=window.expressionHeatmap_bundle_jsonpfunction||[]).push([[1],{23:function(e,n,t){"use strict";t.d(n,"i",(function(){return g})),t.d(n,"n",(function(){return b})),t.d(n,"p",(function(){return h})),t.d(n,"l",(function(){return x})),t.d(n,"k",(function(){return y})),t.d(n,"j",(function(){return w})),t.d(n,"m",(function(){return C})),t.d(n,"o",(function(){return k})),t.d(n,"f",(function(){return a})),t.d(n,"h",(function(){return s})),t.d(n,"a",(function(){return c})),t.d(n,"c",(function(){return u})),t.d(n,"g",(function(){return d})),t.d(n,"e",(function(){return v})),t.d(n,"d",(function(){return m})),t.d(n,"b",(function(){return p}));var o=t(24),r=t.n(o),i=t(25),l=t.n(i),a="positive",s="fixed",c="custom",u="above",d="percent",v=0,m=100,p=5,f=["stops"];function g(e,n,t,o,r){return 0===o?r+n:h(n+(e-t)*r/o)}function b(e,n,t){var o=t.prevPalette,i=t.dataBounds,s=t.mapFromMinValue,c=t.defaultPaletteName,u=function(e,n){var t,o,r,i,l,a,s=x(null==e?void 0:e.rangeType,n),c=s.min,u=s.max,d=null!==(t=null==e||null===(o=e.colorStops)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.stop)&&void 0!==t?t:Number.POSITIVE_INFINITY,v=null!==(i=null==e||null===(l=e.colorStops)||void 0===l||null===(a=l[e.colorStops.length-1])||void 0===a?void 0:a.stop)&&void 0!==i?i:Number.NEGATIVE_INFINITY;return{min:Math.min(c,d),max:Math.max(u,v)}}(n,i),d=u.min,v=u.max,m=v-d,b=n||{},h=(b.stops,l()(b,f));if("custom"===n.name&&null!=n&&n.colorStops)return function(e,n){var t=e.map((function(e,t,o){return r()(r()({},e),{},{stop:t+1<o.length?o[t+1].stop:n})}));if(e[e.length-1].stop===n){var o=function(e,n,t){var o=n.length,r=o>1&&n[o-1].stop-n[o-2].stop||1,i=Number(r.toFixed(2));if(t<e[o-1].stop+i){var l=t-e[o-1].stop;i=l>0?l:1}return i}(e,t,n)||1,i=Math.min(1,o);t[e.length-1].stop=n+i}return t}(n.colorStops,v);var y,w,C,k,j,S,I=(null==n?void 0:n.steps)||p,O=e.get(o||(null==n?void 0:n.name)||c||a).getCategoricalColors(I,h),T=s||0===m?d:m/I;return y=O.map((function(e,n){return{color:e,stop:n}})),w={newInterval:m,oldInterval:O.length,newMin:T,oldMin:0},C=w.newInterval,k=w.oldInterval,j=w.newMin,S=w.oldMin,(y||[]).map((function(e){return{color:e.color,stop:g(e.stop,j,S,k,C)}}))}function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number((Math.floor(100*e)/100).toFixed(n))}function x(e,n){return{min:"number"===e?n.min:v,max:"number"===e?n.max:m}}var y=function(e){return Boolean(e&&["below","all"].includes(e))},w=function(e){return Boolean(e&&["above","all"].includes(e))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"percent";return"percent"===e?{min:0,max:100,fallback:!0}:{min:1,max:1,fallback:!0}};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.map((function(e){return e.stop}));return e.map((function(t,o){return{color:t.color,stop:n[e.length-o-1]}})).reverse()}},24:function(e,n,t){e.exports=t(14)(2567)},25:function(e,n,t){e.exports=t(14)(6)},27:function(e,n,t){"use strict";var o,r=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function l(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function a(e,n){for(var t={},o=[],r=0;r<e.length;r++){var a=e[r],s=n.base?a[0]+n.base:a[0],c=t[s]||0,u="".concat(s," ").concat(c);t[s]=c+1;var d=l(u),v={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(v)):i.push({identifier:u,updater:f(v,n),references:1}),o.push(u)}return o}function s(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=t.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var l=r(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(n)}return n}var c,u=(c=[],function(e,n){return c[e]=n,c.filter(Boolean).join("\n")});function d(e,n,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=u(n,r);else{var i=document.createTextNode(r),l=e.childNodes;l[n]&&e.removeChild(l[n]),l.length?e.insertBefore(i,l[n]):e.appendChild(i)}}function v(e,n,t){var o=t.css,r=t.media,i=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,p=0;function f(e,n){var t,o,r;if(n.singleton){var i=p++;t=m||(m=s(n)),o=d.bind(null,t,i,!1),r=d.bind(null,t,i,!0)}else t=s(n),o=v.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=a(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var r=l(t[o]);i[r].references--}for(var s=a(e,n),c=0;c<t.length;c++){var u=l(t[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}t=s}}}},28:function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t,o,r,i=e[1]||"",l=e[3];if(!l)return i;if(n&&"function"==typeof btoa){var a=(t=l,o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),s=l.sources.map((function(e){return"/*# sourceURL=".concat(l.sourceRoot||"").concat(e," */")}));return[i].concat(s).concat([a]).join("\n")}return[i].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(r[l]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);o&&r[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},30:function(e,n,t){switch(window.__kbnThemeTag__){case"v8dark":return t(31);case"v8light":return t(33)}},31:function(e,n,t){var o=t(27),r=t(32);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},32:function(e,n,t){(n=t(28)(!1)).push([e.i,".heatmap-container{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;width:100%;overflow:auto hidden;-webkit-user-select:text;user-select:text;padding:8px}.heatmap-container::-webkit-scrollbar{width:16px;height:16px}.heatmap-container::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.heatmap-container::-webkit-scrollbar-corner,.heatmap-container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}\n",""]),e.exports=n},33:function(e,n,t){var o=t(27),r=t(34);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},34:function(e,n,t){(n=t(28)(!1)).push([e.i,".heatmap-container{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;width:100%;overflow:auto hidden;-webkit-user-select:text;user-select:text;padding:8px}.heatmap-container::-webkit-scrollbar{width:16px;height:16px}.heatmap-container::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.heatmap-container::-webkit-scrollbar-corner,.heatmap-container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}\n",""]),e.exports=n},43:function(e,n,t){"use strict";t.r(n),t.d(n,"HeatmapComponent",(function(){return j})),t.d(n,"default",(function(){return j}));var o=t(10),r=t.n(o),i=t(6),l=t(19),a=t(12),s=t(4),c=t(5),u=t(23),d=t(18),v=t(1),m={name:"1azakc",styles:"text-align:center"},p=function(){var e=m;return Object(v.jsx)("div",{css:e},Object(v.jsx)(d.EuiLoadingSpinner,null))};t(7);!function(e){arguments.length>1&&void 0!==arguments[1]||Object(v.jsx)(p,null)}(r.a.lazy((function(){return t.e(2).then(t.bind(null,42))})));const f={name:"temperature",reverse:!1,rangeType:"percent",rangeMin:u.e,rangeMax:u.d,progression:u.h,stops:[],steps:u.b,colorStops:[],continuity:u.c};function g(e){return e}function b(e){if(null!=e&&!Array.isArray(e))return e}const h=e=>{var n,t;const o=null===(n=e.meta)||void 0===n||null===(t=n.sourceParams)||void 0===t?void 0:t.params,r=null==o?void 0:o.orderBy;return null!=o&&o.otherBucket||!r?"dataIndex":r&&"_key"!==r?"desc"===(null==o?void 0:o.order)?"numDesc":"numAsc":"desc"===(null==o?void 0:o.order)?"alphaDesc":"alphaAsc"};function x(e){switch(e){case i.Position.Bottom:return"upCenter";case i.Position.Top:return"downCenter";case i.Position.Left:return"rightCenter";default:return"leftCenter"}}const y=Object(o.createContext)(void 0),w=({anchor:e,color:n,onClose:t,onChange:r,seriesIdentifiers:[i]})=>{var l;const s=Object(o.useContext)(y),c=Object(o.useCallback)((()=>{null==t||t()}),[t]);if(!s)return null;const{legendPosition:u,setColor:m,uiState:p}=s,f=i.key,g=null!==(l=null==p?void 0:p.get("vis.colors",{}))&&void 0!==l?l:{},b=f.toString()in g;let h=!1;return Object(v.jsx)(d.EuiOutsideClickDetector,{onOutsideClick:c},Object(v.jsx)(d.EuiWrappingPopover,{isOpen:!0,ownFocus:!0,display:"block",button:e,anchorPosition:x(u),closePopover:t,panelPaddingSize:"s"},Object(v.jsx)(a.ColorPicker,{color:n,onChange:e=>{e&&r(e),m(e,f),e&&h||t()},label:f,useLegacyColors:!1,colorIsOverwritten:b,onKeyDown:e=>{13===e.keyCode&&(null==t||t()),h=!0}})))};var C=t(11);function k({colors:e,stops:n,range:t},{min:o,max:r}){if(n.length)return n.slice(0,n.length-1);const i="percent"===t?0:o,l=(("percent"===t?100:r)-i)/e.length;return e.slice(0,e.length-1).map(((e,n)=>i+(n+1)*l))}t(30);const j=Object(o.memo)((({data:e,args:n,timeZone:t,formatFactory:d,chartsThemeService:m,onClickValue:p,onSelectRange:x,paletteService:j,uiState:S,interactive:I})=>{var O,T,A,N,M,L,E,P,F,D,_,B,V,R,z,Y,H,U,$,W,G,X,Z,J,q;const K=m.useChartsTheme(),Q=m.useDarkMode(),[ee,ne]=Object(o.useState)((()=>{var e;const t=null===(e=n.legend.isVisible)||void 0===e||e;return null==S?void 0:S.get("vis.legendOpen",t)})),te=Object(o.useCallback)((()=>{I&&ne((e=>{var n;const t=!e;return null==S||null===(n=S.set)||void 0===n||n.call(S,"vis.legendOpen",t),t}))}),[S,I]),oe=Object(o.useCallback)(((e,n)=>{const t=(null==S?void 0:S.get("vis.colors"))||{};t[n]!==e&&e?t[n]=e:delete t[n],null==S||S.setSilent("vis.colors",null),null==S||S.set("vis.colors",t),null==S||S.emit("reload"),null==S||S.emit("colorChanged")}),[S]),re=e,ie=n.valueAccessor?Object(s.getAccessorByDimension)(n.valueAccessor,re.columns):void 0,le=Object(o.useMemo)((()=>((e,n,t=g)=>{const o={};if(null!=n)for(const r of e){const e=t(r);o[e]=o[e]||{max:-1/0,min:1/0},n.rows.forEach((n=>{const t=b(n[r]);null!=t&&(o[e].min>t&&(o[e].min=t),o[e].max<t&&(o[e].max=t))})),o[e].max===-1/0&&(o[e]={max:100,min:0,fallback:!0})}return o})([ie],re)),[ie,re]),ae=null===(O=n.palette)||void 0===O?void 0:O.params,se=n.xAccessor?Object(s.getAccessorByDimension)(n.xAccessor,re.columns):void 0,ce=n.yAccessor?Object(s.getAccessorByDimension)(n.yAccessor,re.columns):void 0,ue=re.columns.findIndex((e=>e.id===se)),de=re.columns.findIndex((e=>e.id===ce)),ve=re.columns[ue],me=re.columns[de],pe=re.columns.find((e=>e.id===ie)),fe=null==ve?void 0:ve.meta,ge="date"===(null==fe?void 0:fe.type),be=Object(o.useCallback)((e=>{const n=e[0][0],{x:t,y:o}=n.datum,r={data:[{row:re.rows.findIndex((e=>e[ve.id]===t)),column:ue,value:t},...me?[{row:re.rows.findIndex((e=>e[me.id]===o)),column:de,value:o}]:[]].map((e=>({row:e.row,column:e.column,value:e.value,table:re})))};p(r)}),[p,re,null==ve?void 0:ve.id,ue,me,de]),he=Object(o.useCallback)((e=>{const{x:n,y:t}=e;if(ge)x({range:n,table:re,column:ue});else{const e=[];me&&t.forEach((n=>{e.push({row:re.rows.findIndex((e=>e[me.id]===n)),column:de,value:n})})),ve&&n.forEach((n=>{e.push({row:re.rows.findIndex((e=>e[ve.id]===n)),column:ue,value:n})}));const o={data:e.map((e=>({row:e.row,column:e.column,value:e.value,table:re})))};p(o)}}),[ge,p,x,re,ve,ue,me,de]);if(!pe)return null;let xe=re.rows.filter((e=>null===e[ie]||"number"==typeof e[ie]));if(!xe||!xe.length)return Object(v.jsx)(a.EmptyPlaceholder,{icon:C.a});me||(xe=xe.map((e=>({...e,unifiedY:""}))));const{min:ye,max:we}=le[ie],Ce=d(null==fe?void 0:fe.params),ke=d(Object(s.getFormatByAccessor)(n.valueAccessor,re.columns)),je=ve?l.search.aggs.getDateHistogramMetaDataByDatatableColumn(ve):void 0;let Se={type:i.ScaleType.Ordinal};if(ge&&xe.length>1){const e=null==je?void 0:je.interval,n=e?l.search.aggs.parseEsInterval(e):void 0;n&&(Se={type:i.ScaleType.Time,interval:"fixed"===n.type?{type:"fixed",unit:n.unit,value:n.value}:{type:"calendar",unit:n.unit,value:n.value}})}const Ie={type:n.showTooltip?i.TooltipType.Follow:i.TooltipType.None},{colors:Oe,ranges:Te}=function(e,n,t,o){const r=(null==n?void 0:n.colors)||function(e,n,t){var o,r,i;let l=Object(u.n)(e,(null==n?void 0:n.params)||{},{dataBounds:t,defaultPaletteName:null!==(o=null==n?void 0:n.name)&&void 0!==o?o:f.name});return null!=n&&null!==(r=n.params)&&void 0!==r&&r.reverse&&(null==n||null===(i=n.params)||void 0===i?void 0:i.name)!==u.a&&(l=Object(u.o)(l)),l}(e,{type:"palette",name:f.name},o).map((({color:e})=>e)),i=[r[0],...r],l=function(e,{min:n,max:t}){const o="percent"===e.range?0:n;return[e.stops.length?e.rangeMin:o,...k(e,{min:n,max:t})].map((o=>{let r=o;return"percent"===e.range&&(r=n+(t-n)*o/100),Number.isNaN(r)?1:Number(r.toFixed(2))}))}({gradient:!1,range:f.rangeType,rangeMin:f.rangeMin,rangeMax:f.rangeMax,stops:[],...n,colors:i.slice(1)},o);return{colors:i,ranges:l}}(j,ae,0,le[ie]),Ae=1e-5;let Ne=we+Ae;(null!=ae&&ae.rangeMax||0===(null==ae?void 0:ae.rangeMax))&&(Ne=("number"===(null==ae?void 0:ae.range)?ae.rangeMax:ye+(we-ye)*ae.rangeMax/100)+Ae);const Me=null!==(T=null==S?void 0:S.get("vis.colors"))&&void 0!==T?T:null,Le=we===ye,Ee=Te.map(((e,t,o)=>{const r=t===o.length-1,i=o[t+1];let l=r?Number.POSITIVE_INFINITY:i;const a=r&&Le?ye:e;if(!1===n.lastRangeIsRightOpen){const e=Le?Number.POSITIVE_INFINITY:Ne;l=r?e:i}let s;s=l===Number.POSITIVE_INFINITY?`â‰¥ ${ke.convert(a)}`:`${ke.convert(e)} - ${ke.convert(l)}`;const c=null==Me?void 0:Me[s];return{start:a,end:l,color:null!=c?c:Oe[t+1]}})),Pe={legend:{labelOptions:{maxLines:n.legend.shouldTruncate?null!==(A=null===(N=n.legend)||void 0===N?void 0:N.maxLines)&&void 0!==A?A:1:0}},heatmap:{grid:{stroke:{width:null!==(M=null!==(L=n.gridConfig.strokeWidth)&&void 0!==L?L:null===(E=K.axes)||void 0===E||null===(P=E.gridLine)||void 0===P||null===(F=P.horizontal)||void 0===F?void 0:F.strokeWidth)&&void 0!==M?M:1,color:null!==(D=null!==(_=n.gridConfig.strokeColor)&&void 0!==_?_:null===(B=K.axes)||void 0===B||null===(V=B.gridLine)||void 0===V||null===(R=V.horizontal)||void 0===R?void 0:R.stroke)&&void 0!==D?D:"#D3DAE6"},cellHeight:{max:"fill",min:1}},cell:{maxWidth:"fill",maxHeight:"fill",label:{visible:null!==(z=n.gridConfig.isCellLabelVisible)&&void 0!==z&&z,minFontSize:8,maxFontSize:18,useGlobalMinFontSize:!0},border:{strokeWidth:0}},yAxisLabel:{visible:!!me&&n.gridConfig.isYAxisLabelVisible,textColor:null!==(Y=null===(H=K.axes)||void 0===H||null===(U=H.tickLabel)||void 0===U?void 0:U.fill)&&void 0!==Y?Y:"#6a717d",padding:null!=me&&me.name?8:0},xAxisLabel:{visible:Boolean(n.gridConfig.isXAxisLabelVisible&&ve),textColor:null!==($=null===(W=K.axes)||void 0===W||null===(G=W.tickLabel)||void 0===G?void 0:G.fill)&&void 0!==$?$:"#6a717d",padding:null!=ve&&ve.name?8:0},brushMask:{fill:Q?"rgb(30,31,35,80%)":"rgb(247,247,247,50%)"},brushArea:{stroke:Q?"rgb(255, 255, 255)":"rgb(105, 112, 125)"}}},Fe=null!==(X=n.gridConfig.xTitle)&&void 0!==X?X:null==ve?void 0:ve.name,De=null!==(Z=n.gridConfig.yTitle)&&void 0!==Z?Z:null==me?void 0:me.name;return Object(v.jsx)(r.a.Fragment,null,void 0!==ee&&Object(v.jsx)(a.LegendToggle,{onClick:te,showLegend:ee,legendPosition:n.legend.position}),Object(v.jsx)(y.Provider,{value:{uiState:S,setColor:oe,legendPosition:n.legend.position}},Object(v.jsx)(i.Chart,null,Object(v.jsx)(i.Settings,{onElementClick:I?be:void 0,showLegend:null!=ee?ee:n.legend.isVisible,legendPosition:n.legend.position,legendSize:c.LegendSizeToPixels[null!==(J=n.legend.legendSize)&&void 0!==J?J:c.DEFAULT_LEGEND_SIZE],legendColorPicker:S?w:void 0,debugState:null!==(q=window._echDebugStateFlag)&&void 0!==q&&q,tooltip:Ie,theme:[Pe,K],xDomain:{min:je&&je.timeRange?new Date(je.timeRange.from).getTime():NaN,max:je&&je.timeRange?new Date(je.timeRange.to).getTime():NaN},onBrushEnd:I?he:void 0,ariaLabel:n.ariaLabel,ariaUseDefaultSummary:!n.ariaLabel}),Object(v.jsx)(i.Heatmap,{id:"heatmap",name:pe.name,colorScale:{type:"bands",bands:Ee},timeZone:t,data:xe,xAccessor:se,yAccessor:ce||"unifiedY",valueAccessor:ie,valueFormatter:e=>{var t;let o=e;if(n.percentageMode){const e=Math.abs(o-ye)/(we-ye)*100;o=parseInt(e.toString(),10)/100}return`${null!==(t=ke.convert(o))&&void 0!==t?t:""}`},xScale:Se,ySortPredicate:me?h(me):"dataIndex",xSortPredicate:ve?h(ve):"dataIndex",xAxisLabelName:null==ve?void 0:ve.name,yAxisLabelName:null==me?void 0:me.name,xAxisTitle:n.gridConfig.isXAxisTitleVisible?Fe:void 0,yAxisTitle:n.gridConfig.isYAxisTitleVisible?De:void 0,xAxisLabelFormatter:e=>n.gridConfig.isXAxisLabelVisible?`${Ce.convert(e)}`:"",yAxisLabelFormatter:me?e=>{var t;return n.gridConfig.isYAxisLabelVisible?`${null!==(t=d(me.meta.params).convert(e))&&void 0!==t?t:""}`:""}:void 0}))))}))}}]);