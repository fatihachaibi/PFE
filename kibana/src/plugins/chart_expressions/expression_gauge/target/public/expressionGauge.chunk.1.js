(window.expressionGauge_bundle_jsonpfunction=window.expressionGauge_bundle_jsonpfunction||[]).push([[1],Array(20).concat([function(e,t,n){"use strict";var r,a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],a=0;a<e.length;a++){var l=e[a],c=t.base?l[0]+t.base:l[0],s=n[c]||0,u="".concat(c," ").concat(s);n[c]=s+1;var d=i(u),g={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(o[d].references++,o[d].updater(g)):o.push({identifier:u,updater:f(g,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,u=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function d(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function g(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,m=0;function f(e,t){var n,r,a;if(t.singleton){var o=m++;n=p||(p=c(t)),r=d.bind(null,n,o,!1),a=d.bind(null,n,o,!0)}else n=c(t),r=g.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=i(n[r]);o[a].references--}for(var c=l(e,t),s=0;s<n.length;s++){var u=i(n[s]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,a,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var l=(n=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(a," */")),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([l]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&a[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(23);case"v8light":return n(25)}},function(e,t,n){var r=n(20),a=n(24);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){(t=n(21)(!1)).push([e.i,".gauge-container{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;width:100%;overflow:hidden;-webkit-user-select:text;user-select:text;padding:8px}.gauge-container::-webkit-scrollbar{width:16px;height:16px}.gauge-container::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.gauge-container::-webkit-scrollbar-corner,.gauge-container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}\n",""]),e.exports=t},function(e,t,n){var r=n(20),a=n(26);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){(t=n(21)(!1)).push([e.i,".gauge-container{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;width:100%;overflow:hidden;-webkit-user-select:text;user-select:text;padding:8px}.gauge-container::-webkit-scrollbar{width:16px;height:16px}.gauge-container::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.gauge-container::-webkit-scrollbar-corner,.gauge-container::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}\n",""]),e.exports=t},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(28);case"v8light":return n(30)}},function(e,t,n){var r=n(20),a=n(29);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){(t=n(21)(!1)).push([e.i,".gauge__wrapper{flex:1 1 0;display:flex;flex-direction:column;height:100%}.gauge__label{width:100%;text-align:center}\n",""]),e.exports=t},function(e,t,n){var r=n(20),a=n(31);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){(t=n(21)(!1)).push([e.i,".gauge__wrapper{flex:1 1 0;display:flex;flex-direction:column;height:100%}.gauge__label{width:100%;text-align:center}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"GaugeComponent",(function(){return h})),n.d(t,"default",(function(){return h}));var r=n(5),a=n.n(r),o=n(10),i=n(18),l=n(19),c=n(9),s=n(4),u=n(2),d=n(8),g=(n(22),n(11)),p=(n(27),n(3));const m="rgba(255,255,255,0)",f=(e,t)=>n=>(n-e)/(t-e);function b(e,t,n){return e===u.GaugeLabelMajorModes.NONE?"":e===u.GaugeLabelMajorModes.AUTO?n||"":t||n||""}const h=Object(o.memo)((({data:e,args:t,uiState:n,formatFactory:r,paletteService:h,chartsThemeService:v})=>{var x,j,M,w,y,_;const{shape:k,palette:O,colorMode:C,labelMinor:S,labelMajor:T,labelMajorMode:F,centralMajor:E,centralMajorMode:N,ticksPosition:G,commonLabel:L}=t,A=Object(o.useCallback)(((e,t,n,r)=>{var a,o,i,l,c;const{rangeMin:s,rangeMax:u,range:d}=t.params,g=n[0],p=n[n.length-1];let m=s,f=u,b=null!==(a=null===(o=t.params)||void 0===o?void 0:o.stops)&&void 0!==a?a:[];if(r&&(b=n.map((e=>100*e))),"percent"===d){const e={min:g,max:p};m=((e,{min:t,max:n})=>isFinite(e)?e*((n-t)/100):t)(m,e),f=((e,{min:t,max:n})=>isFinite(e)?e*((n-t)/100):n)(f,e)}return null===(i=(l=h.get(null!==(c=null==t?void 0:t.name)&&void 0!==c?c:"custom")).getColorForValue)||void 0===i?void 0:i.call(l,e,{...t.params,stops:b},{min:m,max:f})}),[h]),R=Object(o.useCallback)(((e,t,r)=>{var a,o,i;const l=null!==(a=null==n?void 0:n.get("vis.colors"))&&void 0!==a?a:{},c=t.findIndex(((t,n,r)=>n!==r.length-1&&e>=t&&e<r[n+1]));if(c<0||c===t.length-1)return;const s=t[c],u=t[c+1];return l[`${null!==(o=null==r?void 0:r.convert(s))&&void 0!==o?o:s} - ${null!==(i=null==r?void 0:r.convert(u))&&void 0!==i?i:u}`]}),[n]),D=e,I=Object(d.a)(t,D.columns);if(!I||!I.metric)return null;const P=v.useChartsTheme(),U=D.columns.find((e=>e.id===I.metric)),$=D.rows.filter((e=>"number"==typeof e[I.metric]||Array.isArray(e[I.metric]))),B=null==$?void 0:$[0],V=t.metric?Object(d.h)(I.metric,B):void 0,q=Object(d.d)(k);if("number"!=typeof V)return Object(p.jsx)(c.EmptyPlaceholder,{icon:q});const H=I.goal?Object(d.h)(I.goal,B):void 0,J=Object(d.f)(B,I,null==O?void 0:O.params,t.respectRanges),z=Object(d.e)(B,I,null==O?void 0:O.params,t.respectRanges);if(J===z)return Object(p.jsx)(c.EmptyPlaceholder,{icon:q,message:Object(p.jsx)(l.FormattedMessage,{id:"expressionGauge.renderer.chartCannotRenderEqual",defaultMessage:"Minimum and maximum values may not be equal"})});if(J>z)return Object(p.jsx)(c.EmptyPlaceholder,{icon:q,message:Object(p.jsx)(l.FormattedMessage,{id:"expressionGauge.renderer.chartCannotRenderMinGreaterMax",defaultMessage:"Minimum value may not be greater than maximum value"})});const K=Object(s.isVisDimension)(t.metric)?t.metric.format:void 0,Q=null!=U&&null!==(x=U.meta)&&void 0!==x&&null!==(j=x.params)&&void 0!==j&&j.params?null==U||null===(M=U.meta)||void 0===M?void 0:M.params:void 0,W=r(null!==(w=null!=K?K:Q)&&void 0!==w?w:{id:"number",params:{pattern:z-J>5?"0,0":"0,0.0"}});let X=null!=O&&O.params?function({colors:e,stops:t,range:n,rangeMax:r,rangeMin:a},{min:o,max:i}){if(!t.length){const t=(i-o)/e.length;return[o,...e.map(((e,n)=>o+(n+1)*t))]}let l=[o],c=[i],s=a,u=r;if("percent"===n&&(s=o+a*((i-o)/100),u=o+r*((i-o)/100)),s>o&&isFinite(s)&&(l=[o,s]),u<i&&isFinite(u)&&(c=[u,i]),"percent"===n){const e=t.filter((e=>e>0&&e<100));return[...l,...e.map((e=>o+e*((i-o)/100))),...c]}const d=t.filter(((e,t)=>e<i&&e>o));return[...l,...d,...c]}(null==O?void 0:O.params,{min:J,max:z}):[J,z],Y=Math.round(1e3*Math.min(Math.max(V,J),z))/1e3;const Z=function(e,t,n,r){if(e===u.GaugeTicksPositions.HIDDEN)return[];if(e===u.GaugeTicksPositions.BANDS&&n)return n&&function(e){const t=.1*(Math.max(...e)-Math.min(...e)),n=e.length-1;return e.filter(((r,a)=>0===a||a===n||!(r-e[a-1]<t||e[n]-r<t)))}(n);const a=Math.min(...n||[],...t),o=Math.max(...n||[],...t),i=(o-a)/3,l=[...Array(3).fill(null).map(((e,t)=>Number((a+i*t).toFixed(2)))),o],c=f(a,o);return r?l.map(c):l}(G,[J,z],X,t.percentageMode),ee=k===u.GaugeShapes.CIRCLE?Z.slice(0,Z.length-1):Z;t.percentageMode&&null!=O&&O.params&&null!=O&&null!==(y=O.params.stops)&&void 0!==y&&y.length&&(X=function({colors:e,stops:t},n){const r=t[0],a=t[t.length-1],o=f(r,a),i=t.map(o);return a<n&&i.push(o(n)),i}(null==O?void 0:O.params,Y),Y=function({stops:e},t){const n=e[0],r=e[e.length-1];return f(n,r)(t)}(null==O?void 0:O.params,Y));const te=Object(d.b)(k),ne=b(F,T,null==U?void 0:U.name),re=Object(g.a)(k)?"   ":"",ae=Object(g.a)(k)?"  ":"",oe=Object(g.b)(k)?{centralMinor:W.convert(Y),centralMajor:b(N,E,null==U?void 0:U.name)}:{};return Object(p.jsx)("div",{className:"gauge__wrapper"},Object(p.jsx)(i.Chart,null,Object(p.jsx)(i.Settings,{debugState:null!==(_=window._echDebugStateFlag)&&void 0!==_&&_,theme:[{background:{color:"transparent"}},P],ariaLabel:t.ariaLabel,ariaUseDefaultSummary:!t.ariaLabel}),Object(p.jsx)(i.Goal,a()({id:"goal",subtype:Object(d.g)(k),base:X[0],target:H&&H>=X[0]&&H<=X[X.length-1]?H:void 0,actual:Y,tickValueFormatter:({value:e})=>W.convert(e),tooltipValueFormatter:e=>W.convert(e),bands:X,ticks:ee,domain:{min:J,max:z},bandFillColor:C===u.GaugeColorModes.PALETTE?e=>{var n,r,a,o;const i=((e,t)=>{let n=e-1;const r=t.indexOf(e),a=t[r-1],o=t[r];return r>0&&(n=e-(o-a)/2),n})(e.value,X);return R(i,t.percentageMode?X:null!==(n=null===(r=t.palette)||void 0===r||null===(a=r.params)||void 0===a?void 0:a.stops)&&void 0!==n?n:[],t.percentageMode?W:void 0)||(t.palette&&null!==(o=A(i,t.palette,X,t.percentageMode))&&void 0!==o?o:m)}:()=>m,labelMajor:ne?`${ne}${re}`:ne,labelMinor:S?`${S}${ae}`:""},oe,te))),L&&Object(p.jsx)("div",{className:"gauge__label"},L))}))}])]);