!function(e){function t(t){for(var r,i,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&u.push(n[i][0]),n[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(l&&l(t);u.length;)u.shift()()}var r={},n={0:0};function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,i){r=n[e]=[t,i]}));t.push(r[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"visTypeGauge.chunk."+e+".js"}(e);var l=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,r[1](l)}n[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.visTypeGauge_bundle_jsonpfunction=window.visTypeGauge_bundle_jsonpfunction||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=a;i(i.s=12)}([function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));const n={Automatic:"automatic",Horizontal:"horizontal",Vertical:"vertical"},i={Arc:"Arc",Circle:"Circle"}},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";r.r(t),r.d(t,"LEGACY_GAUGE_CHARTS_LIBRARY",(function(){return n}));const n="visualization:visualize:legacyGaugeChartsLibrary"},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,r){e.exports=r(14)(3)},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/charts/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r(13),__kbnBundles__.define("plugin/visTypeGauge/public",r,15),__kbnBundles__.define("plugin/visTypeGauge/common/index",r,8)},function(e,t,r){r.p=window.__kbnPublicPath__.visTypeGauge},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,r){"use strict";r.r(t),r.d(t,"plugin",(function(){return j})),r.d(t,"gaugeVisType",(function(){return T})),r.d(t,"goalVisType",(function(){return x}));var n=r(8),i=r(6),o=r(1),a=r(4),s=r(5),l=r(7),u=r(3),c=r(0),g=r(11);function p(e){return Object(c.buildExpressionFunction)("esaggs",{index:Object(c.buildExpression)([Object(c.buildExpressionFunction)("indexPatternLoad",{id:e.data.indexPattern.id})]),metricsAtAllLevels:e.isHierarchical(),partialRows:!1,aggs:e.data.aggs.aggs.map((e=>Object(c.buildExpression)(e.toExpressionAst())))})}const d=e=>{const t=Object(c.buildExpressionFunction)("visdimension",{accessor:e.accessor});return e.format&&(t.addArgument("format",e.format.id),t.addArgument("formatParams",JSON.stringify(e.format.params))),Object(c.buildExpression)([t])},f=(e,t)=>{var r,n;const i=Object(l.getVisSchemas)(e,t),{gaugeType:o,percentageMode:a,percentageFormatPattern:s,colorSchema:f,colorsRange:b,invertColors:m,scale:_,style:h,labels:v}=e.params.gauge;!0===a&&i.metric.forEach((e=>{e.format={id:"percent",params:{pattern:s}}}));const y=v.show?h.subText?"custom":"auto":"none",O=Object(c.buildExpressionFunction)("gauge",{shape:(T=o,{[u.b.Arc]:"arc",[u.b.Circle]:"circle"}[T]),metric:i.metric.map(d),ticksPosition:_.show?"auto":"hidden",labelMajorMode:"none",colorMode:"palette",centralMajorMode:y,..."custom"===y?{labelMinor:h.subText}:{},percentageMode:a,respectRanges:!0,commonLabel:null===(r=i.metric)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.label});var T;if(b&&b.length){const e=((e,t,r=!1)=>e.reduce(((e,n,i,o)=>((i&&n.from!==o[i-1].to||0===i)&&(e.color.push("rgb(0, 0, 0, 0)"),e.stop.push(n.from)),e.color.push(((e,t,r,n=!1)=>{const i=Math.max(t-1,1),o=n?1-e/i:e/i;return Object(g.getHeatmapColors)(o,r)})(i,o.length,t,r)),e.stop.push(n.to),e)),{color:[],stop:[]}))(b,f,m),t=Object(c.buildExpressionFunction)("palette",{...e,range:a?"percent":"number",continuity:"none",gradient:!0,rangeMax:a?100:e.stop[e.stop.length-1],rangeMin:e.stop[0]});O.addArgument("palette",Object(c.buildExpression)([t]))}return Object(c.buildExpression)([p(e),O]).toAst()};var b=r(10),m=r.n(b),_=r(2);const h=Object(i.lazy)((()=>r.e(1).then(r.bind(null,18)))),v=({showElasticChartsOptions:e})=>t=>Object(_.jsx)(h,m()({},t,{showElasticChartsOptions:e}));var y=r(9);function O(){return Object(_.jsx)(y.FormattedMessage,{id:"visTypeGauge.splitTitle.tooltip",defaultMessage:"Split chart aggregation is not yet supported with the new charts library. Please, enable the gauge legacy charts library advanced setting to use split chart aggregation."})}const T=e=>(e=>({name:"gauge",title:o.i18n.translate("visTypeGauge.gauge.gaugeTitle",{defaultMessage:"Gauge"}),icon:"visGauge",description:o.i18n.translate("visTypeGauge.gauge.gaugeDescription",{defaultMessage:"Show the status of a metric."}),getSupportedTriggers:()=>[l.VIS_EVENT_TO_TRIGGER.filter],toExpressionAst:f,visConfig:{defaults:{type:"gauge",addTooltip:!0,addLegend:!0,isDisplayWarning:!1,gauge:{alignment:u.a.Automatic,extendRange:!0,percentageMode:!1,gaugeType:u.b.Arc,gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",colorSchema:a.ColorSchemas.GreenToRed,gaugeColorMode:a.ColorMode.Labels,colorsRange:[{from:0,to:50},{from:50,to:75},{from:75,to:100}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!0,labels:!1,color:"rgba(105,112,125,0.2)"},type:"meter",style:{bgWidth:.9,width:.9,mask:!1,bgMask:!1,maskBars:50,bgFill:"rgba(105,112,125,0.2)",bgColor:!0,subText:"",fontSize:60}}}},editorConfig:{enableDataViewChange:!0,optionsTemplate:v(e),schemas:[{group:s.AggGroupNames.Metrics,name:"metric",title:o.i18n.translate("visTypeGauge.gauge.metricTitle",{defaultMessage:"Metric"}),min:1,...e.showElasticChartsOptions?{max:1}:{},aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds","!filtered_metric","!single_percentile"],defaults:[{schema:"metric",type:"count"}]},{group:s.AggGroupNames.Buckets,name:"group",...e.showElasticChartsOptions&&{disabled:!0,tooltip:Object(_.jsx)(O,null)},title:o.i18n.translate("visTypeGauge.gauge.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0}))(e),x=e=>(e=>({name:"goal",title:o.i18n.translate("visTypeGauge.goal.goalTitle",{defaultMessage:"Goal"}),icon:"visGoal",description:o.i18n.translate("visTypeGauge.goal.goalDescription",{defaultMessage:"Track how a metric progresses to a goal."}),toExpressionAst:f,visConfig:{defaults:{addTooltip:!0,addLegend:!1,isDisplayWarning:!1,type:"gauge",gauge:{verticalSplit:!1,autoExtend:!1,percentageMode:!0,gaugeType:u.b.Arc,gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",useRanges:!1,colorSchema:a.ColorSchemas.GreenToRed,gaugeColorMode:a.ColorMode.None,colorsRange:[{from:0,to:1e4}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!1,labels:!1,color:"rgba(105,112,125,0.2)",width:2},type:"meter",style:{bgFill:"rgba(105,112,125,0.2)",bgColor:!1,labelColor:!1,subText:"",fontSize:60}}}},editorConfig:{enableDataViewChange:!0,optionsTemplate:v(e),schemas:[{group:s.AggGroupNames.Metrics,name:"metric",title:o.i18n.translate("visTypeGauge.goal.metricTitle",{defaultMessage:"Metric"}),min:1,...e.showElasticChartsOptions?{max:1}:{},aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds","!filtered_metric","!single_percentile"],defaults:[{schema:"metric",type:"count"}]},{group:s.AggGroupNames.Buckets,name:"group",...e.showElasticChartsOptions&&{disabled:!0,tooltip:Object(_.jsx)(O,null)},title:o.i18n.translate("visTypeGauge.goal.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geohash_grid","!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0}))(e);class plugin_VisTypeGaugePlugin{setup(e,{visualizations:t}){if(!e.uiSettings.get(n.LEGACY_GAUGE_CHARTS_LIBRARY)){const e={showElasticChartsOptions:!0};t.createBaseVisualization(T(e)),t.createBaseVisualization(x(e))}return{}}start(){}}function j(){return new plugin_VisTypeGaugePlugin}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))}]);