(window.visTypeXy_bundle_jsonpfunction=window.visTypeXy_bundle_jsonpfunction||[]).push([[3],{34:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return y}));var s=a(0),i=a(5),l=a(8),n=a(1),o=a(6),r=a(20),d=a(19);a.d(t,"d",(function(){return d.a}));const u=()=>[{text:s.i18n.translate("visTypeXy.interpolationModes.straightText",{defaultMessage:"Straight"}),value:n.d.Linear},{text:s.i18n.translate("visTypeXy.interpolationModes.smoothedText",{defaultMessage:"Smoothed"}),value:n.d.Cardinal},{text:s.i18n.translate("visTypeXy.interpolationModes.steppedText",{defaultMessage:"Stepped"}),value:n.d.StepAfter}],c=()=>[{value:n.f.Full,text:s.i18n.translate("visTypeXy.thresholdLine.style.fullText",{defaultMessage:"Full"})},{value:n.f.Dashed,text:s.i18n.translate("visTypeXy.thresholdLine.style.dashedText",{defaultMessage:"Dashed"})},{value:n.f.DotDashed,text:s.i18n.translate("visTypeXy.thresholdLine.style.dotdashedText",{defaultMessage:"Dot-dashed"})}],p=()=>[{text:s.i18n.translate("visTypeXy.categoryAxis.rotate.horizontalText",{defaultMessage:"Horizontal"}),value:l.LabelRotation.Horizontal},{text:s.i18n.translate("visTypeXy.categoryAxis.rotate.verticalText",{defaultMessage:"Vertical"}),value:l.LabelRotation.Vertical},{text:s.i18n.translate("visTypeXy.categoryAxis.rotate.angledText",{defaultMessage:"Angled"}),value:l.LabelRotation.Angled}],g=()=>[{value:i.Fit.None,text:s.i18n.translate("visTypeXy.fittingFunctionsTitle.none",{defaultMessage:"Hide (Do not fill gaps)"})},{value:i.Fit.Zero,text:s.i18n.translate("visTypeXy.fittingFunctionsTitle.zero",{defaultMessage:"Zero (Fill gaps with zeros)"})},{value:i.Fit.Linear,text:s.i18n.translate("visTypeXy.fittingFunctionsTitle.linear",{defaultMessage:"Linear (Fill gaps with a line)"})},{value:i.Fit.Carry,text:s.i18n.translate("visTypeXy.fittingFunctionsTitle.carry",{defaultMessage:"Last (Fill gaps with the last value)"})},{value:i.Fit.Lookahead,text:s.i18n.translate("visTypeXy.fittingFunctionsTitle.lookahead",{defaultMessage:"Next (Fill gaps with the next value)"})}],y=()=>({legendPositions:Object(d.a)(),positions:Object(d.a)(),chartTypes:[{text:s.i18n.translate("visTypeXy.chartTypes.lineText",{defaultMessage:"Line"}),value:o.ChartType.Line},{text:s.i18n.translate("visTypeXy.chartTypes.areaText",{defaultMessage:"Area"}),value:o.ChartType.Area},{text:s.i18n.translate("visTypeXy.chartTypes.barText",{defaultMessage:"Bar"}),value:o.ChartType.Histogram}],axisModes:[{text:s.i18n.translate("visTypeXy.axisModes.normalText",{defaultMessage:"Normal"}),value:n.a.Normal},{text:s.i18n.translate("visTypeXy.axisModes.percentageText",{defaultMessage:"Percentage"}),value:n.a.Percentage},{text:s.i18n.translate("visTypeXy.axisModes.wiggleText",{defaultMessage:"Wiggle"}),value:n.a.Wiggle},{text:s.i18n.translate("visTypeXy.axisModes.silhouetteText",{defaultMessage:"Silhouette"}),value:n.a.Silhouette}],scaleTypes:Object(r.a)(),chartModes:[{text:s.i18n.translate("visTypeXy.chartModes.normalText",{defaultMessage:"Normal"}),value:n.c.Normal},{text:s.i18n.translate("visTypeXy.chartModes.stackedText",{defaultMessage:"Stacked"}),value:n.c.Stacked}],interpolationModes:u(),thresholdLineStyles:c(),fittingFunctions:g()})},49:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return M}));var s=a(13),i=a.n(s),l=a(9),n=a.n(l),o=a(14),r=a(5),d=a(0),u=a(17),c=a(31),p=a(2),g=a(4),y=a(7);function h({stateParams:e,setValue:t}){var a;const s=Object(l.useCallback)(((a,s)=>t("grid",{...e.grid,[a]:s})),[e.grid,t]),i=Object(l.useMemo)((()=>[...e.valueAxes.map((({id:e,name:t})=>({text:t,value:e}))),{text:d.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.dontShowLabel",{defaultMessage:"Don't show"}),value:""}]),[e.valueAxes]);return Object(y.jsx)(o.EuiPanel,{paddingSize:"s"},Object(y.jsx)(o.EuiTitle,{size:"xs"},Object(y.jsx)("h3",null,Object(y.jsx)(u.FormattedMessage,{id:"visTypeXy.controls.pointSeries.gridAxis.gridText",defaultMessage:"Grid"}))),Object(y.jsx)(o.EuiSpacer,{size:"m"}),Object(y.jsx)(c.SwitchOption,{label:d.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.xAxisLinesLabel",{defaultMessage:"Show X-axis lines"}),paramName:"categoryLines",value:e.grid.categoryLines,setValue:s,"data-test-subj":"showCategoryLines"}),Object(y.jsx)(c.SelectOption,{id:"gridAxis",label:d.i18n.translate("visTypeXy.controls.pointSeries.gridAxis.yAxisLinesLabel",{defaultMessage:"Y-axis lines"}),options:i,paramName:"valueAxis",value:null!==(a=e.grid.valueAxis)&&void 0!==a?a:"",setValue:s}))}var b=a(34);const v=Object(b.f)();function x({stateParams:e,setValue:t,setMultipleValidity:a}){const s=Object(l.useCallback)(((a,s)=>t("thresholdLine",{...e.thresholdLine,[a]:s})),[e.thresholdLine,t]),i=Object(l.useCallback)((e=>s("color",e)),[s]),r=Object(l.useCallback)(((e,t)=>a(`thresholdLine__${e}`,t)),[a]);return Object(y.jsx)(o.EuiPanel,{paddingSize:"s"},Object(y.jsx)(o.EuiTitle,{size:"xs"},Object(y.jsx)("h3",null,Object(y.jsx)(u.FormattedMessage,{id:"visTypeXy.editors.pointSeries.thresholdLineSettingsTitle",defaultMessage:"Threshold line"}))),Object(y.jsx)(o.EuiSpacer,{size:"m"}),Object(y.jsx)(c.SwitchOption,{label:d.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.showLabel",{defaultMessage:"Show threshold line"}),paramName:"show",value:e.thresholdLine.show,setValue:s}),e.thresholdLine.show&&Object(y.jsx)(n.a.Fragment,null,Object(y.jsx)(c.RequiredNumberInputOption,{label:d.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.valueLabel",{defaultMessage:"Threshold value"}),paramName:"value",value:e.thresholdLine.value,setValue:s,setValidity:r,"data-test-subj":"thresholdValueInputOption"}),Object(y.jsx)(c.RequiredNumberInputOption,{label:d.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.widthLabel",{defaultMessage:"Line width"}),paramName:"width",min:1,step:1,value:e.thresholdLine.width,setValue:s,setValidity:r}),Object(y.jsx)(c.SelectOption,{label:d.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.styleLabel",{defaultMessage:"Line style"}),options:v,paramName:"style",value:e.thresholdLine.style,setValue:s}),Object(y.jsx)(o.EuiFormRow,{label:d.i18n.translate("visTypeXy.editors.pointSeries.thresholdLine.colorLabel",{defaultMessage:"Line color"}),fullWidth:!0,display:"rowCompressed"},Object(y.jsx)(o.EuiColorPicker,{compressed:!0,color:e.thresholdLine.color,fullWidth:!0,onChange:i}))))}var j=a(6),T=a(33),f=a(10);const m=Object(b.b)();function O(e){var t,a;const s=Object(f.f)(),[i,r]=Object(l.useState)(null),{stateParams:u,setValue:p,aggs:g}=e,h=u.seriesParams.some((({type:e,data:{id:t}})=>{var a;return e===j.ChartType.Line&&(null===(a=g.aggs.find((({id:e})=>e===t)))||void 0===a?void 0:a.enabled)})),b=u.seriesParams.some((({type:e,data:{id:t}})=>{var a;return e===j.ChartType.Area&&(null===(a=g.aggs.find((({id:e})=>e===t)))||void 0===a?void 0:a.enabled)}));return Object(l.useEffect)((()=>{(async()=>{const e=await Object(f.d)().getPalettes();r(e)})()}),[]),Object(y.jsx)(n.a.Fragment,null,Object(y.jsx)(c.SwitchOption,{"data-test-subj":"detailedTooltip",label:d.i18n.translate("visTypeXy.editors.elasticChartsOptions.detailedTooltip.label",{defaultMessage:"Show detailed tooltip"}),tooltip:d.i18n.translate("visTypeXy.editors.elasticChartsOptions.detailedTooltip.tooltip",{defaultMessage:"Enables the legacy detailed tooltip for displaying a single value. When disabled, a new summarized tooltip will be used to display multiple values."}),paramName:"detailedTooltip",value:u.detailedTooltip,setValue:(e,t)=>{s&&s(T.METRIC_TYPE.CLICK,"detailed_tooltip_switched"),p(e,t)}}),(h||b)&&Object(y.jsx)(c.SelectOption,{"data-test-subj":"fittingFunction",label:d.i18n.translate("visTypeXy.editors.elasticChartsOptions.missingValuesLabel",{defaultMessage:"Fill missing values"}),options:m,paramName:"fittingFunction",value:null!==(t=u.fittingFunction)&&void 0!==t?t:m[2].value,setValue:(e,t)=>{s&&s(T.METRIC_TYPE.CLICK,"fitting_function_selected"),p(e,t)}}),i&&Object(y.jsx)(c.PalettePicker,{palettes:i,activePalette:u.palette,paramName:"palette",setPalette:(e,t)=>{s&&s(T.METRIC_TYPE.CLICK,"palette_selected"),p(e,t)}}),b&&Object(y.jsx)(o.EuiFormRow,{label:d.i18n.translate("visTypeXy.editors.elasticChartsOptions.fillOpacity",{defaultMessage:"Fill opacity"}),fullWidth:!0,display:"rowCompressed"},Object(y.jsx)(o.EuiRange,{"data-test-subj":"fillColorOpacity",value:null!==(a=u.fillOpacity)&&void 0!==a?a:.3,min:0,max:1,step:.1,showInput:!0,fullWidth:!0,compressed:!0,onChange:e=>{p("fillOpacity",Number(e.currentTarget.value))}})))}const L=Object(b.d)();function M(e){var t,a;const{stateParams:s,setValue:b,vis:v,aggs:T}=e,f=Object(l.useMemo)((()=>s.seriesParams.some((({type:e,data:{id:t}})=>{var a;return e===j.ChartType.Histogram&&(null===(a=T.aggs.find((({id:e})=>e===t)))||void 0===a?void 0:a.enabled)}))),[s.seriesParams,T.aggs]),m=s.legendSize,[M]=Object(l.useState)((()=>m===g.LegendSize.AUTO)),S=Object(l.useCallback)((e=>b("legendSize",e)),[b]);return Object(y.jsx)(n.a.Fragment,null,Object(y.jsx)(o.EuiPanel,{paddingSize:"s"},Object(y.jsx)(o.EuiTitle,{size:"xs"},Object(y.jsx)("h3",null,Object(y.jsx)(u.FormattedMessage,{id:"visTypeXy.editors.pointSeries.settingsTitle",defaultMessage:"Settings"}))),Object(y.jsx)(o.EuiSpacer,{size:"m"}),Object(y.jsx)(c.BasicOptions,i()({},e,{legendPositions:L})),Object(y.jsx)(c.LongLegendOptions,{"data-test-subj":"xyLongLegendsOptions",truncateLegend:null===(t=s.truncateLegend)||void 0===t||t,maxLegendLines:null!==(a=s.maxLegendLines)&&void 0!==a?a:1,setValue:b}),Object(y.jsx)(c.LegendSizeSettings,{legendSize:m,onLegendSizeChange:S,isVerticalLegend:s.legendPosition===r.Position.Left||s.legendPosition===r.Position.Right,showAutoOption:M}),v.data.aggs.aggs.some((e=>"segment"===e.schema&&e.type.name===p.BUCKET_TYPES.DATE_HISTOGRAM))?Object(y.jsx)(c.SwitchOption,{"data-test-subj":"addTimeMarker",label:d.i18n.translate("visTypeXy.editors.pointSeries.currentTimeMarkerLabel",{defaultMessage:"Current time marker"}),paramName:"addTimeMarker",value:s.addTimeMarker,setValue:b}):Object(y.jsx)(c.SwitchOption,{"data-test-subj":"orderBucketsBySum",label:d.i18n.translate("visTypeXy.editors.pointSeries.orderBucketsBySumLabel",{defaultMessage:"Order buckets by sum"}),paramName:"orderBucketsBySum",value:s.orderBucketsBySum,setValue:b}),f&&Object(y.jsx)(c.SwitchOption,{"data-test-subj":"showValuesOnChart",label:d.i18n.translate("visTypeXy.editors.pointSeries.showLabels",{defaultMessage:"Show values on chart"}),paramName:"show",value:s.labels.show,setValue:(e,t)=>b("labels",{...s.labels,[e]:t})}),Object(y.jsx)(O,e)),Object(y.jsx)(o.EuiSpacer,{size:"s"}),Object(y.jsx)(h,e),Object(y.jsx)(o.EuiSpacer,{size:"s"}),s.thresholdLine&&Object(y.jsx)(x,e))}}}]);