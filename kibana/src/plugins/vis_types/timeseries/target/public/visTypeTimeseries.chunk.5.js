(window.visTypeTimeseries_bundle_jsonpfunction=window.visTypeTimeseries_bundle_jsonpfunction||[]).push([[5],{145:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(146);case"v8light":return n(148)}},146:function(e,t,n){var a=n(51),i=n(147);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},147:function(e,t,n){(t=n(52)(!1)).push([e.i,".tvbLastValueIndicator{align-self:flex-end}\n",""]),e.exports=t},148:function(e,t,n){var a=n(51),i=n(149);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);a(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},149:function(e,t,n){(t=n(52)(!1)).push([e.i,".tvbLastValueIndicator{align-self:flex-end}\n",""]),e.exports=t},203:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L})),n(145);var a=n(5),i=n(15),r=n(1);const s=()=>Object(r.jsx)("div",{className:"visChart__spinner"},Object(r.jsx)(i.EuiLoadingChart,{mono:!0,size:"l"})),l={timeseries:Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,201)))),metric:Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,205)))),top_n:Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(12)]).then(n.bind(null,206)))),table:Object(a.lazy)((()=>Promise.all([n.e(0),n.e(6)]).then(n.bind(null,207)))),gauge:Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,204)))),markdown:Object(a.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,208))))};var o=n(20),c=n(29),u=n(50),d=n(4),f=n(12),m=n(0),p=n(47);const v=(e,t)=>e.map((e=>{const n=t.getFieldByName(e.name),a=(null==n?void 0:n.spec.type)||"number";let i={field:null==n?void 0:n.spec.name};if(e.type===c.BUCKET_TYPES.MULTI_TERMS)i={fields:e.fields,otherBucket:!0};else if(e.type===d.a.FILTERS&&e.params)i={filters:e.params.map((e=>({input:e.filter,label:e.label})))};else if("date_histogram"===e.type){const{query:e}=Object(m.c)();i={timeRange:e.timefilter.timefilter.getTime()}}return{id:e.id.toString(),name:e.name,meta:{type:a,field:null==n?void 0:n.spec.name,index:t.title,source:"esaggs",sourceParams:{enabled:!0,indexPatternId:null==t?void 0:t.id,type:e.type,schema:e.isMetric?"metric":"group",params:i}}}})),b=async(e,t,n)=>{const a={},i=Object(m.d)();for(let r=0;r<e.series.length;r++){const s=e.series[r];let l=n;if(s.override_index_pattern){const{indexPattern:e}=await Object(f.b)(s.series_index_pattern,i);e&&(l=e)}const o=s.split_mode===d.a.TERMS&&!s.metrics.some((e=>e.type===d.i.SERIES_AGG)),m=s.split_mode===d.a.FILTERS,b=t.filter((e=>e.seriesId===s.id));let g=p.e;const h=[{id:g,name:l.timeFieldName||"",isMetric:!1,type:"date_histogram"}];if(b.length){g++;const e=s.metrics;if(h.push({id:g,name:e[e.length-1].field||b[0].splitByLabel,isMetric:!0,type:e[e.length-1].type}),o){const e=Object(u.d)(s.terms_field);g++,h.push({id:g,name:Object(u.e)(e),fields:e,isMetric:!1,type:e.length>1?c.BUCKET_TYPES.MULTI_TERMS:d.a.TERMS})}else m&&(g++,h.push({id:g,name:d.a.FILTERS,isMetric:!1,params:null==s?void 0:s.split_filters,type:d.a.FILTERS}))}const y=v(h,l),j=h.find((e=>e.type===d.a.FILTERS));let C=[];for(let e=0;e<b.length;e++){const{data:t,label:n,isSplitByTerms:a,termsSplitKey:i}=b[e],r=t.map((e=>{let t=p.e;const r={[t++]:e[0],[t++]:e[1]};let s;if(o||j){const e=Array.isArray(i)?new c.MultiFieldKey({key:i}):i;s={[t]:a&&void 0!==e?e:[n].flat()[0]}}return s?{...r,...s}:r}));C=[...C,...r]}a[s.id]={type:"datatable",rows:C,columns:y}}return a};var g=n(8),h=n(2),y=n(16),j=n(62),C=n(89);const O=h.i18n.translate("visTypeTimeseries.lastValueModeIndicator.lastValue",{defaultMessage:"Last value"}),T=({seriesData:e,panelInterval:t,modelInterval:n,ignoreDaylightTime:a})=>{if(null==e||!e.length)return Object(r.jsx)(i.EuiBadge,null,O);const s=Object(m.g)().get("dateFormat"),l=Object(m.g)().get("dateFormat:scaled"),o=Object(C.a)(t,l,s,a)(e[e.length-1][0]),c=(Object(j.c)(n)||Object(j.d)(n))&&(()=>{const e=Object(j.a)(t,!1);return e&&`${e.unitValue}${e.unitString}`})(),u=Object(r.jsx)(i.EuiFlexGroup,{direction:"column",gutterSize:"none"},Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(y.FormattedMessage,{id:"visTypeTimeseries.lastValueModeIndicator.lastBucketDate",defaultMessage:"Bucket: {lastBucketDate}",values:{lastBucketDate:o}})),c&&Object(r.jsx)(i.EuiFlexItem,{grow:!1},Object(r.jsx)(y.FormattedMessage,{id:"visTypeTimeseries.lastValueModeIndicator.panelInterval",defaultMessage:"Interval: {formattedPanelInterval}",values:{formattedPanelInterval:c}})));return Object(r.jsx)(i.EuiToolTip,{position:"top",display:"inlineBlock",content:u},Object(r.jsx)(i.EuiBadge,{iconType:"iInCircle",iconSide:"right",onClick:()=>{},onClickAriaLabel:h.i18n.translate("visTypeTimeseries.lastValueModeIndicator.lastValueModeBadgeAriaLabel",{defaultMessage:"View last value details"})},O))};function L({visData:e,model:t,handlers:n,uiState:c,getConfig:u,syncColors:v,syncTooltips:h}){var y,C,O;const[L,x]=Object(a.useState)(null),[E,M]=Object(a.useState)(null);Object(a.useEffect)((()=>{Object(m.a)().palettes.getPalettes().then((e=>M(e)))}),[]),Object(a.useEffect)((()=>{Object(f.b)(t.index_pattern,Object(m.d)()).then((e=>x(e.indexPattern)))}),[t.index_pattern]);const _=Object(a.useCallback)((async(e,a,i)=>{let r;if(L){const n=L?await b(t,i,L):null,s=null==n?void 0:n[t.series[0].id],l=[parseInt(e,10),parseInt(a,10)];r={data:{table:s,column:p.e,range:l,timeFieldName:null==L?void 0:L.timeFieldName},name:"brush"}}else r={name:"applyFilter",data:{timeFieldName:"*",filters:[{query:{range:{"*":{gte:e,lte:a}}}}]}};n.event(r)}),[n,L,t]),I=Object(a.useCallback)((async(e,a)=>{if(!L)return;const i=L?await b(t,e,L):null;if(!i)return;const r=((e,t,n)=>{const a=[];return e.forEach((e=>{const[i]=e,{specId:r}=e[1],[s,l]=r.split(g.c),o=t[s],c=n.series.filter((({id:e})=>e===s));let u=l;if(l&&c.length&&c[0].split_mode===d.a.FILTERS){var f,m,v;const e=null===(f=c[0])||void 0===f||null===(m=f.split_filters)||void 0===m?void 0:m.filter((({id:e})=>e===l));u=(null==e?void 0:e[0].label)||(null==e||null===(v=e[0].filter)||void 0===v?void 0:v.query)}const b=o.rows.findIndex((e=>{const t=i.x===e[p.e]&&i.y===e[p.e+1];if(l){var n,a;const i=null!==(n=null===(a=e[p.e+2].keys)||void 0===a?void 0:a.join())&&void 0!==n?n:e[p.e+2].toString();return t&&i===u}return t}));if(b<0)return;const h=o.columns.filter((e=>{var t;return"group"===(null===(t=e.meta.sourceParams)||void 0===t?void 0:t.schema)})).map((({id:e})=>{var t;return{table:o,column:parseInt(e,10),row:b,value:null!==(t=o.rows[b][e])&&void 0!==t?t:null}}));h.length&&a.push(...h)})),a})(a,i,t),s={name:"filter",data:{data:r,negate:!1,timeFieldName:L.timeFieldName}};n.event(s)}),[n,L,t]),w=Object(a.useCallback)(((e,t)=>{c.set(e,t),c.emit("reload")}),[c]),S=l[t.type],F=!(t.time_range_mode&&t.time_range_mode!==d.f.LAST_VALUE||t.hide_last_value_indicator||t.type===d.e.TIMESERIES),[R]=null!==(y=Object(o.a)(e)?e.series:null===(C=e[t.id])||void 0===C?void 0:C.series)&&void 0!==y?y:[];return S&&null!==E&&null!==L?Object(r.jsx)(i.EuiFlexGroup,{direction:"column",gutterSize:"none",responsive:!1},F&&Object(r.jsx)(i.EuiFlexItem,{className:"tvbLastValueIndicator",grow:!1},Object(r.jsx)(T,{seriesData:null==R?void 0:R.data,ignoreDaylightTime:t.ignore_daylight_time,panelInterval:Object(j.b)(e,t),modelInterval:null!==(O=t.interval)&&void 0!==O?O:g.a})),Object(r.jsx)(i.EuiFlexItem,null,Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)("div",{className:"visChart__spinner"},Object(r.jsx)(i.EuiLoadingChart,{mono:!0,size:"l"}))},Object(r.jsx)(S,{getConfig:u,model:t,visData:e,uiState:c,onBrush:_,onFilterClick:I,onUiState:w,syncColors:v,syncTooltips:h,palettesService:E,indexPattern:L,fieldFormatMap:null==L?void 0:L.fieldFormatMap})))):Object(r.jsx)(s,null)}},47:function(e,t,n){"use strict";var a=n(57);n.d(t,"a",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d})),n.d(t,"e",(function(){return a.e})),n.d(t,"f",(function(){return a.f})),n.d(t,"g",(function(){return a.g}));var i=n(61);n.d(t,"b",(function(){return i.a}))},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(2),i=n(29),r=n(19);const s=(e,t,n=!0)=>{if(e.length&&t){const a=e.find((e=>e.name===t));if(a)return a.label||a.name;if(n)throw new r.b(t)}return t},l=e=>e.filter((e=>e.aggregatable&&!Object(i.isNestedField)(e))).map((e=>{var t;return{name:e.name,label:null!==(t=e.customLabel)&&void 0!==t?t:e.name,type:e.type}})),o=e=>e?[e].flat().filter(Boolean):[],c=(e,t)=>{const n=t?s(t,e[0]):e[0];return e.length>1?a.i18n.translate("visTypeTimeseries.fieldUtils.multiFieldLabel",{defaultMessage:"{firstFieldLabel} + {count} {count, plural, one {other} other {others}}",values:{firstFieldLabel:n,count:e.length-1}}):null!=n?n:""},u=(e,t,n,a,i=[])=>{const r=new Map;return(s,l,o="text")=>{var c,u;const d=r.get(s),f=e=>e.convert(l,o,a?{timezone:a.timezone}:void 0);if(d)return f(d);if(e&&!i.includes(null===(c=e.fieldFormatMap)||void 0===c||null===(u=c[s])||void 0===u?void 0:u.id)){const t=e.fields.getByName(s);if(t){const n=e.getFormatterForField(t);if(n)return r.set(s,n),f(n)}}else if(n&&t){const e=t.find((e=>e.name===s));if(e){const t=n.getDefaultInstance(e.type);if(t)return r.set(s,t),f(t)}}}},d=" â€º "},51:function(e,t,n){"use strict";var a,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function s(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},a=[],i=0;i<e.length;i++){var l=e[i],o=t.base?l[0]+t.base:l[0],c=n[o]||0,u="".concat(o," ").concat(c);n[o]=c+1;var d=s(u),f={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(r[d].references++,r[d].updater(f)):r.push({identifier:u,updater:v(f,t),references:1}),a.push(u)}return a}function o(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var r=n.nc;r&&(a.nonce=r)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,a){var i=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=u(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function f(e,t,n){var a=n.css,i=n.media,r=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,p=0;function v(e,t){var n,a,i;if(t.singleton){var r=p++;n=m||(m=o(t)),a=d.bind(null,n,r,!1),i=d.bind(null,n,r,!0)}else n=o(t),a=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var i=s(n[a]);r[i].references--}for(var o=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=o}}}},52:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,i,r=e[1]||"",s=e[3];if(!s)return r;if(t&&"function"==typeof btoa){var l=(n=s,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(i," */")),o=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[r].concat(o).concat([l]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var o=[].concat(e[l]);a&&i[o[0]]||(n&&(o[2]?o[2]="".concat(n," and ").concat(o[2]):o[2]=n),t.push(o))}},t}},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return c}));const a={LINE_COLOR:"rgba(105,112,125,0.2)",TEXT_COLOR:"rgba(0,0,0,0.4)",TEXT_COLOR_REVERSED:"rgba(255,255,255,0.5)",VALUE_COLOR:"rgba(0,0,0,0.7)",VALUE_COLOR_REVERSED:"rgba(255,255,255,0.8)"},i={stroke:"rgba(125,125,125,0.1)"},r=0,s=[0],l=[1],o=[2],c={NONE:"none",PERCENT:"percent",STACKED:"stacked",STACKED_WITHIN_SERIES:"stacked_within_series"}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n(5);var a=n(1);const i={"fa-asterisk":"asterisk","fa-bell":"bell","fa-bolt":"bolt","fa-bomb":()=>Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(a.jsx)("path",{d:"M3.92176768,4.53361616 L3.46466635,5.59664282 L2.65302767,4.14840719 L0.999875397,3.99598886 L2.12641918,2.77654518 L1.76052549,1.15720408 L3.26840652,1.85178207 L4.69542405,1.00339256 L4.500802,2.65210905 L5.74864103,3.7471166 L4.73514583,3.9490388 L5.61669633,5.03766301 C6.0459022,4.69009896 6.67559863,4.75628272 7.02316269,5.18548858 L7.15815921,5.3521954 C7.8837785,5.06498672 8.68754455,4.943927 9.51742529,5.03115098 C12.2637217,5.31979836 14.2560398,7.78010639 13.9673924,10.5264028 C13.6787451,13.2726992 11.218437,15.2650173 8.47214065,14.9763699 C5.72584427,14.6877226 3.73352611,12.2274145 4.02217349,9.48111814 C4.10939747,8.6512374 4.39492411,7.8902053 4.82672133,7.24015658 L4.6917248,7.07344975 C4.34416075,6.64424389 4.41034451,6.01454746 4.83955037,5.6669834 L3.92176768,4.53361616 Z M5.46887076,6.44412936 L6.12580983,7.24015658 C6.03489722,7.30663504 5.87952666,7.491071 5.65969815,7.79346445 C5.30650784,8.32517447 5.08508565,8.93495668 5.01669539,9.5856466 C4.78577748,11.7826837 6.37963201,13.7509301 8.57666912,13.981848 C10.7737062,14.2127659 12.7419526,12.6189114 12.9728706,10.4218743 C13.2037885,8.2248372 11.6099339,6.25659078 9.41289682,6.02567287 C8.7622069,5.95728261 8.11971364,6.04708534 7.52619036,6.28200886 C7.24048061,6.40187373 7.0242157,6.5121707 6.87739563,6.61289978 L6.24601673,5.81480897 L5.46887076,6.44412936 Z M3.34009664,3.61834468 C3.6160708,3.60870745 3.83197954,3.37717367 3.82234231,3.10119951 C3.81270508,2.82522536 3.5811713,2.60931662 3.30519715,2.61895385 C3.02922299,2.62859108 2.81331425,2.86012485 2.82295148,3.13609901 C2.83258871,3.41207317 3.06412249,3.62798191 3.34009664,3.61834468 Z M9.2038399,8.01471666 C8.92921026,7.98585193 8.72997844,7.73982112 8.75884318,7.46519148 C8.78770792,7.19056185 9.03373872,6.99133003 9.30836836,7.02019477 C10.7411945,7.17079087 11.8319627,8.30660625 11.9782919,9.68376241 C11.9842403,9.72621687 11.9855849,9.77015886 11.9808868,9.81485847 C11.9520221,10.0894881 11.7059913,10.2887199 11.4313616,10.2598552 C11.1835304,10.2338071 10.9971003,10.0309074 10.9842889,9.78973323 C10.8859009,8.87197536 10.1588372,8.11509093 9.2038399,8.01471666 Z"})),"fa-bug":"bug","fa-comment":"editorComment","fa-exclamation-circle":"alert","fa-exclamation-triangle":"alert","fa-fire":()=>Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(a.jsx)("path",{d:"M10.4285489,13.2131862 C11.3850613,12.5116211 12,11.4062861 12,10.1681623 C12,8.88948911 11.7647926,7.64522527 11.315853,6.48027409 L10.7184365,8.07936372 L9.62838732,6.51595716 C8.65161637,5.11502026 7.41222171,3.90368767 5.9820674,2.94508952 C5.99399825,3.12925457 6,3.31436795 6,3.50022638 C6,5.08794888 5.48443413,6.95085436 4.74437685,7.94154468 C4.26219055,8.5870316 4,9.35779518 4,10.1681623 C4,11.4427639 4.65170744,12.5766371 5.65687647,13.2741368 C5.73557697,13.041105 5.84196228,12.8229717 5.97161458,12.624616 C6.26836682,12.1706132 6.5,11.2280234 6.5,10.4287008 C6.5,9.92871906 6.42479348,9.44813694 6.28619258,9 C7.47628141,9.64169048 8.4897566,10.6210605 9.22434324,11.8251557 C9.23213615,11.8013168 9.2406884,11.7775998 9.25,11.7540048 C9.39656041,11.3826304 9.5,11.0805724 9.5,10.6495848 C9.5,10.6240812 9.49971537,10.5986511 9.49914944,10.5732981 C9.96875289,11.3529062 10.2928315,12.2486386 10.4285489,13.2131862 Z M10.4486865,5.94402249 C10.4642723,5.90230435 10.4813768,5.86079967 10.5,5.81950846 C10.7931208,5.16960326 11,4.64100165 11,3.88677339 C11,3.84214218 10.9994307,3.79763944 10.9982989,3.7532716 C12.2630338,5.59045545 13,7.7961396 13,10.1681623 C13,12.8367126 10.7614237,15 8,15 C5.23857625,15 3,12.8367126 3,10.1681623 C3,9.11340491 3.34972471,8.13758287 3.94322917,7.34307798 C4.53673363,6.54857309 5,4.8990409 5,3.50022638 C5,2.62525836 4.84958695,1.78423964 4.57238517,1 C6.95256283,2.12295834 8.97951321,3.83685594 10.4486865,5.94402249 Z"})),"fa-flag":"flag","fa-heart":"heart","fa-map-marker":"mapMarker","fa-map-pin":"pinFilled","fa-star":"starFilled","fa-tag":"tag"}},62:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return y}));var a=n(31),i=n.n(a),r=n(2),s=n(9),l=n(18),o=n(36),c=n.n(o);const u=new RegExp(`^>=([\\d\\.]+\\s*(${c.a.units.join("|")}))$`);new RegExp(`^([\\d\\.]+)\\s*(${c.a.units.join("|")})$`);var d=n(8),f=n(20);const{parseEsInterval:m}=l.search.aggs,p={s:r.i18n.translate("visTypeTimeseries.getInterval.secondsLabel",{defaultMessage:"seconds"}),m:r.i18n.translate("visTypeTimeseries.getInterval.minutesLabel",{defaultMessage:"minutes"}),h:r.i18n.translate("visTypeTimeseries.getInterval.hoursLabel",{defaultMessage:"hours"}),d:r.i18n.translate("visTypeTimeseries.getInterval.daysLabel",{defaultMessage:"days"}),w:r.i18n.translate("visTypeTimeseries.getInterval.weeksLabel",{defaultMessage:"weeks"}),M:r.i18n.translate("visTypeTimeseries.getInterval.monthsLabel",{defaultMessage:"months"}),y:r.i18n.translate("visTypeTimeseries.getInterval.yearsLabel",{defaultMessage:"years"})},v=(e,t=!0)=>{const n=Object.keys(p).reverse(),a=i.a.duration(e,"ms");for(let e=0;e<n.length;e++){const i=a.as(n[e]);if(Math.abs(i)>1)return{unitValue:Math.round(Math.abs(i)),unitString:t?p[n[e]]:n[e]}}},b=e=>u.test(e),g=e=>!e||e===d.a,h=e=>{const t={};try{m(e)}catch({message:e}){t.errorMessage=e}finally{t.isValid=!t.errorMessage}return t},y=(e,t)=>Object(s.get)(e,Object(f.a)(e)?"series[0].series":`${t.id}.series`,[]).reduce(((e,t)=>{if(t.data.length>1&&"number"==typeof t.data[1][0]&&"number"==typeof t.data[0][0]){const n=t.data[1][0]-t.data[0][0];if(!e||n<e)return n}return e}),0)},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(31),i=n.n(a);const r={M:0,d:1};function s(e,t,n,a){const s=i()(r).utcOffset();return r=>{var l;const o=i()(r);return a&&o.utcOffset(s),o.format(null!==(l=function(e,t=[]){for(let n=t.length-1;n>=0;n--){const a=t[n];if(!a[0]||e>=Number(i.a.duration(a[0])))return a[1]}}(e,t))&&void 0!==l?l:n)}}}}]);