(window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[]).push([[0],Array(29).concat([function(e,t,n){e.exports=n(16)(2567)},function(e,t,n){e.exports=n(16)(2)},function(e,t,n){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var u=e[o],c=t.base?u[0]+t.base:u[0],s=n[c]||0,l="".concat(c," ").concat(s);n[c]=s+1;var f=i(l),d={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:b(d,t),references:1}),r.push(l)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,l=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function b(e,t){var n,r,o;if(t.singleton){var a=h++;n=p||(p=c(t)),r=f.bind(null,n,a,!1),o=f.bind(null,n,a,!0)}else n=c(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=i(n[r]);a[o].references--}for(var c=u(e,t),s=0;s<n.length;s++){var l=i(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=c}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,o,a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var u=(n=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(c).concat([u]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t,n){e.exports=n(16)(9)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=["#01A4A4","#C66","#D0D102","#616161","#00A1CB","#32742C","#F18D05","#113F8C","#61AE24","#D70060"]},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(3),o=n(23),a=n.n(o);const i={};[["ms","milliseconds","millisecond"],["s","seconds","second","sec"],["m","minutes","minute","min"],["h","hours","hour"],["d","days","day"],["w","weeks","week"],["M","months","month"],["quarter"],["y","years","year"]].forEach((e=>{const t=a.a.normalizeUnits(e[0]),n=a.a.duration(1,t).asMilliseconds();[].concat(t,e).forEach((e=>{i[e]=n}))}));const u=new RegExp("^(\\d+(?:\\.\\d*)?)?\\s*("+Object(r.keys)(i).join("|")+")$");function c(e){const t=e.match(u);if(t){if("M"===t[2]&&"1"!==t[1])throw new Error("Invalid interval. 1M is only valid monthly interval.");return parseFloat(t[1]||"1")*i[t[2]]}}function s(e,t,n,r,o){if("auto"!==r)return r;const a=function(e){switch(!0){case e<=500:return"100ms";case e<=5e3:return"1s";case e<=7500:return"5s";case e<=15e3:return"10s";case e<=45e3:return"30s";case e<=18e4:return"1m";case e<=45e4:return"5m";case e<=12e5:return"10m";case e<=27e5:return"30m";case e<=72e5:return"1h";case e<=216e5:return"3h";case e<=864e5:return"12h";case e<=6048e5:return"24h";case e<=18144e5:return"1w";case e<36288e5:return"30d";default:return"1y"}}((t-e)/n),i=c(a),u=c(o);return void 0!==i&&void 0!==u&&i<u?o:a}const l="MMMM Do YYYY, HH:mm:ss.SSS"},function(e,t,n){e.exports=n(16)(23)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(23),o=n.n(r),a=n(5);function i(e){return t=>function(t){const n=t.match(/(\d+)(ms|s|m|h|d|w|M|y|)/);if(null===n||null===n[1]||null===n[2])throw new Error(a.i18n.translate("timelion.panels.timechart.unknownIntervalErrorMessage",{defaultMessage:"Unknown interval"}));const r=o.a.duration(Number(n[1]),n[2]),i=e.get("dateFormat:scaled");for(let e=i.length-1;e>=0;e--){const t=i[e];if(!t[0]||r>=o.a.duration(t[0]))return t[1]}return e.get("dateFormat")}(t)}},function(e,t,n){e.exports=n(16)(45)},function(e,t,n){"use strict";function r(e,t,n,o){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,r.prototype),a.expected=t,a.found=n,a.location=o,a.name="SyntaxError",a}function o(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,i=this.location.source+":"+a.line+":"+a.column;if(r){var u=this.location.end,c=o("",a.line.toString().length),s=r[a.line-1],l=a.line===u.line?u.column:s.length+1;t+="\n --\x3e "+i+"\n"+c+" |\n"+a.line+" | "+s+"\n"+c+" | "+o("",a.column-1)+o("",l-a.column,"^")}else t+="\n at "+i}return t},r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(i);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){var n,o={},a=(t=void 0!==t?t:{}).grammarSource,i={start:fe,Literal:_e},u=fe,c='"',s="\\",l="@kuery-cursor@",f=/^[\\"]/,d=/^[^"]/,p=/^[\\():<>"*{}]/,h=/^[0-9a-f]/i,b=/^[ \t\r\n\xA0]/,g=ae("(",!1),v=ae(")",!1),m=ae(":",!1),y=ae("{",!1),w=ae("}",!1),x=ue("fieldName"),j=ue("value"),k=ue("OR"),_=ae("or",!0),O=ue("AND"),A=ae("and",!0),N=ue("NOT"),S=ae("not",!0),M=ue("literal"),C=ae('"',!1),E=ae("\\",!1),T=ie(["\\",'"'],!1,!1),q=ie(['"'],!0,!1),L={type:"any"},P=ae("*",!1),I=ae("\\t",!1),B=ae("\\r",!1),F=ae("\\n",!1),R=ie(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),U=ae("u",!1),$=ie([["0","9"],["a","f"]],!1,!0),D=ae("<=",!1),Q=ae(">=",!1),G=ae("<",!1),z=ae(">",!1),W=ue("whitespace"),Y=ie([" ","\t","\r","\n","Â "],!1,!1),H=ae("@kuery-cursor@",!1),V=function(e,t){return t},Z=function(e,t){return t},K=function(){return Ie},X=function(t,n,r){const{start:o,end:a}=se(ee,J);return{type:"cursor",start:o.offset,end:a.offset-n.length,prefix:t.join(""),suffix:r.join(""),text:e.substring(ee,J).replace(n,"")}},J=0,ee=0,te=[{line:1,column:1}],ne=0,re=[],oe=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=i[t.startRule]}function ae(e,t){return{type:"literal",text:e,ignoreCase:t}}function ie(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ue(e){return{type:"other",description:e}}function ce(t){var n,r=te[t];if(r)return r;for(n=t-1;!te[n];)n--;for(r={line:(r=te[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return te[t]=r,r}function se(e,t){var n=ce(e),r=ce(t);return{source:a,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function le(e){J<ne||(J>ne&&(ne=J,re=[]),re.push(e))}function fe(){var e,t,n,r,a,i;for(e=J,t=[],n=Le();n!==o;)t.push(n),n=Le();return(n=de())===o&&(n=null),(r=Me())!==o?(ee=e,a=n,e="cursor"===(i=r).type?{...i,suggestionTypes:["conjunction"]}:null!==a?a:Re.function.buildNode("is","*","*")):(J=e,e=o),e}function de(){var e,t,n,r,a;if(e=J,(t=pe())!==o){if(n=[],r=J,xe()!==o&&(a=pe())!==o?(ee=r,r=V(0,a)):(J=r,r=o),r!==o)for(;r!==o;)n.push(r),r=J,xe()!==o&&(a=pe())!==o?(ee=r,r=V(0,a)):(J=r,r=o);else n=o;n!==o?(ee=e,e=function(e,t){const n=[e,...t];return Ie&&n.find((e=>"cursor"===e.type))||Ue("or",n)}(t,n)):(J=e,e=o)}else J=e,e=o;return e===o&&(e=pe()),e}function pe(){var e,t,n,r,a;if(e=J,(t=he())!==o){if(n=[],r=J,je()!==o&&(a=he())!==o?(ee=r,r=V(0,a)):(J=r,r=o),r!==o)for(;r!==o;)n.push(r),r=J,je()!==o&&(a=he())!==o?(ee=r,r=V(0,a)):(J=r,r=o);else n=o;n!==o?(ee=e,e=function(e,t){const n=[e,...t];return Ie&&n.find((e=>"cursor"===e.type))||Ue("and",n)}(t,n)):(J=e,e=o)}else J=e,e=o;return e===o&&(e=he()),e}function he(){var e,t,n;return e=J,ke()!==o&&(t=be())!==o?(ee=e,e="cursor"===(n=t).type?n:Ue("not",[n])):(J=e,e=o),e===o&&(e=be()),e}function be(){var t,n,r,a,i,u,c,s;if(t=J,40===e.charCodeAt(J)?(n="(",J++):(n=o,0===oe&&le(g)),n!==o){for(r=[],a=Le();a!==o;)r.push(a),a=Le();(a=de())!==o&&(i=Me())!==o?(41===e.charCodeAt(J)?(u=")",J++):(u=o,0===oe&&le(v)),u!==o?(ee=t,c=a,t="cursor"===(s=i).type?{...s,suggestionTypes:["conjunction"]}:c):(J=t,t=o)):(J=t,t=o)}else J=t,t=o;return t===o&&(t=function(){var t,n,r,a,i,u,c,s,l,f;if(t=J,(n=ge())!==o){for(r=[],a=Le();a!==o;)r.push(a),a=Le();if(58===e.charCodeAt(J)?(a=":",J++):(a=o,0===oe&&le(m)),a!==o){for(i=[],u=Le();u!==o;)i.push(u),u=Le();if(123===e.charCodeAt(J)?(u="{",J++):(u=o,0===oe&&le(y)),u!==o){for(c=[],s=Le();s!==o;)c.push(s),s=Le();(s=de())!==o&&(l=Me())!==o?(125===e.charCodeAt(J)?(f="}",J++):(f=o,0===oe&&le(w)),f!==o?(ee=t,t=function(e,t,n){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:Ue("nested",[e,t])}(n,s,l)):(J=t,t=o)):(J=t,t=o)}else J=t,t=o}else J=t,t=o}else J=t,t=o;return t===o&&(t=function(){var t;return t=function(){var t,n,r,a,i,u,c,s,l;if(t=J,(n=ge())!==o){for(r=[],a=Le();a!==o;)r.push(a),a=Le();if(a=function(){var t,n;return t=J,"<="===e.substr(J,2)?(n="<=",J+=2):(n=o,0===oe&&le(D)),n!==o&&(ee=t,n="lte"),(t=n)===o&&(t=J,">="===e.substr(J,2)?(n=">=",J+=2):(n=o,0===oe&&le(Q)),n!==o&&(ee=t,n="gte"),(t=n)===o&&(t=J,60===e.charCodeAt(J)?(n="<",J++):(n=o,0===oe&&le(G)),n!==o&&(ee=t,n="lt"),(t=n)===o&&(t=J,62===e.charCodeAt(J)?(n=">",J++):(n=o,0===oe&&le(z)),n!==o&&(ee=t,n="gt"),t=n))),t}(),a!==o){for(i=[],u=Le();u!==o;)i.push(u),u=Le();(u=_e())!==o?(ee=t,c=n,s=a,t="cursor"===(l=u).type?{...l,suggestionTypes:["conjunction"]}:Ue("range",[c,s,l])):(J=t,t=o)}else J=t,t=o}else J=t,t=o;return t}(),t===o&&(t=function(){var t,n,r,a,i,u,c,s;if(t=J,(n=ge())!==o){for(r=[],a=Le();a!==o;)r.push(a),a=Le();if(58===e.charCodeAt(J)?(a=":",J++):(a=o,0===oe&&le(m)),a!==o){for(i=[],u=Le();u!==o;)i.push(u),u=Le();(u=ve())!==o?(ee=t,c=n,t="cursor"===(s=u).type?{...s,fieldName:c.value,suggestionTypes:["value","conjunction"]}:s(c)):(J=t,t=o)}else J=t,t=o}else J=t,t=o;return t}(),t===o&&(t=function(){var e,t;return e=J,(t=we())!==o&&(ee=e,t=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e($e(null))}(t)),t}())),t}()),t}()),t}function ge(){var e;return oe++,e=_e(),oe--,e===o&&0===oe&&le(x),e}function ve(){var t,n,r,a,i,u,c,s;if(t=J,40===e.charCodeAt(J)?(n="(",J++):(n=o,0===oe&&le(g)),n!==o){for(r=[],a=Le();a!==o;)r.push(a),a=Le();a=function(){var e,t,n,r,a;if(e=J,(t=me())!==o){if(n=[],r=J,xe()!==o&&(a=me())!==o?(ee=r,r=Z(0,a)):(J=r,r=o),r!==o)for(;r!==o;)n.push(r),r=J,xe()!==o&&(a=me())!==o?(ee=r,r=Z(0,a)):(J=r,r=o);else n=o;n!==o?(ee=e,e=function(e,t){const n=[e,...t],r=Ie&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Ue("or",n.map((t=>t(e))))}(t,n)):(J=e,e=o)}else J=e,e=o;return e===o&&(e=me()),e}(),a!==o&&(i=Me())!==o?(41===e.charCodeAt(J)?(u=")",J++):(u=o,0===oe&&le(v)),u!==o?(ee=t,c=a,t="cursor"===(s=i).type?{...s,suggestionTypes:["conjunction"]}:c):(J=t,t=o)):(J=t,t=o)}else J=t,t=o;return t===o&&(t=we()),t}function me(){var e,t,n,r,a;if(e=J,(t=ye())!==o){if(n=[],r=J,je()!==o&&(a=ye())!==o?(ee=r,r=Z(0,a)):(J=r,r=o),r!==o)for(;r!==o;)n.push(r),r=J,je()!==o&&(a=ye())!==o?(ee=r,r=Z(0,a)):(J=r,r=o);else n=o;n!==o?(ee=e,e=function(e,t){const n=[e,...t],r=Ie&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>Ue("and",n.map((t=>t(e))))}(t,n)):(J=e,e=o)}else J=e,e=o;return e===o&&(e=ye()),e}function ye(){var e,t,n;return e=J,ke()!==o&&(t=ve())!==o?(ee=e,e="cursor"===(n=t).type?{...list,suggestionTypes:["value"]}:e=>Ue("not",[n(e)])):(J=e,e=o),e===o&&(e=ve()),e}function we(){var e,t;return oe++,e=J,(t=Oe())!==o&&(ee=e,t=function(e){if("cursor"===e.type)return e;const t=$e(!0);return n=>Ue("is",[n,e,t])}(t)),(e=t)===o&&(e=J,(t=Ne())!==o&&(ee=e,t=function(e){if("cursor"===e.type)return e;!Fe&&"wildcard"===e.type&&Re.wildcard.hasLeadingWildcard(e)&&function(e,t){throw function(e,t){return new r("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.",null,null,t)}(0,t=void 0!==t?t:se(ee,J))}();const t=$e(!1);return n=>Ue("is",[n,e,t])}(t)),e=t),oe--,e===o&&(t=o,0===oe&&le(j)),e}function xe(){var t,n,r,a,i;if(oe++,t=J,n=[],(r=Le())!==o)for(;r!==o;)n.push(r),r=Le();else n=o;if(n!==o)if("or"===e.substr(J,2).toLowerCase()?(r=e.substr(J,2),J+=2):(r=o,0===oe&&le(_)),r!==o){if(a=[],(i=Le())!==o)for(;i!==o;)a.push(i),i=Le();else a=o;a!==o?t=n=[n,r,a]:(J=t,t=o)}else J=t,t=o;else J=t,t=o;return oe--,t===o&&(n=o,0===oe&&le(k)),t}function je(){var t,n,r,a,i;if(oe++,t=J,n=[],(r=Le())!==o)for(;r!==o;)n.push(r),r=Le();else n=o;if(n!==o)if("and"===e.substr(J,3).toLowerCase()?(r=e.substr(J,3),J+=3):(r=o,0===oe&&le(A)),r!==o){if(a=[],(i=Le())!==o)for(;i!==o;)a.push(i),i=Le();else a=o;a!==o?t=n=[n,r,a]:(J=t,t=o)}else J=t,t=o;else J=t,t=o;return oe--,t===o&&(n=o,0===oe&&le(O)),t}function ke(){var t,n,r,a;if(oe++,t=J,"not"===e.substr(J,3).toLowerCase()?(n=e.substr(J,3),J+=3):(n=o,0===oe&&le(S)),n!==o){if(r=[],(a=Le())!==o)for(;a!==o;)r.push(a),a=Le();else r=o;r!==o?t=n=[n,r]:(J=t,t=o)}else J=t,t=o;return oe--,t===o&&(n=o,0===oe&&le(N)),t}function _e(){var e;return oe++,(e=Oe())===o&&(e=Ne()),oe--,e===o&&0===oe&&le(M),e}function Oe(){var t,n,r,a,i,u,s;if(t=J,ee=J,(n=(n=K())?void 0:o)!==o)if(34===e.charCodeAt(J)?(r=c,J++):(r=o,0===oe&&le(C)),r!==o){for(a=[],i=Ae();i!==o;)a.push(i),i=Ae();if((i=Pe())!==o){for(u=[],s=Ae();s!==o;)u.push(s),s=Ae();34===e.charCodeAt(J)?(s=c,J++):(s=o,0===oe&&le(C)),s!==o?(ee=t,t=X(a,i,u)):(J=t,t=o)}else J=t,t=o}else J=t,t=o;else J=t,t=o;if(t===o)if(t=J,34===e.charCodeAt(J)?(n=c,J++):(n=o,0===oe&&le(C)),n!==o){for(r=[],a=Ae();a!==o;)r.push(a),a=Ae();34===e.charCodeAt(J)?(a=c,J++):(a=o,0===oe&&le(C)),a!==o?(ee=t,t=$e(r.join(""))):(J=t,t=o)}else J=t,t=o;return t}function Ae(){var t,n,r;return(t=Ce())===o&&(t=Te())===o&&(t=J,92===e.charCodeAt(J)?(n=s,J++):(n=o,0===oe&&le(E)),n!==o?(f.test(e.charAt(J))?(r=e.charAt(J),J++):(r=o,0===oe&&le(T)),r!==o?(ee=t,t=r):(J=t,t=o)):(J=t,t=o),t===o&&(t=J,n=J,oe++,r=Pe(),oe--,r===o?n=void 0:(J=n,n=o),n!==o?(d.test(e.charAt(J))?(r=e.charAt(J),J++):(r=o,0===oe&&le(q)),r!==o?(ee=t,t=r):(J=t,t=o)):(J=t,t=o))),t}function Ne(){var e,t,n,r,a,i;if(e=J,ee=J,(t=(t=K())?void 0:o)!==o){for(n=[],r=Se();r!==o;)n.push(r),r=Se();if((r=Pe())!==o){for(a=[],i=Se();i!==o;)a.push(i),i=Se();ee=e,e=X(n,r,a)}else J=e,e=o}else J=e,e=o;if(e===o){if(e=J,t=[],(n=Se())!==o)for(;n!==o;)t.push(n),n=Se();else t=o;t!==o&&(ee=e,t=function(e){const t=e.join("").trim();return"null"===t?$e(null):"true"===t?$e(!0):"false"===t?$e(!1):e.includes(Qe)?De(t):$e(t)}(t)),e=t}return e}function Se(){var t,n,r,a,i;return(t=Ce())===o&&(t=function(){var t,n,r;return t=J,92===e.charCodeAt(J)?(n=s,J++):(n=o,0===oe&&le(E)),n!==o&&(r=Ee())!==o?(ee=t,t=r):(J=t,t=o),t}(),t===o&&(t=Te())===o&&(t=function(){var t,n,r;return t=J,92===e.charCodeAt(J)?(n=s,J++):(n=o,0===oe&&le(E)),n!==o?("or"===e.substr(J,2).toLowerCase()?(r=e.substr(J,2),J+=2):(r=o,0===oe&&le(_)),r===o&&("and"===e.substr(J,3).toLowerCase()?(r=e.substr(J,3),J+=3):(r=o,0===oe&&le(A)),r===o&&("not"===e.substr(J,3).toLowerCase()?(r=e.substr(J,3),J+=3):(r=o,0===oe&&le(S)))),r!==o?(ee=t,t=r):(J=t,t=o)):(J=t,t=o),t}(),t===o&&(t=function(){var t,n;return t=J,42===e.charCodeAt(J)?(n="*",J++):(n=o,0===oe&&le(P)),n!==o&&(ee=t,n=Qe),n}(),t===o&&(t=J,n=J,oe++,r=Ee(),oe--,r===o?n=void 0:(J=n,n=o),n!==o?(r=J,oe++,a=function(){var e;return(e=xe())===o&&(e=je())===o&&(e=ke()),e}(),oe--,a===o?r=void 0:(J=r,r=o),r!==o?(a=J,oe++,i=Pe(),oe--,i===o?a=void 0:(J=a,a=o),a!==o?(e.length>J?(i=e.charAt(J),J++):(i=o,0===oe&&le(L)),i!==o?(ee=t,t=i):(J=t,t=o)):(J=t,t=o)):(J=t,t=o)):(J=t,t=o))))),t}function Me(){var e,t,n,r,a,i;if(e=J,ee=J,(t=(t=K())?void 0:o)!==o){for(n=[],r=Le();r!==o;)n.push(r),r=Le();if((r=Pe())!==o){for(a=[],i=Le();i!==o;)a.push(i),i=Le();ee=e,e=X(n,r,a)}else J=e,e=o}else J=e,e=o;if(e===o)for(e=[],t=Le();t!==o;)e.push(t),t=Le();return e}function Ce(){var t,n;return t=J,"\\t"===e.substr(J,2)?(n="\\t",J+=2):(n=o,0===oe&&le(I)),n!==o&&(ee=t,n="\t"),(t=n)===o&&(t=J,"\\r"===e.substr(J,2)?(n="\\r",J+=2):(n=o,0===oe&&le(B)),n!==o&&(ee=t,n="\r"),(t=n)===o&&(t=J,"\\n"===e.substr(J,2)?(n="\\n",J+=2):(n=o,0===oe&&le(F)),n!==o&&(ee=t,n="\n"),t=n)),t}function Ee(){var t;return p.test(e.charAt(J))?(t=e.charAt(J),J++):(t=o,0===oe&&le(R)),t}function Te(){var t,n,r;return t=J,92===e.charCodeAt(J)?(n=s,J++):(n=o,0===oe&&le(E)),n!==o?(r=function(){var t,n,r,a,i,u,c,s,l;return t=J,117===e.charCodeAt(J)?(n="u",J++):(n=o,0===oe&&le(U)),n!==o?(r=J,a=J,(i=qe())!==o&&(u=qe())!==o&&(c=qe())!==o&&(s=qe())!==o?a=i=[i,u,c,s]:(J=a,a=o),(r=a!==o?e.substring(r,J):a)!==o?(ee=t,l=r,t=String.fromCharCode(parseInt(l,16))):(J=t,t=o)):(J=t,t=o),t}(),r!==o?(ee=t,t=r):(J=t,t=o)):(J=t,t=o),t}function qe(){var t;return h.test(e.charAt(J))?(t=e.charAt(J),J++):(t=o,0===oe&&le($)),t}function Le(){var t;return oe++,b.test(e.charAt(J))?(t=e.charAt(J),J++):(t=o,0===oe&&le(Y)),oe--,t===o&&0===oe&&le(W),t}function Pe(){var t,n;return t=J,ee=J,(K()?void 0:o)!==o?(e.substr(J,14)===l?(n=l,J+=14):(n=o,0===oe&&le(H)),n!==o?(ee=t,t=Be):(J=t,t=o)):(J=t,t=o),t}const{parseCursor:Ie,cursorSymbol:Be,allowLeadingWildcards:Fe=!0,helpers:{nodeTypes:Re}}=t,Ue=Re.function.buildNodeWithArgumentNodes,$e=Re.literal.buildNode,De=Re.wildcard.buildNode,{wildcardSymbol:Qe}=Re.wildcard;if((n=u())!==o&&J===e.length)return n;throw n!==o&&J<e.length&&le({type:"end"}),Ge=re,ze=ne<e.length?e.charAt(ne):null,We=ne<e.length?se(ne,ne+1):se(ne,ne),new r(r.buildMessage(Ge,ze),Ge,ze,We);var Ge,ze,We}}},function(e,t,n){e.exports=n(16)(15)},function(e,t,n){e.exports=n(16)(13)},function(e,t,n){e.exports=n(16)(4)},function(e,t,n){e.exports=n(16)(18)},function(e,t,n){e.exports=n(16)(2564)},function(e,t,n){e.exports=n(16)(2572)},function(e,t,n){(function(e){var n;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,o,a,i,u,c,s,l,f,d,p,h,b,g,v,m,y,w,x,j,k,_,O,A,N,S,M,C,E,T,q,L,P,I,B,F,R,U,$,D,Q,G,z,W,Y,H,V,Z,K,X,J,ee,te,ne,re,oe,ae,ie,ue,ce,se,le,fe,de,pe,he,be,ge,ve,me,ye,we,xe,je,ke,_e,Oe,Ae,Ne,Se,Me=[].slice;_e=function(){var e,t,n,r,o;for(e={},r=0,t=(o="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<t;r++)n=o[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),V=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Oe=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},k=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},i=Math.PI,ye=Math.round,O=Math.cos,C=Math.floor,re=Math.pow,Z=Math.log,xe=Math.sin,je=Math.sqrt,g=Math.atan2,J=Math.max,b=Math.abs,s=2*i,u=i/3,o=i/180,c=180/i,j=function(){return arguments[0]instanceof r?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,arguments,(function(){}))},j.default=j,h=[],null!==e&&null!=e.exports&&(e.exports=j),void 0===(n=function(){return j}.apply(t,[]))||(e.exports=n),j.version="1.4.1",p={},f=[],d=!1,r=function(){function e(){var e,t,n,r,o,a,i,u,c;for(a=this,t=[],u=0,r=arguments.length;u<r;u++)null!=(e=arguments[u])&&t.push(e);if(t.length>1&&(i=t[t.length-1]),null!=p[i])a._rgb=k(p[i](Oe(t.slice(0,-1))));else{for(d||(f=f.sort((function(e,t){return t.p-e.p})),d=!0),c=0,o=f.length;c<o&&!(i=(n=f[c]).test.apply(n,t));c++);i&&(a._rgb=k(p[i].apply(p,t)))}null==a._rgb&&console.warn("unknown format: "+t),null==a._rgb&&(a._rgb=[0,0,0]),3===a._rgb.length&&a._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),j._input=p,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
j.brewer=w={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],w)t.push(w[e.toLowerCase()]=w[e])}(),j.colors=Ae={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},G=function(){var e,t,n,r,o,i,u;return r=(t=Oe(arguments))[0],e=t[1],n=t[2],i=(r+16)/116,o=isNaN(e)?i:i+e/500,u=isNaN(n)?i:i-n/200,i=a.Yn*z(i),o=a.Xn*z(o),u=a.Zn*z(u),[Se(3.2404542*o-1.5371385*i-.4985314*u),Se(-.969266*o+1.8760108*i+.041556*u),n=Se(.0556434*o-.2040259*i+1.0572252*u),t.length>3?t[3]:1]},Se=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},z=function(e){return e>a.t1?e*e*e:a.t2*(e-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},fe=function(){var e,t,n,r,o,a,i;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],a=(o=ge(n,t,e))[0],[116*(i=o[1])-16,500*(a-i),200*(i-o[2])]},ve=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Ne=function(e){return e>a.t3?re(e,1/3):e/a.t2+a.t0},ge=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],t=r[1],e=r[2],n=ve(n),t=ve(t),e=ve(e),[Ne((.4124564*n+.3575761*t+.1804375*e)/a.Xn),Ne((.2126729*n+.7151522*t+.072175*e)/a.Yn),Ne((.0193339*n+.119192*t+.9503041*e)/a.Zn)]},j.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["lab"]),(function(){}))},p.lab=G,r.prototype.lab=function(){return fe(this._rgb)},v=function(e){var t,n,r,o,a,i,u,c,s,l,f;return 2===(e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(j(o));return r}()).length?(s=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),a=s[0],i=s[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(a[t]+e*(i[t]-a[t]));return r}(),j.lab.apply(j,n)}):3===e.length?(l=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),a=l[0],i=l[1],u=l[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*a[t]+2*(1-e)*e*i[t]+e*e*u[t]);return r}(),j.lab.apply(j,n)}):4===e.length?(f=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)o=e[n],r.push(o.lab());return r}(),a=f[0],i=f[1],u=f[2],c=f[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*i[t]+3*(1-e)*e*e*u[t]+e*e*e*c[t]);return r}(),j.lab.apply(j,n)}):5===e.length&&(n=v(e.slice(0,3)),r=v(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},j.bezier=function(e){var t;return(t=v(e)).scale=function(){return j.scale(t)},t},j.cubehelix=function(e,t,n,r,o){var a,i,u;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==o&&(o=[0,1]),a=0,"array"===_e(o)?i=o[1]-o[0]:(i=0,o=[o,o]),(u=function(u){var c,l,f,d,p;return c=s*((e+120)/360+t*u),d=re(o[0]+i*u,r),l=(0!==a?n[0]+u*a:n)*d*(1-d)/2,f=O(c),p=xe(c),j(k([255*(d+l*(-.14861*f+1.78277*p)),255*(d+l*(-.29227*f-.90649*p)),255*(d+l*(1.97294*f)),1]))}).start=function(t){return null==t?e:(e=t,u)},u.rotations=function(e){return null==e?t:(t=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?n:("array"===_e(n=e)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,u)},u.lightness=function(e){return null==e?o:("array"===_e(e)?(o=e,i=e[1]-e[0]):(o=[e,e],i=0),u)},u.scale=function(){return j.scale(u)},u.hue(n),u},j.random=function(){var e,t;for(e="#",t=0;t<6;++t)e+="0123456789abcdef".charAt(C(16*Math.random()));return new r(e)},h=[],B=function(e,t,n,r){var o,a,i,u;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==_e(e)&&(e=j(e)),"object"!==_e(t)&&(t=j(t)),i=0,a=h.length;i<a;i++)if(r===(o=h[i])[0]){u=o[1](e,t,n,r);break}if(null==u)throw"color mode "+r+" is not supported";return u.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},j.interpolate=B,r.prototype.interpolate=function(e,t,n){return B(this,e,t,n)},j.mix=B,r.prototype.mix=r.prototype.interpolate,p.rgb=function(){var e,t,n,r;for(e in n=[],t=Oe(arguments))r=t[e],n.push(r);return n},j.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},f.push({p:3,test:function(e){var t;return t=Oe(arguments),"array"===_e(t)&&3===t.length||4===t.length&&"number"===_e(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),p.lrgb=p.rgb,U=function(e,t,n,o){var a,i;return a=e._rgb,i=t._rgb,new r(je(re(a[0],2)*(1-n)+re(i[0],2)*n),je(re(a[1],2)*(1-n)+re(i[1],2)*n),je(re(a[2],2)*(1-n)+re(i[2],2)*n),o)},l=function(e){var t,n,o,a,i;for(t=1/e.length,i=[0,0,0,0],o=0,n=e.length;o<n;o++)a=e[o]._rgb,i[0]+=re(a[0],2)*t,i[1]+=re(a[1],2)*t,i[2]+=re(a[2],2)*t,i[3]+=a[3]*t;return i[0]=je(i[0]),i[1]=je(i[1]),i[2]=je(i[2]),i[3]>1&&(i[3]=1),new r(k(i))},h.push(["lrgb",U]),j.average=function(e,t){var n,r,o,a,u,c,s,f,d,p,h,b,v;if(null==t&&(t="rgb"),d=e.length,e=e.map((function(e){return j(e)})),s=e.splice(0,1)[0],"lrgb"===t)return l(e);for(f in a=[],u=0,c=0,b=s.get(t))b[f]=b[f]||0,a.push(isNaN(b[f])?0:1),"h"!==t.charAt(f)||isNaN(b[f])||(n=b[f]/180*i,u+=O(n),c+=xe(n));for(r=s.alpha(),h=0,p=e.length;h<p;h++)for(f in v=(o=e[h]).get(t),r+=o.alpha(),b)isNaN(v[f])||(a[f]+=1,"h"===t.charAt(f)?(n=v[f]/180*i,u+=O(n),c+=xe(n)):b[f]+=v[f]);for(f in b)if("h"===t.charAt(f)){for(n=g(c/a[f],u/a[f])/i*180;n<0;)n+=360;for(;n>=360;)n-=360;b[f]=n}else b[f]=b[f]/a[f];return j(b,t).alpha(r/d)},T=function(e){var t,n;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(n=parseInt(e,16))>>16,n>>8&255,255&n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(n=parseInt(e,16))>>24&255,n>>16&255,n>>8&255,ye((255&n)/255*100)/100];if(null!=p.css&&(t=p.css(e)))return t;throw"unknown color: "+e},ue=function(e,t){var n,r,o,a,i,u;return null==t&&(t="auto"),i=e[0],o=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),i=Math.round(i),o=Math.round(o),r=Math.round(r),u=(u="000000"+(i<<16|o<<8|r).toString(16)).substr(u.length-6),a=(a="0"+ye(255*n).toString(16)).substr(a.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return u+a;case"argb":return a+u;default:return u}}()},p.hex=function(e){return T(e)},j.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),ue(this._rgb,e)},f.push({p:4,test:function(e){if(1===arguments.length&&"string"===_e(e))return"hex"}}),P=function(){var e,t,n,r,o,a,i,u,c,s,l,f,d,p;if(o=(e=Oe(arguments))[0],l=e[1],i=e[2],0===l)c=r=t=255*i;else{for(n=[0,0,0],f=2*i-(d=i<.5?i*(1+l):i+l-i*l),(p=[0,0,0])[0]=(o/=360)+1/3,p[1]=o,p[2]=o-1/3,a=u=0;u<=2;a=++u)p[a]<0&&(p[a]+=1),p[a]>1&&(p[a]-=1),6*p[a]<1?n[a]=f+6*(d-f)*p[a]:2*p[a]<1?n[a]=d:3*p[a]<2?n[a]=f+(d-f)*(2/3-p[a])*6:n[a]=f;c=(s=[ye(255*n[0]),ye(255*n[1]),ye(255*n[2])])[0],r=s[1],t=s[2]}return e.length>3?[c,r,t,e[3]]:[c,r,t]},se=function(e,t,n){var r,o,a,i,u;return void 0!==e&&e.length>=3&&(e=(i=e)[0],t=i[1],n=i[2]),e/=255,t/=255,n/=255,a=Math.min(e,t,n),o=((J=Math.max(e,t,n))+a)/2,J===a?(u=0,r=Number.NaN):u=o<.5?(J-a)/(J+a):(J-a)/(2-J-a),e===J?r=(t-n)/(J-a):t===J?r=2+(n-e)/(J-a):n===J&&(r=4+(e-t)/(J-a)),(r*=60)<0&&(r+=360),[r,u,o]},j.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["hsl"]),(function(){}))},p.hsl=P,r.prototype.hsl=function(){return se(this._rgb)},I=function(){var e,t,n,r,o,a,i,u,c,s,l,f,d,p,h,b,g,v;if(o=(e=Oe(arguments))[0],b=e[1],v=e[2],v*=255,0===b)c=r=t=v;else switch(360===o&&(o=0),o>360&&(o-=360),o<0&&(o+=360),i=v*(1-b),u=v*(1-b*(n=(o/=60)-(a=C(o)))),g=v*(1-b*(1-n)),a){case 0:c=(s=[v,g,i])[0],r=s[1],t=s[2];break;case 1:c=(l=[u,v,i])[0],r=l[1],t=l[2];break;case 2:c=(f=[i,v,g])[0],r=f[1],t=f[2];break;case 3:c=(d=[i,u,v])[0],r=d[1],t=d[2];break;case 4:c=(p=[g,i,v])[0],r=p[1],t=p[2];break;case 5:c=(h=[v,i,u])[0],r=h[1],t=h[2]}return[c,r,t,e.length>3?e[3]:1]},le=function(){var e,t,n,r,o,a,i,u,c;return a=(i=Oe(arguments))[0],n=i[1],e=i[2],o=Math.min(a,n,e),t=(J=Math.max(a,n,e))-o,c=J/255,0===J?(r=Number.NaN,u=0):(u=t/J,a===J&&(r=(n-e)/t),n===J&&(r=2+(e-a)/t),e===J&&(r=4+(a-n)/t),(r*=60)<0&&(r+=360)),[r,u,c]},j.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["hsv"]),(function(){}))},p.hsv=I,r.prototype.hsv=function(){return le(this._rgb)},te=function(e){return"number"===_e(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},he=function(){var e;return((e=Oe(arguments))[0]<<16)+(e[1]<<8)+e[2]},j.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),he(this._rgb,e)},p.num=te,f.push({p:1,test:function(e){if(1===arguments.length&&"number"===_e(e)&&e>=0&&e<=16777215)return"num"}}),E=function(){var e,t,n,r,o,a,i,u,c,s,l,f,d,p,h,b,g,v,m,y;if(u=(n=Oe(arguments))[0],o=n[1],t=n[2],i=i/100*255,e=255*(o/=100),0===o)f=i=r=t;else switch(360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360),l=(s=t*(1-o))+e*(1-(a=(u/=60)-(c=C(u)))),m=s+e*a,y=s+e,c){case 0:f=(d=[y,m,s])[0],i=d[1],r=d[2];break;case 1:f=(p=[l,y,s])[0],i=p[1],r=p[2];break;case 2:f=(h=[s,y,m])[0],i=h[1],r=h[2];break;case 3:f=(b=[s,l,y])[0],i=b[1],r=b[2];break;case 4:f=(g=[m,s,y])[0],i=g[1],r=g[2];break;case 5:f=(v=[y,s,l])[0],i=v[1],r=v[2]}return[f,i,r,n.length>3?n[3]:1]},ie=function(){var e,t,n,r,o,a,i,u,c;return u=(c=Oe(arguments))[0],o=c[1],t=c[2],i=Math.min(u,o,t),n=100*(r=(J=Math.max(u,o,t))-i)/255,e=i/(255-r)*100,0===r?a=Number.NaN:(u===J&&(a=(o-t)/r),o===J&&(a=2+(t-u)/r),t===J&&(a=4+(u-o)/r),(a*=60)<0&&(a+=360)),[a,n,e]},j.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["hcg"]),(function(){}))},p.hcg=E,r.prototype.hcg=function(){return ie(this._rgb)},A=function(e){var t,n,r,o,a,i,u,c;if(e=e.toLowerCase(),null!=j.colors&&j.colors[e])return T(j.colors[e]);if(a=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=a.slice(1,4),o=i=0;i<=2;o=++i)u[o]=+u[o];u[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=a.slice(1,5),o=c=0;c<=3;o=++c)u[o]=+u[o];else if(a=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=a.slice(1,4),o=t=0;t<=2;o=++t)u[o]=ye(2.55*u[o]);u[3]=1}else if(a=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=a.slice(1,5),o=n=0;n<=2;o=++n)u[o]=ye(2.55*u[o]);u[3]=+u[3]}else(a=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=a.slice(1,4))[1]*=.01,r[2]*=.01,(u=P(r))[3]=1):(a=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=a.slice(1,4))[1]*=.01,r[2]*=.01,(u=P(r))[3]=+a[4]);return u},ae=function(e){var t;return"rgb"==(t=e[3]<1?"rgba":"rgb")?t+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},me=function(e){return ye(100*e)/100},L=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=me(e[0]||0),e[1]=me(100*e[1])+"%",e[2]=me(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},p.css=function(e){return A(e)},j.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ae(this._rgb):"hsl"===e.slice(0,3)?L(this.hsl(),this.alpha()):void 0},p.named=function(e){return T(Ae[e])},f.push({p:5,test:function(e){if(1===arguments.length&&null!=Ae[e])return"named"}}),r.prototype.name=function(e){var t,n;for(n in arguments.length&&(Ae[e]&&(this._rgb=T(Ae[e])),this._rgb[3]=1),t=this.hex("rgb"),Ae)if(t===Ae[n])return n;return t},W=function(){var e,t,n,r;return n=(r=Oe(arguments))[0],e=r[1],t=r[2],[n,O(t*=o)*e,xe(t)*e]},Y=function(){var e,t,n,r,o,a,i,u,c;return i=(n=Oe(arguments))[0],o=n[1],a=n[2],e=(u=W(i,o,a))[0],t=u[1],r=u[2],[(c=G(e,t,r))[0],c[1],r=c[2],n.length>3?n[3]:1]},Q=function(){var e,t,n,r,o,a;return o=(a=Oe(arguments))[0],e=a[1],t=a[2],n=je(e*e+t*t),r=(g(t,e)*c+360)%360,0===ye(1e4*n)&&(r=Number.NaN),[o,n,r]},de=function(){var e,t,n,r,o,a,i;return o=(a=Oe(arguments))[0],n=a[1],t=a[2],r=(i=fe(o,n,t))[0],e=i[1],t=i[2],Q(r,e,t)},j.lch=function(){var e;return e=Oe(arguments),new r(e,"lch")},j.hcl=function(){var e;return e=Oe(arguments),new r(e,"hcl")},p.lch=Y,p.hcl=function(){var e,t,n,r;return t=(r=Oe(arguments))[0],e=r[1],n=r[2],Y([n,e,t])},r.prototype.lch=function(){return de(this._rgb)},r.prototype.hcl=function(){return de(this._rgb).reverse()},oe=function(e){var t,n,r,o,a,i;return null==e&&(e="rgb"),a=(i=Oe(arguments))[0],r=i[1],t=i[2],r/=255,t/=255,[(1-(a/=255)-(o=1-Math.max(a,Math.max(r,t))))*(n=o<1?1/(1-o):0),(1-r-o)*n,(1-t-o)*n,o]},_=function(){var e,t,n,r,o,a;return n=(t=Oe(arguments))[0],o=t[1],a=t[2],r=t[3],e=t.length>4?t[4]:1,1===r?[0,0,0,e]:[n>=1?0:255*(1-n)*(1-r),o>=1?0:255*(1-o)*(1-r),a>=1?0:255*(1-a)*(1-r),e]},p.cmyk=function(){return _(Oe(arguments))},j.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return oe(this._rgb)},p.gl=function(){var e,t,n,r,o;for(r=function(){var e,n;for(t in n=[],e=Oe(arguments))o=e[t],n.push(o);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},j.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},pe=function(e,t,n){var r;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],.2126*(e=K(e))+.7152*(t=K(t))+.0722*K(n)},K=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},D=function(e,t,n,o){var a,i;return a=e._rgb,i=t._rgb,new r(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),o)},h.push(["rgb",D]),r.prototype.luminance=function(e,t){var n,r,o,a,i;return null==t&&(t="rgb"),arguments.length?(a=this._rgb,0===e?a=[0,0,0,this._rgb[3]]:1===e?a=[255,255,255,this[3]]:(n=pe(this._rgb),r=1e-7,o=20,i=function(n,a){var u,c;return u=(c=n.interpolate(a,.5,t)).luminance(),Math.abs(e-u)<r||!o--?c:u>e?i(n,c):i(c,a)},a=n>e?i(j("black"),this).rgba():i(this,j("white")).rgba()),j(a).alpha(this.alpha())):pe(this._rgb)},ke=function(e){var t,n,r,o;return(o=e/100)<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*Z(n),t=o<20?0:.8274096064007395*(t=o-10)-254.76935184120902+115.67994401066147*Z(t)):(r=351.97690566805693+.114206453784165*(r=o-55)-40.25366309332127*Z(r),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*Z(n),t=255),[r,n,t]},be=function(){var e,t,n,r,o,a,i,u;for(o=(a=Oe(arguments))[0],a[1],e=a[2],r=1e3,n=4e4,t=.4;n-r>t;)(i=ke(u=.5*(n+r)))[2]/i[0]>=e/o?n=u:r=u;return ye(u)},j.temperature=j.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["temperature"]),(function(){}))},p.temperature=p.kelvin=p.K=ke,r.prototype.temperature=function(){return be(this._rgb)},r.prototype.kelvin=r.prototype.temperature,j.contrast=function(e,t){var n,o,a,i;return"string"!==(a=_e(e))&&"number"!==a||(e=new r(e)),"string"!==(i=_e(t))&&"number"!==i||(t=new r(t)),(n=e.luminance())>(o=t.luminance())?(n+.05)/(o+.05):(o+.05)/(n+.05)},j.distance=function(e,t,n){var o,a,i,u,c,s,l;for(a in null==n&&(n="lab"),"string"!==(c=_e(e))&&"number"!==c||(e=new r(e)),"string"!==(s=_e(t))&&"number"!==s||(t=new r(t)),i=e.get(n),u=t.get(n),l=0,i)l+=(o=(i[a]||0)-(u[a]||0))*o;return Math.sqrt(l)},j.deltaE=function(e,t,n,o){var a,u,c,s,l,f,d,p,h,v,m,y,w,x,j,k,_,A,N,S,M,C,E,T;for(null==n&&(n=1),null==o&&(o=1),"string"!==(j=_e(e))&&"number"!==j||(e=new r(e)),"string"!==(k=_e(t))&&"number"!==k||(t=new r(t)),a=(_=e.lab())[0],c=_[1],l=_[2],u=(A=t.lab())[0],s=A[1],f=A[2],d=je(c*c+l*l),p=je(s*s+f*f),S=a<16?.511:.040975*a/(1+.01765*a),N=.0638*d/(1+.0131*d)+.638,x=d<1e-6?0:180*g(l,c)/i;x<0;)x+=360;for(;x>=360;)x-=360;return M=x>=164&&x<=345?.56+b(.2*O(i*(x+168)/180)):.36+b(.4*O(i*(x+35)/180)),w=je((h=d*d*d*d)/(h+1900)),je((C=(a-u)/(n*S))*C+(E=(y=d-p)/(o*N))*E+((v=c-s)*v+(m=l-f)*m-y*y)/((T=N*(w*M+1-w))*T))},r.prototype.get=function(e){var t,n,r,o,a;return r=(o=e.split("."))[0],t=o[1],a=this[r](),t?(n=r.indexOf(t))>-1?a[n]:console.warn("unknown channel "+t+" in mode "+r):a},r.prototype.set=function(e,t){var n,r,o,a,i;if(o=(a=e.split("."))[0],n=a[1])if(i=this[o](),(r=o.indexOf(n))>-1)if("string"===_e(t))switch(t.charAt(0)){case"+":case"-":i[r]+=+t;break;case"*":i[r]*=+t.substr(1);break;case"/":i[r]/=+t.substr(1);break;default:i[r]=+t}else i[r]=t;else console.warn("unknown channel "+n+" in mode "+o);else i=t;return j(i,o).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?j.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var t;return null==e&&(e=1),(t=this.lab())[0]-=a.Kn*e,j.lab(t).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var t;return null==e&&(e=1),(t=this.lch())[1]+=e*a.Kn,t[1]<0&&(t[1]=0),j.lch(t).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),j(t[0]*e,t[1]*e,t[2]*e,e)},ee=function(e,t){return e*t/255},N=function(e,t){return e>t?t:e},H=function(e,t){return e>t?e:t},we=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ne=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},x=function(e,t){return 255*(1-(1-t/255)/(e/255))},S=function(e,t){return 255===e||(e=t/255*255/(1-e/255))>255?255:e},(m=function(e,t,n){if(!m[n])throw"unknown blend mode "+n;return m[n](e,t)}).normal=(y=function(e){return function(t,n){var r,o;return r=j(n).rgb(),o=j(t).rgb(),j(e(r,o),"rgb")}})((M=function(e){return function(t,n){var r,o,a;for(a=[],r=o=0;o<=3;r=++o)a[r]=e(t[r],n[r]);return a}})((function(e,t){return e}))),m.multiply=y(M(ee)),m.screen=y(M(we)),m.overlay=y(M(ne)),m.darken=y(M(N)),m.lighten=y(M(H)),m.dodge=y(M(S)),m.burn=y(M(x)),j.blend=m,j.analyze=function(e){var t,n,r,o;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)null==(o=e[n])||isNaN(o)||(r.values.push(o),r.sum+=o,o<r.min&&(r.min=o),o>r.max&&(r.max=o),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return j.limits(r,e,t)},r},j.scale=function(e,t){var n,r,o,a,i,u,c,s,l,f,d,p,h,b,g,v,m,y,w,x,k;return l="rgb",f=j("#ccc"),b=0,i=[0,1],h=[],p=[0,0],n=!1,o=[],d=!1,s=0,c=1,a=!1,r={},g=!0,u=1,x=function(e){var t,n,r,a,i,u;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===_e(e)&&null!=j.brewer&&(e=j.brewer[e]||j.brewer[e.toLowerCase()]||e),"array"===_e(e)){for(1===e.length&&(e=[e[0],e[0]]),t=r=0,a=(e=e.slice(0)).length-1;0<=a?r<=a:r>=a;t=0<=a?++r:--r)n=e[t],"string"===_e(n)&&(e[t]=j(n));for(h.length=0,t=u=0,i=e.length-1;0<=i?u<=i:u>=i;t=0<=i?++u:--u)h.push(t/(e.length-1))}return w(),o=e},m=function(e){var t,r;if(null!=n){for(r=n.length-1,t=0;t<r&&e>=n[t];)t++;return t-1}return 0},k=function(e){return e},y=function(e,t){var a,i,d,b,v,y,w;if(null==t&&(t=!1),isNaN(e)||null===e)return f;if(w=t?e:n&&n.length>2?m(e)/(n.length-2):c!==s?(e-s)/(c-s):1,t||(w=k(w)),1!==u&&(w=re(w,u)),w=p[0]+w*(1-p[0]-p[1]),w=Math.min(1,Math.max(0,w)),d=Math.floor(1e4*w),g&&r[d])a=r[d];else{if("array"===_e(o))for(i=b=0,y=h.length-1;0<=y?b<=y:b>=y;i=0<=y?++b:--b){if(w<=(v=h[i])){a=o[i];break}if(w>=v&&i===h.length-1){a=o[i];break}if(w>v&&w<h[i+1]){w=(w-v)/(h[i+1]-v),a=j.interpolate(o[i],o[i+1],w,l);break}}else"function"===_e(o)&&(a=o(w));g&&(r[d]=a)}return a},w=function(){return r={}},x(e),(v=function(e){var t;return t=j(y(e)),d&&t[d]?t[d]():t}).classes=function(e){var t;return null!=e?("array"===_e(e)?(n=e,i=[e[0],e[e.length-1]]):(t=j.analyze(i),n=0===e?[t.min,t.max]:j.limits(t,"e",e)),v):n},v.domain=function(e){var t,n,r,a,u,l,f;if(!arguments.length)return i;if(s=e[0],c=e[e.length-1],h=[],r=o.length,e.length===r&&s!==c)for(u=0,a=e.length;u<a;u++)n=e[u],h.push((n-s)/(c-s));else for(t=f=0,l=r-1;0<=l?f<=l:f>=l;t=0<=l?++f:--f)h.push(t/(r-1));return i=[s,c],v},v.mode=function(e){return arguments.length?(l=e,w(),v):l},v.range=function(e,t){return x(e),v},v.out=function(e){return d=e,v},v.spread=function(e){return arguments.length?(b=e,v):b},v.correctLightness=function(e){return null==e&&(e=!0),a=e,w(),k=a?function(e){var t,n,r,o,a,i,u,c;for(i=(t=y(0,!0).lab()[0])>(n=y(1,!0).lab()[0]),r=y(e,!0).lab()[0]-(o=t+(n-t)*e),u=0,c=1,a=20;Math.abs(r)>.01&&a-- >0;)i&&(r*=-1),r<0?(u=e,e+=.5*(c-e)):(c=e,e+=.5*(u-e)),r=y(e,!0).lab()[0]-o;return e}:function(e){return e},v},v.padding=function(e){return null!=e?("number"===_e(e)&&(e=[e,e]),p=e,v):p},v.colors=function(t,r){var a,u,c,s,l,f,d,p;if(arguments.length<2&&(r="hex"),l=[],0===arguments.length)l=o.slice(0);else if(1===t)l=[v(.5)];else if(t>1)u=i[0],a=i[1]-u,l=function(){f=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)f.push(e);return f}.apply(this).map((function(e){return v(u+e/(t-1)*a)}));else{if(e=[],d=[],n&&n.length>2)for(c=p=1,s=n.length;1<=s?p<s:p>s;c=1<=s?++p:--p)d.push(.5*(n[c-1]+n[c]));else d=i;l=d.map((function(e){return v(e)}))}return j[r]&&(l=l.map((function(e){return e[r]()}))),l},v.cache=function(e){return null!=e?(g=e,v):g},v.gamma=function(e){return null!=e?(u=e,v):u},v.nodata=function(e){return null!=e?(f=j(e),v):f},v},null==j.scales&&(j.scales={}),j.scales.cool=function(){return j.scale([j.hsl(180,1,.9),j.hsl(250,.7,.4)])},j.scales.hot=function(){return j.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},j.analyze=function(e,t,n){var r,o,a,i,u,c;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(u.values.push(e),u.sum+=e,e<u.min&&(u.min=e),e>u.max&&(u.max=e),u.count+=1)},c=function(e,o){if(n(e,o))return null!=t&&"function"===_e(t)?r(t(e)):null!=t&&"string"===_e(t)||"number"===_e(t)?r(e[t]):r(e)},"array"===_e(e))for(i=0,a=e.length;i<a;i++)c(e[i]);else for(o in e)c(e[o],o);return u.domain=[u.min,u.max],u.limits=function(e,t){return j.limits(u,e,t)},u},j.limits=function(e,t,n){var r,o,a,i,u,c,s,l,f,d,p,h,g,v,m,y,w,x,k,_,O,A,N,S,M,E,T,q,L,P,I,B,F,R,U,$,D,Q,G,z,W,Y,H,V,K,X,ee,te,ne,oe,ae,ie,ue,ce,se;if(null==t&&(t="equal"),null==n&&(n=7),"array"===_e(e)&&(e=j.analyze(e)),M=e.min,J=e.max,e.sum,ce=e.values.sort((function(e,t){return e-t})),1===n)return[M,J];if(N=[],"c"===t.substr(0,1)&&(N.push(M),N.push(J)),"e"===t.substr(0,1)){for(N.push(M),_=I=1,U=n-1;1<=U?I<=U:I>=U;_=1<=U?++I:--I)N.push(M+_/n*(J-M));N.push(J)}else if("l"===t.substr(0,1)){if(M<=0)throw"Logarithmic scales are only possible for values > 0";for(E=Math.LOG10E*Z(M),S=Math.LOG10E*Z(J),N.push(M),_=se=1,$=n-1;1<=$?se<=$:se>=$;_=1<=$?++se:--se)N.push(re(10,E+_/n*(S-E)));N.push(J)}else if("q"===t.substr(0,1)){for(N.push(M),_=r=1,Y=n-1;1<=Y?r<=Y:r>=Y;_=1<=Y?++r:--r)B=(ce.length-1)*_/n,(F=C(B))===B?N.push(ce[F]):(R=B-F,N.push(ce[F]*(1-R)+ce[F+1]*R));N.push(J)}else if("k"===t.substr(0,1)){for(q=ce.length,v=new Array(q),x=new Array(n),oe=!0,L=0,y=null,(y=[]).push(M),_=o=1,H=n-1;1<=H?o<=H:o>=H;_=1<=H?++o:--o)y.push(M+_/n*(J-M));for(y.push(J);oe;){for(O=a=0,V=n-1;0<=V?a<=V:a>=V;O=0<=V?++a:--a)x[O]=0;for(_=i=0,K=q-1;0<=K?i<=K:i>=K;_=0<=K?++i:--i){for(ue=ce[_],T=Number.MAX_VALUE,O=u=0,X=n-1;0<=X?u<=X:u>=X;O=0<=X?++u:--u)(k=b(y[O]-ue))<T&&(T=k,m=O);x[m]++,v[_]=m}for(P=new Array(n),O=c=0,ee=n-1;0<=ee?c<=ee:c>=ee;O=0<=ee?++c:--c)P[O]=null;for(_=s=0,te=q-1;0<=te?s<=te:s>=te;_=0<=te?++s:--s)null===P[w=v[_]]?P[w]=ce[_]:P[w]+=ce[_];for(O=l=0,ne=n-1;0<=ne?l<=ne:l>=ne;O=0<=ne?++l:--l)P[O]*=1/x[O];for(oe=!1,O=f=0,D=n-1;0<=D?f<=D:f>=D;O=0<=D?++f:--f)if(P[O]!==y[_]){oe=!0;break}y=P,++L>200&&(oe=!1)}for(A={},O=d=0,Q=n-1;0<=Q?d<=Q:d>=Q;O=0<=Q?++d:--d)A[O]=[];for(_=p=0,G=q-1;0<=G?p<=G:p>=G;_=0<=G?++p:--p)A[w=v[_]].push(ce[_]);for(ae=[],O=h=0,z=n-1;0<=z?h<=z:h>=z;O=0<=z?++h:--h)ae.push(A[O][0]),ae.push(A[O][A[O].length-1]);for(ae=ae.sort((function(e,t){return e-t})),N.push(ae[0]),_=g=1,W=ae.length-1;g<=W;_=g+=2)ie=ae[_],isNaN(ie)||-1!==N.indexOf(ie)||N.push(ie)}return N},q=function(e,t,n){var r,o,a,i;return e=(r=Oe(arguments))[0],t=r[1],n=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?a=1-((o=(1-t)/3)+(i=(1+t*O(s*e)/O(u-s*e))/3)):e<2/3?o=1-((i=(1-t)/3)+(a=(1+t*O(s*(e-=1/3))/O(u-s*e))/3)):i=1-((a=(1-t)/3)+(o=(1+t*O(s*(e-=2/3))/O(u-s*e))/3)),[255*(i=V(n*i*3)),255*(a=V(n*a*3)),255*(o=V(n*o*3)),r.length>3?r[3]:1]},ce=function(){var e,t,n,r,o,a,i;return o=(a=Oe(arguments))[0],t=a[1],e=a[2],s=2*Math.PI,o/=255,t/=255,e/=255,0==(i=1-Math.min(o,t,e)/(r=(o+t+e)/3))?n=0:(n=(o-t+(o-e))/2,n/=Math.sqrt((o-t)*(o-t)+(o-e)*(t-e)),n=Math.acos(n),e>t&&(n=s-n),n/=s),[360*n,i,r]},j.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,o=e.apply(r,t);return Object(o)===o?o:r}(r,Me.call(arguments).concat(["hsi"]),(function(){}))},p.hsi=q,r.prototype.hsi=function(){return ce(this._rgb)},F=function(e,t,n,r){var o,a,i,u,c,s,l,f,d,p;return"hsl"===r?(d=e.hsl(),p=t.hsl()):"hsv"===r?(d=e.hsv(),p=t.hsv()):"hcg"===r?(d=e.hcg(),p=t.hcg()):"hsi"===r?(d=e.hsi(),p=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),p=t.hcl()),"h"===r.substr(0,1)&&(a=d[0],l=d[1],u=d[2],i=p[0],f=p[1],c=p[2]),isNaN(a)||isNaN(i)?isNaN(a)?isNaN(i)?o=Number.NaN:(o=i,1!==u&&0!==u||"hsv"===r||(s=f)):(o=a,1!==c&&0!==c||"hsv"===r||(s=l)):o=a+n*(i>a&&i-a>180?i-(a+360):i<a&&a-i>180?i+360-a:i-a),null==s&&(s=l+n*(f-l)),j[r](o,s,u+n*(c-u))},$=function(e,t,n,r){var o,a;return o=e.num(),a=t.num(),j.num(o+(a-o)*n,"num")},(h=h.concat(function(){var e,t,n,r;for(r=[],t=0,e=(n=["hsv","hsl","hsi","hcl","lch","hcg"]).length;t<e;t++)X=n[t],r.push([X,F]);return r}())).push(["num",$]),R=function(e,t,n,o){var a,i;return a=e.lab(),i=t.lab(),new r(a[0]+n*(i[0]-a[0]),a[1]+n*(i[1]-a[1]),a[2]+n*(i[2]-a[2]),o)},h.push(["lab",R])}).call(this)}).call(this,n(47)(e))},function(e,t,n){e.exports=n(16)(378)},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(49);case"v8light":return n(51)}},function(e,t,n){var r=n(31),o=n(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){(t=n(32)(!1)).push([e.i,".timelionChart{height:100%;width:100%;display:flex;flex-direction:column}.timelionChart__topTitle{text-align:center}\n",""]),e.exports=t},function(e,t,n){var r=n(31),o=n(52);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,n){(t=n(32)(!1)).push([e.i,".timelionChart{height:100%;width:100%;display:flex;flex-direction:column}.timelionChart__topTitle{text-align:center}\n",""]),e.exports=t},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"getTimelionRequestHandler",(function(){return Je})),n.d(t,"TimelionVisComponent",(function(){return xt}));var r={};n.r(r),n.d(r,"buildNode",(function(){return R})),n.d(r,"toElasticsearchQuery",(function(){return U}));var o={};n.r(o),n.d(o,"wildcardSymbol",(function(){return $})),n.d(o,"buildNode",(function(){return G})),n.d(o,"test",(function(){return z})),n.d(o,"toElasticsearchQuery",(function(){return W})),n.d(o,"toQueryStringQuery",(function(){return Y})),n.d(o,"hasLeadingWildcard",(function(){return H}));var a={};n.r(a),n.d(a,"buildNodeParams",(function(){return te})),n.d(a,"toElasticsearchQuery",(function(){return ne}));var i={};n.r(i),n.d(i,"buildNodeParams",(function(){return re})),n.d(i,"toElasticsearchQuery",(function(){return oe}));var u={};n.r(u),n.d(u,"buildNodeParams",(function(){return ae})),n.d(u,"toElasticsearchQuery",(function(){return ie}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return ue})),n.d(c,"toElasticsearchQuery",(function(){return ce}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return se})),n.d(s,"toElasticsearchQuery",(function(){return le}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return fe})),n.d(l,"toElasticsearchQuery",(function(){return de}));var f={};n.r(f),n.d(f,"buildNodeParams",(function(){return pe})),n.d(f,"toElasticsearchQuery",(function(){return he}));var d={};n.r(d),n.d(d,"buildNode",(function(){return ge})),n.d(d,"buildNodeWithArgumentNodes",(function(){return ve})),n.d(d,"toElasticsearchQuery",(function(){return me}));var p,h,b=n(5),g=n(30),v=n.n(g),m=n(29),y=n.n(m),w=n(3),x=n.n(w),j=n(38),k=n.n(j),_=function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t},O=function(e,t){var n=_(e,t);return{script:{source:A(e),lang:e.lang,params:{value:n}}}},A=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(p||(p={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(h||(h={}));var N={gt:">",gte:">=",lte:"<=",lt:"<"},S={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},M={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},C=function(e,t){var n=Object(w.mapValues)(Object(w.pickBy)(t,(function(e,t){return t in N})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),r=Object(w.map)(n,(function(t,n){return"("+e.script+")"+Object(w.get)(N,n)+n})).join(" && ");if("painless"===e.lang){var o="date"===e.type?M:S,a=Object(w.reduce)(n,(function(e,t,n){return e.concat(Object(w.get)(o,n))}),[]).join(" "),i=Object(w.map)(n,(function(t,n){return"".concat(n,"(() -> { ").concat(e.script," }, params.").concat(n,")")})).join(" && ");r="".concat(a).concat(i)}return{script:{source:r,params:n,lang:e.lang}}},E=function(e){return function(e){return Object(w.has)(e,"query.exists")}(e)?function(e){return e.query.exists&&e.query.exists.field}(e):function(e){var t=Object(w.has)(e,"query.match_phrase"),n=Object(w.get)(e,"query.match",[]),r=void 0!==Object.values(n).find((function(e){return"phrase"===e.type}));return t||r}(e)?function(e){var t,n,r=null!==(t=null!==(n=e.query.match_phrase)&&void 0!==n?n:e.query.match)&&void 0!==t?t:{};return Object.keys(r)[0]}(e):function(e){var t;return(null==e||null===(t=e.meta)||void 0===t?void 0:t.type)===p.PHRASES}(e)?function(e){return e.meta.key}(e):function(e){return Object(w.has)(e,"query.range")}(e)?function(e){return e.query.range&&Object.keys(e.query.range)[0]}(e):void 0},T=function(e){return Object(w.get)(e,"meta.disabled",!1)},q=function(e){return Object(w.omit)(e,["meta","$state"])};function L(e,t){if(function(e){var t,n,r=Object.keys(null!==(t=e.match||(null===(n=e.query)||void 0===n?void 0:n.match))&&void 0!==t?t:{})[0];return Boolean(r&&("phrase"===Object(w.get)(e,["query","match",r,"type"])||"phrase"===Object(w.get)(e,["match",r,"type"])))}(e)){var n=e.match||e.query.match,r=Object.keys(n)[0],o=Object(w.get)(n,[r]),a=o.query;if(t){var i=t.fields.find((function(e){return e.name===r}));i&&(a=_(i,o.query))}return{meta:e.meta,$state:e.$state,query:{match_phrase:v()({},r,Object(w.omit)(y()(y()({},o),{},{query:a}),"type"))}}}return e.query?e=Object(w.pick)(e,["meta","query","$state"]):e.query={},e.exists&&(e.query.exists=e.exists,delete e.exists),e.range&&(e.query.range=e.range,delete e.range),e.match_all&&(e.query.match_all=e.match_all,delete e.match_all),Object.keys(e).forEach((function(t){"meta"!==t&&"query"!==t&&"$state"!==t&&(e.query[t]=e[t],delete e[t])})),e}var P=n(36),I=n.n(P),B=n(33),F=n.n(B);function R(e){return{type:"literal",value:e}}function U(e){return e.value}var $="@kuery-wildcard@";function D(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Q(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function G(e){return e.includes($)?{type:"wildcard",value:e}:Be(e)}function z(e,t){var n=e.value.split($).map(D).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(t)}function W(e){return e.value.split($).join("*")}function Y(e){return e.value.split($).map(Q).join("*")}function H(e){var t=e.value;return t.startsWith($)&&t.replace($,"").length>0}function V(e,t){if(!t)return[];if("literal"===e.type){var n=U(e),r=t.fields.find((function(e){return e.name===n}));return r?[r]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return z(e,t.name)})):void 0}var Z=n(20),K=n.n(Z);function X(e){var t=K.a.tz.guess();return"Browser"===e?t:e}function J(e){return function(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.nested)||void 0===t||!t.path)}(e)?e.subType:void 0}function ee(e,t,n){var r=y()(y()({},e),{},{value:n?"".concat(n,".").concat(e.value):e.value});if(!t||"wildcard"===r.type&&!n)return r;var o=V(r,t).reduce((function(e,t){var r=J(t),o=null==r?void 0:r.nested.path;return n&&!o?[].concat(I()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):o&&!n?[].concat(I()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):o!==n?[].concat(I()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):e}),[]);if(o.length>0)throw new Error(o.join("\n"));return r}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(w.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(w.isUndefined)(t))throw new Error("value is a required argument");var r="string"==typeof e?Be(e):R(e),o="string"==typeof t?Be(t):R(t),a=R(n);return{arguments:[r,o,a]}}function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=F()(e.arguments,3),a=o[0],i=o[1],u=o[2],c="wildcard"===i.type&&i.value===$,s="wildcard"===a.type&&a.value===$,l=c&&s;if(l)return{match_all:{}};var f=ee(a,t,null!=r&&r.nested?r.nested.path:void 0),d=Object(w.isUndefined)(i)?i:Re(i),p=u.value?"phrase":"best_fields";if(null===f.value)return"wildcard"===i.type?{query_string:{query:Y(i)}}:{multi_match:{type:p,query:d,lenient:!0}};var h=t?V(f,t):[];if(h&&0===h.length&&h.push({name:Re(f),scripted:!1,type:""}),c&&(null==h||!h.length||(null==h?void 0:h.length)===(null==t?void 0:t.fields.length)))return{match_all:{}};var b=h.reduce((function(e,t){var o=function(e){var n=J(t);return"wildcard"!==f.type||null==n||!n.nested||null!=r&&r.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(c)return[].concat(I()(e),[o({exists:{field:t.name}})]);if("wildcard"===i.type)return[].concat(I()(e),[o({query_string:{fields:[t.name],query:Y(i)}})]);if("date"===t.type){var a=n.dateFormatTZ?{time_zone:X(n.dateFormatTZ)}:{};return[].concat(I()(e),[o({range:v()({},t.name,y()({gte:d,lte:d},a))})])}var u="phrase"===p?"match_phrase":"match";return[].concat(I()(e),[o(v()({},u,v()({},t.name,d)))])}if(!c)return[].concat(I()(e),[{script:y()({},O(t,d))}])}),[]);return{bool:{should:b||[],minimum_should_match:1}}}function re(e){return{arguments:e}}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.filtersInMustClause,a=e.arguments||[],i=o?"must":"filter";return{bool:v()({},i,a.map((function(e){return Re(e,t,n,r)})))}}function ae(e){return{arguments:e}}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.arguments||[];return{bool:{should:o.map((function(e){return Re(e,t,n,r)})),minimum_should_match:1}}}function ue(e){return{arguments:[e]}}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=F()(e.arguments,1),a=o[0];return{bool:{must_not:Re(a,t,n,r)}}}function se(e,t,n){return{arguments:[Be(e),t,ye.literal.buildNode(n)]}}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=F()(e.arguments,3),a=o[0],i=o[1],u=o[2],c=ee(a,t,null!=r&&r.nested?r.nested.path:void 0),s=t?V(c,t):[];s&&0===s.length&&s.push({name:Re(c),scripted:!1,type:""});var l=s.map((function(e){var t=function(t){var n=J(e);return"wildcard"!==c.type||null==n||!n.nested||r.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}},o=v()({},i,Re(u));if(e.scripted)return{script:C(e,o)};if("date"===e.type){var a=n.dateFormatTZ?{time_zone:X(n.dateFormatTZ)}:{};return t({range:v()({},e.name,y()(y()({},o),a))})}return t({range:v()({},e.name,o)})}));return{bool:{should:l,minimum_should_match:1}}}function fe(e){return{arguments:[R(e)]}}function de(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=F()(e.arguments,1),a=o[0],i=y()(y()({},a),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(a.value):a.value}),u=U(i),c=null==t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return e.name===u}));if(null!=c&&c.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:u}}}function pe(e,t){return{arguments:["string"==typeof e?Be(e):R(e),t]}}function he(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=F()(e.arguments,2),i=a[0],u=a[1],c=Re(i),s=null!=o&&null!==(n=o.nested)&&void 0!==n&&n.path?"".concat(o.nested.path,".").concat(c):c;return{nested:{path:s,query:Re(u,t,r,y()(y()({},o),{},{nested:{path:s}})),score_mode:"none"}}}var be={is:a,and:i,or:u,not:c,range:s,exists:l,nested:f};function ge(e){var t=be[e];if(x.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return y()({type:"function",function:e},t.buildNodeParams.apply(t,r))}function ve(e,t){if(x.a.isUndefined(be[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function me(e,t,n,r){return be[e.function].toElasticsearchQuery(e,t,n,r)}var ye={function:d,literal:r,wildcard:o},we=n(40),xe=n.n(we),je=n(41),ke=n.n(je),_e=n(42),Oe=n.n(_e),Ae=n(43),Ne=n.n(Ae),Se=n(44),Me=n.n(Se),Ce=n(45),Ee=n.n(Ce),Te=b.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),qe={fieldName:b.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:b.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:b.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:b.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},Le=function(e){Ne()(n,e);var t=Me()(n);function n(e,r){var o;ke()(this,n);var a=e.message;if(e.expected){var i=e.expected.map((function(e){var t,n="other"===(t=e).type?t.description:"literal"===t.type?'"'.concat(t.text,'"'):"end"===t.type?"end of input":t.text||t.description||"";return qe[n]||n})),u=Object(w.uniq)(i).filter((function(e){return void 0!==e})).sort().join(", ");a=b.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:u,foundInput:e.found?'"'.concat(e.found,'"'):Te}})}var c=[a,r,Object(w.repeat)("-",e.location.start.offset)+"^"].join("\n");return o=t.call(this,c),v()(Oe()(o),"shortMessage",void 0),o.name="KQLSyntaxError",o.shortMessage=a,o}return xe()(n)}(Ee()(Error)),Pe=n(39),Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pe.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return n(e,y()(y()({},t),{},{helpers:{nodeTypes:ye}}))},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ie(e,y()(y()({},t),{},{startRule:"Literal"}),Pe.parse)},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return Ie(e,t,Pe.parse)}catch(t){throw"SyntaxError"===t.name?new Le(t,e):t}},Re=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!t||!t.type||!ye[t.type])return e(ye.function.buildNode("and",[]),n);var a=ye[t.type];return a.toElasticsearchQuery(t,n,r,o)};Object(w.flow)((function(e){return e.replace(/[\\():<>"*]/g,"\\$&")}),(function(e){return e.replace(/(\s+)(and|or)(\s+)/gi,"$1\\$2$3")}),(function(e){return e.replace(/not(\s+)/gi,"\\$&")}),(function(e){return e.replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));var Ue=function(){return Re.apply(void 0,arguments)};function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.map((function(e){return Fe(e.query,{allowLeadingWildcards:n})}));return De(e,a,{dateFormatTZ:r,filtersInMustClause:o})}function De(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ye.function.buildNode("and",t),o=Ue(r,e,n);return Object.assign({must:[],filter:[],should:[],must_not:[]},o.bool)}function Qe(e,t){var n,r;return null===(n=e.meta)||void 0===n||!n.key||!t||("custom"===(null===(r=e.meta)||void 0===r?void 0:r.type)?e.meta.index===t.id:t.fields.some((function(t){return t.name===e.meta.key})))}var Ge=function(e,t){if(!t)return e;var n=E(e);if(!n)return e;var r=t.fields.find((function(e){return e.name===n})),o=r&&J(r);if(!o)return e;var a=q(e);return{meta:e.meta,query:{nested:{path:o.nested.path,query:a.query||a}}}},ze=function(e){return function(t){return Object(w.isUndefined)(t.meta)||Object(w.isUndefined)(t.meta.negate)?!e:t.meta&&t.meta.negate===e}},We=function(e){return e.query||e},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.filter((function(e){return e&&!T(e)}));var r=function(r){return e.filter((function(e){return!!e})).filter(ze(r)).filter((function(e){return!n||Qe(e,t)})).map((function(e){return L(e,t)})).map((function(e){return Ge(e,t)})).map(q).map(We)};return{must:[],filter:r(!1),should:[],must_not:r(!0)}};function He(e,t,n){return{must:(e||[]).map((function(e){var r=function(e){return Object(w.isString)(e)?""===e.trim()?{match_all:{}}:{query_string:{query:e}}:e}(e.query);return function(e,t,n){return function(e){return Object(w.has)(e,"query_string.query")}(e)&&("string"==typeof t&&(t=JSON.parse(t)),Object(w.extend)(e.query_string,t),n&&Object(w.defaults)(e.query_string,{time_zone:X(n)})),e}(r,t,n)})),filter:[],should:[],must_not:[]}}function Ve(e){return e.filter((function(e){return!e||"object"!==k()(e)||!Object(w.isEqual)(e,{match_all:{}})}))}function Ze(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allowLeadingWildcards:!1,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:!1};t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];var o=t.filter((function(e){return Object(w.has)(e,"query")})),a=Object(w.groupBy)(o,"language"),i=$e(e,a.kuery,r.allowLeadingWildcards,r.dateFormatTZ,r.filtersInMustClause),u=He(a.lucene,r.queryStringOptions,r.dateFormatTZ),c=Ye(n,e,r.ignoreFilterIfFieldNotInIndex);return{bool:{must:Ve([].concat(I()(i.must),I()(u.must),I()(c.must))),filter:Ve([].concat(I()(i.filter),I()(u.filter),I()(c.filter))),should:Ve([].concat(I()(i.should),I()(u.should),I()(c.should))),must_not:[].concat(I()(i.must_not),I()(u.must_not),I()(c.must_not))}}}var Ke=n(1),Xe=n(0);function Je({uiSettings:e,http:t,timefilter:n,expressionAbortSignal:r}){const o=(a=e).isDefault("dateFormat:tz")?K.a.tz.guess()||K()().format("Z"):a.get("dateFormat:tz","Browser");var a;return async function({timeRange:a,filters:i,query:u,visParams:c,searchSessionId:s,executionContext:l}){var f;const d=Object(Xe.b)(),p=c.expression,h=new AbortController,g=function(){h.abort()};if(r.addEventListener("abort",g),!p)throw new Error(b.i18n.translate("timelion.emptyExpressionErrorMessage",{defaultMessage:"Timelion error: No expression provided"}));let v;const m=null===(f=i[0])||void 0===f?void 0:f.meta.index;m&&(v=await Object(Xe.d)().get(m).catch((()=>{})));const y=Object(Ke.getEsQueryConfig)(e),w=n.calculateBounds(a),x=d.session.isCurrentSession(s)&&d.session.trackSearch({abort:()=>h.abort()});try{const e=d.session.getSearchOptions(s);return await t.post("/api/timelion/run",{body:JSON.stringify({sheet:[p],extended:{es:{filter:Ze(v,u,i,y)}},time:{from:w.min,to:w.max,interval:c.interval,timezone:o},...e&&{searchSession:e}}),context:l,signal:h.signal})}catch(e){if(e&&e.body){const t=new Error(`${b.i18n.translate("timelion.requestHandlerErrorTitle",{defaultMessage:"Timelion request error"})}:${e.body.title?" "+e.body.title:""} ${e.body.message}`);throw t.stack=e.stack,t}throw e}finally{x&&d.session.isCurrentSession(s)&&x(),r.removeEventListener("abort",g)}}}var et=n(4),tt=n(22),nt=n(21),rt=n(9),ot=n(26),at=n(2);const it=({color:e,bars:t})=>{var n,r;let o=null!==(n=t.fill)&&void 0!==n?n:1;return o<0?o=0:o>1&&(o=1),{rectBorder:{visible:!1},rect:{fill:e,opacity:o,widthPixel:Math.max(1,null!==(r=t.lineWidth)&&void 0!==r?r:1)}}},ut=({index:e,groupId:t,visData:n})=>Object(at.jsx)(tt.BarSeries,{id:e+n.label,groupId:t,name:n.label,xScaleType:tt.ScaleType.Time,yScaleType:tt.ScaleType.Linear,xAccessor:0,yAccessors:[1],data:n._hide?[]:n.data,sortIndex:e,enableHistogramMode:!1,color:n.color,stackAccessors:n.stack?[0]:void 0,barSeriesStyle:it(n)});var ct=n(46),st=n.n(ct);const lt=(e,t)=>!(null==e||!e.show)||null==t||!t.show,ft=(e,t)=>{var n;const r=null!=e&&e.fillColor||void 0===(null==e?void 0:e.fill)?"white":t;return r&&st()(r).alpha(null!==(n=null==e?void 0:e.fill)&&void 0!==n?n:1).css()},dt=({color:e,lines:t,points:n})=>{var r,o,a,i,u,c;return{line:{opacity:lt(t,n)?1:0,stroke:e,strokeWidth:void 0!==(null==t?void 0:t.lineWidth)?Number(t.lineWidth):3,visible:lt(t,n)},area:{fill:e,opacity:null!==(r=null==t?void 0:t.fill)&&void 0!==r?r:0,visible:null===(o=null!==(a=null==t?void 0:t.show)&&void 0!==a?a:null==n?void 0:n.show)||void 0===o||o},point:{fill:ft(n,e),opacity:1,radius:null!==(i=null==n?void 0:n.radius)&&void 0!==i?i:3,stroke:e,strokeWidth:null!==(u=null==n?void 0:n.lineWidth)&&void 0!==u?u:2,visible:null!==(c=null==n?void 0:n.show)&&void 0!==c&&c,shape:"cross"===(null==n?void 0:n.symbol)?tt.PointShape.X:null==n?void 0:n.symbol}}},pt=({index:e,groupId:t,visData:n})=>{var r;return Object(at.jsx)(tt.AreaSeries,{id:e+n.label,groupId:t,name:n.label,xScaleType:tt.ScaleType.Time,yScaleType:tt.ScaleType.Linear,xAccessor:0,yAccessors:[1],data:n._hide?[]:n.data,sortIndex:e,color:n.color,curve:null!==(r=n.lines)&&void 0!==r&&r.steps?tt.CurveType.CURVE_STEP:tt.CurveType.LINEAR,stackAccessors:n.stack?[0]:void 0,areaSeriesStyle:dt(n)})};var ht=n(35),bt=n(37);function gt(e,t){return n=>{let r=0;const o=n<0;for(n=Math.abs(n);n>=e&&r<t.length;)n/=e,r++;return`${Math.round(100*n)/100*(o?-1:1)}${t[r]}`}}const vt=e=>({...e,padding:20,paddingUnit:"pixel"}),mt=e=>{var t,n;const r=(null!==(t=null===(n=e._global)||void 0===n?void 0:n.yaxes)&&void 0!==t?t:[]).reduce(((e,t)=>({...e,...t})),{});if(Object.keys(r).length)return(e=>{var t,n;const r={...e};if(r.units){const e=(o=r,{bits:gt(1e3,["b","kb","mb","gb","tb","pb"]),"bits/s":gt(1e3,["b/s","kb/s","mb/s","gb/s","tb/s","pb/s"]),bytes:gt(1024,["B","KB","MB","GB","TB","PB"]),"bytes/s":gt(1024,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s"]),currency:e=>e.toLocaleString("en",{style:"currency",currency:o&&o.units&&o.units.prefix||"USD"}),percent(e){let t=Object(w.get)(o,"tickDecimals",0)-Object(w.get)(o,"units.tickDecimalsShift",0);return t<0?t=0:t>20&&(t=20),(100*e).toFixed(t)+"%"},custom(e){const t=function(e,t){const n=t.tickDecimals?Math.pow(10,t.tickDecimals):1,r=""+Math.round(e*n)/n;if(null!=t.tickDecimals){const e=r.indexOf("."),o=-1===e?0:r.length-e-1;if(o<t.tickDecimals)return(o?r:r+".")+(""+n).substr(1,t.tickDecimals-o)}return r}(e,o);return(o&&o.units&&o.units.prefix)+t+(o&&o.units&&o.units.suffix)}});r.tickFormatter=e[r.units.type]}else e.tickDecimals&&(r.tickFormatter=t=>t.toFixed(e.tickDecimals));var o;return{title:r.axisLabel,position:r.position,tickFormat:r.tickFormatter,domain:vt({fit:void 0===r.min&&void 0===r.max,min:null!==(t=r.min)&&void 0!==t?t:NaN,max:null!==(n=r.max)&&void 0!==n?n:NaN})}})(r)};var yt=n(34);n(48);const wt=()=>Object(at.jsx)(tt.Axis,{id:"left",domain:vt({fit:!1,min:NaN,max:NaN}),position:tt.Position.Left,groupId:"1"}),xt=({interval:e,seriesList:t,renderComplete:n,onBrushEvent:r,ariaLabel:o,syncTooltips:a})=>{var i;const u=Object(rt.useKibana)(),c=Object(et.useRef)(null),s=t.list,l=Object(Xe.a)(),f=l.theme.useChartsTheme(),d=l.theme.useChartsBaseTheme(),p=Object(ot.useActiveCursor)(l.activeCursor,c,{isDateHistogram:!0}),h=Object(et.useCallback)((({x:e})=>{e&&r({gte:e[0],lte:e[1]})}),[r]),b=Object(et.useCallback)((e=>{e&&n()}),[n]),g=Object(et.useMemo)((()=>Object(w.last)(Object(w.compact)(Object(w.map)(t.list,"_title")))||""),[t.list]),v=Object(et.useMemo)((()=>((e,t,n)=>{const r=t.getBounds(),o=Object(ht.b)(r.min&&r.min.valueOf()||0,r.max&&r.max.valueOf()||0,n.get("timelion:target_buckets")||200,e,n.get("timelion:min_interval")||"1ms"),a=Object(bt.a)(n)(o);return e=>K()(e).format(a)})(e,u.services.timefilter,u.services.uiSettings)),[e,u.services.timefilter,u.services.uiSettings]),m=Object(et.useMemo)((()=>{const e={floating:!0,floatingColumns:1,vAlign:tt.Position.Top,hAlign:tt.Position.Left,direction:tt.LayoutDirection.Vertical};let t=!0;return s.forEach((n=>{var r;if(null!==(r=n._global)&&void 0!==r&&r.legend){var o,a;const{show:r=!0,position:i,noColumns:u=e.floatingColumns}=null!==(o=null===(a=n._global)||void 0===a?void 0:a.legend)&&void 0!==o?o:{};if((e=>/^(n|s)(e|w)$/s.test(e))(i)){const[t,n]=i.split("");e.vAlign="n"===t?tt.Position.Top:tt.Position.Bottom,e.hAlign="e"===n?tt.Position.Right:tt.Position.Left}r||(t=!1),void 0!==u&&(e.floatingColumns=u)}})),{legendPosition:e,showLegend:t}}),[s]);return Object(at.jsx)("div",{className:"timelionChart","data-test-subj":"timelionChart"},g&&Object(at.jsx)(nt.EuiTitle,{className:"timelionChart__topTitle",size:"xxxs"},Object(at.jsx)("h4",null,g)),Object(at.jsx)(tt.Chart,{ref:c,renderer:"canvas",size:{width:"100%"}},Object(at.jsx)(tt.Settings,{debugState:null!==(i=window._echDebugStateFlag)&&void 0!==i&&i,onBrushEnd:h,showLegend:m.showLegend,showLegendExtra:!0,legendPosition:m.legendPosition,onRenderChange:b,onPointerUpdate:p,externalPointerEvents:{tooltip:{visible:a,placement:tt.Placement.Right}},theme:f,baseTheme:d,tooltip:{snap:!0,headerFormatter:({value:e})=>v(e),type:tt.TooltipType.VerticalCursor},ariaLabel:o,ariaUseDefaultSummary:!o}),Object(at.jsx)(tt.Axis,{id:"bottom",position:tt.Position.Bottom,showOverlappingTicks:!0,tickFormat:v,gridLine:{visible:!1}}),(e=>{const t=(e=>e.reduce(((e,t,n)=>{const r=mt(t),o=`${t.yaxis?t.yaxis:1}`;if(e.every((e=>e.groupId!==o)))e.push({groupId:o,domain:vt({fit:!1,min:NaN,max:NaN}),id:((null==r?void 0:r.position)||tt.Position.Left)+n,position:tt.Position.Left,...r});else if(r){const t=e.findIndex((e=>e.groupId===o));e[t]={...e[t],...r}}return e}),[]))(e),n=e=>Object(Xe.c)().getInstance("number").convert(e),r=t.map(((e,t)=>Object(at.jsx)(tt.Axis,{groupId:e.groupId,key:t,id:e.id,title:e.title,position:e.position,tickFormat:e.tickFormat||n,gridLine:{visible:!t},domain:e.domain})));return r.length?r:Object(at.jsx)(wt,null)})(s),s.map(((e,t)=>{const n={...e},r=e.bars?ut:pt;return n.color||(n.color=yt.a[t%yt.a.length]),Object(at.jsx)(r,{key:`${t}-${n.label}`,visData:n,index:s.length-t,groupId:`${n.yaxis?n.yaxis:1}`})}))))}}])]);