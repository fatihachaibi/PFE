!function(e){function t(t){for(var n,a,o=t[0],i=t[1],s=0,c=[];s<o.length;s++)a=o[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&c.push(r[a][0]),r[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={3:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=o);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+"unifiedSearch.chunk."+e+".js"}(e);var u=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,n[1](u)}r[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var o=window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var u=i;a(a.s=27)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){e.exports=n(23)(2)},function(e,t,n){"use strict";let r;n.d(t,"a",(function(){return r})),function(e){e.Field="field",e.Value="value",e.Operator="operator",e.Conjunction="conjunction",e.RecentSearch="recentSearch"}(r||(r={}))},function(e,t,n){e.exports=n(23)(3)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return p}));var r=n(12);const[a,o]=Object(r.createGetterSetter)("IndexPatterns"),[i,s]=Object(r.createGetterSetter)("Theme"),[u,c]=Object(r.createGetterSetter)("Overlays"),[l,p]=Object(r.createGetterSetter)("Autocomplete")},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(9),a=n.n(r),o=(n(1),n(3)),i=n(5),s=n(0),u={name:"18g08sj",styles:"padding-bottom:0"};function c({dataViewsList:e,onChangeDataView:t,currentDataViewId:n,selectableProps:r,searchListInputId:c}){return Object(s.jsx)(o.EuiSelectable,a()({},r,{"data-test-subj":"indexPattern-switcher",searchable:!0,singleSelection:"always",options:null==e?void 0:e.map((({title:e,id:t})=>({key:t,label:e,value:t,checked:t===n?"on":void 0}))),onChange:e=>{const n=e.find((({checked:e})=>e));t(n.value)},searchProps:{id:c,compressed:!0,placeholder:i.i18n.translate("unifiedSearch.query.queryBar.indexPattern.findDataView",{defaultMessage:"Find a data view"}),"data-test-subj":"indexPattern-switcher--input",...r?r.searchProps:void 0}}),((e,t)=>Object(s.jsx)(o.EuiPanel,{css:u,color:"transparent",paddingSize:"s"},t,e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return g}));var r=n(1),a=n.n(r),o=n(0);const i=()=>Object(o.jsx)("div",null),s=a.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,42)))),u=e=>Object(o.jsx)(a.a.Suspense,{fallback:Object(o.jsx)(i,null)},Object(o.jsx)(s,e)),c=a.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,38)))),l=e=>Object(o.jsx)(a.a.Suspense,{fallback:Object(o.jsx)(i,null)},Object(o.jsx)(c,e)),p=a.a.lazy((()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,41)))),d=e=>Object(o.jsx)(a.a.Suspense,{fallback:Object(o.jsx)(i,null)},Object(o.jsx)(p,e)),b=a.a.lazy((()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,36)))),g=e=>Object(o.jsx)(a.a.Suspense,{fallback:Object(o.jsx)(i,null)},Object(o.jsx)(b,e))},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";var r,a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function i(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},r=[],a=0;a<e.length;a++){var s=e[a],u=t.base?s[0]+t.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var p=i(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(o[p].references++,o[p].updater(d)):o.push({identifier:l,updater:f(d,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var b=null,g=0;function f(e,t){var n,r,a;if(t.singleton){var o=g++;n=b||(b=u(t)),r=p.bind(null,n,o,!1),a=p.bind(null,n,o,!0)}else n=u(t),r=d.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=i(n[r]);o[a].references--}for(var u=s(e,t),c=0;c<n.length;c++){var l=i(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=u}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,a,o=e[1]||"",i=e[3];if(!i)return o;if(t&&"function"==typeof btoa){var s=(n=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(a," */")),u=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&a[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(1),a=n.n(r),o=n(9),i=n.n(o),s=n(5),u=n(0),c=n(3),l=n(6),p=n(16);const d="data.newDataViewMenu",b=s.i18n.translate("unifiedSearch.query.dataViewMenu.newMenuTour.title",{defaultMessage:"A better data view menu"}),g=s.i18n.translate("unifiedSearch.query.dataViewMenu.newMenuTour.description",{defaultMessage:"This menu now offers all the tools you need to create, find, and edit your data views."}),f=s.i18n.translate("unifiedSearch.query.dataViewMenu.newMenuTour.dismissLabel",{defaultMessage:"Got it"});function h({isMissingCurrent:e,currentDataViewId:t,onChangeDataView:n,onAddField:o,onDataViewCreated:h,trigger:m,selectableProps:y,showNewMenuTour:_=!1}){const{euiTheme:x}=Object(c.useEuiTheme)(),[k,v]=Object(r.useState)(!1),[S,T]=Object(r.useState)([]),[j,O]=Object(r.useState)(""),w=Object(l.useKibana)(),{application:I,data:M,storage:P}=w.services,q=(({fullWidth:e})=>({trigger:{maxWidth:e?void 0:280},popoverContent:{width:280}}))({fullWidth:m.fullWidth}),[E,C]=Object(r.useState)((()=>Boolean(P.get(d)))),[D,A]=Object(r.useState)(!1);Object(r.useEffect)((()=>{_&&!E&&A(!0)}),[E,A,_]);const F=()=>{P.set(d,!0),C(!0),A(!1)},R=Object(c.useGeneratedHtmlId)({prefix:"dataviewPickerListSearchInput"});return Object(r.useEffect)((()=>{(async()=>{const e=await M.dataViews.getIdsWithTitle();T(e)})()}),[M,t]),Object(r.useEffect)((()=>{m.label&&O(m.label)}),[m.label]),Object(u.jsx)(c.EuiTourStep,{title:Object(u.jsx)(a.a.Fragment,null,Object(u.jsx)(c.EuiIcon,{type:"bell",size:"s"})," Â  ",b),content:Object(u.jsx)(c.EuiText,{css:q.popoverContent},Object(u.jsx)("p",null,g)),isStepOpen:D,onFinish:F,step:1,stepsTotal:1,footerAction:Object(u.jsx)(c.EuiLink,{"data-test-subj":"dataViewPickerTourLink",onClick:F},f),repositionOnScroll:!0,display:"block"},Object(u.jsx)(c.EuiPopover,{panelClassName:"changeDataViewPopover",button:function(){const{label:t,title:n,"data-test-subj":r,fullWidth:a,...o}=m;return Object(u.jsx)(c.EuiButton,i()({css:q.trigger,"data-test-subj":r,onClick:()=>{v(!k),A(!1)},color:e?"danger":"primary",iconSide:"right",iconType:"arrowDown",title:n,fullWidth:a},o),j)}(),panelProps:{"data-test-subj":"changeDataViewPopover"},isOpen:k,closePopover:()=>v(!1),panelPaddingSize:"none",initialFocus:`#${R}`,display:"block",buffer:8},Object(u.jsx)("div",{css:q.popoverContent},Object(u.jsx)(c.EuiContextMenuPanel,{size:"s",items:(()=>{const e=[];return o&&e.push(Object(u.jsx)(c.EuiContextMenuItem,{key:"add",icon:"indexOpen","data-test-subj":"indexPattern-add-field",onClick:()=>{v(!1),o()}},s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.addFieldButton",{defaultMessage:"Add a field to this data view"})),Object(u.jsx)(c.EuiContextMenuItem,{key:"manage",icon:"indexSettings","data-test-subj":"indexPattern-manage-field",onClick:()=>{v(!1),I.navigateToApp("management",{path:`/kibana/indexPatterns/patterns/${t}`})}},s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.manageFieldButton",{defaultMessage:"Manage this data view"})),Object(u.jsx)(c.EuiHorizontalRule,{margin:"none"})),e.push(Object(u.jsx)(p.a,{dataViewsList:S,onChangeDataView:e=>{n(e),v(!1)},currentDataViewId:t,selectableProps:y,searchListInputId:R})),h&&e.push(Object(u.jsx)(c.EuiHorizontalRule,{margin:"none"}),Object(u.jsx)(c.EuiContextMenuItem,{css:Object(u.css)("color:",x.colors.primaryText,";",""),"data-test-subj":"dataview-create-new",icon:"plusInCircleFilled",onClick:()=>{v(!1),h()}},s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.addNewDataView",{defaultMessage:"Create a data view"}))),e})()}))))}const m=({isMissingCurrent:e,currentDataViewId:t,onChangeDataView:n,onAddField:r,onDataViewCreated:a,trigger:o,selectableProps:i,showNewMenuTour:s})=>Object(u.jsx)(h,{isMissingCurrent:e,currentDataViewId:t,onChangeDataView:n,onAddField:r,onDataViewCreated:a,trigger:o,selectableProps:i,showNewMenuTour:s})},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){"use strict";n.d(t,"a",(function(){return autocomplete_service_AutocompleteService}));var r=n(7),a=n.n(r),o=n(19),i=n.n(o),s=n(18),u=n.n(s),c=n(4),l=n(15);const p=()=>Promise.resolve([]);var d=n(25),b=n(14);let g;!function(e){e.CALL="autocomplete:call",e.REQUEST="autocomplete:req",e.RESULT="autocomplete:res",e.ERROR="autocomplete:err"}(g||(g={}));var f=n(10),h=n(8);const m=(e,t)=>{const n=["raw","keyword"];return n.map((t=>`${e.name}.${t}`)).includes(t.name)?1:n.map((e=>`${t.name}.${e}`)).includes(e.name)?-1:e.name.localeCompare(t.name)},y=e=>{const t=e.getStartServices().then((([e,t,n])=>n.autocomplete));return async({indexPatterns:e,boolFilter:n,useTimeRange:r,signal:a,method:o},{start:i,end:s,prefix:u,suffix:l,fieldName:p,nestedPath:d})=>{const b=d?`${d}.${p}`:p,g=[];e.forEach((e=>{e.fields.filter((e=>e.name===b)).forEach((t=>g.push([e,t])))}));const f=`${u}${l}`.trim(),{getValueSuggestions:m}=await t,y=await Promise.all(g.map((([e,t])=>m({indexPattern:e,field:t,query:f,boolFilter:n,useTimeRange:r,signal:a,method:o}).then((e=>{const t=e.map((e=>{return"string"==typeof e?`"${t=e,t.replace(/[\\"]/g,"\\$&")}"`:`${e}`;var t}));return((e,t,n,r)=>r.filter((e=>e.toLowerCase().includes(n.toLowerCase()))).map((n=>({type:h.a.Value,text:`${n} `,start:e,end:t}))))(i,s,f,t)})))));return Object(c.flatten)(y)}};n(1);var _=n(2),x=n(0);const k=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.equalOperatorDescription.equalsText",defaultMessage:"equals",description:"Part of unifiedSearch.kueryAutocomplete.equalOperatorDescription. Full text: 'equals some value'"}),v=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription.lessThanOrEqualToText",defaultMessage:"less than or equal to",description:"Part of unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription. Full text: 'is less than or equal to some value'"}),S=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription.greaterThanOrEqualToText",defaultMessage:"greater than or equal to",description:"Part of unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription. Full text: 'is greater than or equal to some value'"}),T=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOperatorDescription.lessThanText",defaultMessage:"less than",description:"Part of unifiedSearch.kueryAutocomplete.lessThanOperatorDescription. Full text: 'is less than some value'"}),j=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription.greaterThanText",defaultMessage:"greater than",description:"Part of unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription. Full text: 'is greater than some value'"}),O=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.existOperatorDescription.existsText",defaultMessage:"exists",description:"Part of unifiedSearch.kueryAutocomplete.existOperatorDescription. Full text: 'exists in any form'"}),w={":":{description:Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.equalOperatorDescription",defaultMessage:"{equals} some value",values:{equals:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},k)},description:"Full text: 'equals some value'. See 'unifiedSearch.kueryAutocomplete.equalOperatorDescription.equalsText' for 'equals' part."}),fieldTypes:["string","number","number_range","date","date_range","ip","ip_range","geo_point","geo_shape","boolean"]},"<=":{description:Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription",defaultMessage:"is {lessThanOrEqualTo} some value",values:{lessThanOrEqualTo:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},v)},description:"Full text: 'is less than or equal to some value'. See 'unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription.lessThanOrEqualToText' for 'less than or equal to' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},">=":{description:Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription",defaultMessage:"is {greaterThanOrEqualTo} some value",values:{greaterThanOrEqualTo:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},S)},description:"Full text: 'is greater than or equal to some value'. See 'unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription.greaterThanOrEqualToText' for 'greater than or equal to' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},"<":{description:Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOperatorDescription",defaultMessage:"is {lessThan} some value",values:{lessThan:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},T)},description:"Full text: 'is less than some value'. See 'unifiedSearch.kueryAutocomplete.lessThanOperatorDescription.lessThanText' for 'less than' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},">":{description:Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription",defaultMessage:"is {greaterThan} some value",values:{greaterThan:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},j)},description:"Full text: 'is greater than some value'. See 'unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription.greaterThanText' for 'greater than' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},": *":{description:Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.existOperatorDescription",defaultMessage:"{exists} in any form",values:{exists:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},O)},description:"Full text: 'exists in any form'. See 'unifiedSearch.kueryAutocomplete.existOperatorDescription.existsText' for 'exists' part."}),fieldTypes:void 0}},I=e=>w[e],M=e=>Object(x.jsx)("p",null,I(e).description),P=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.andOperatorDescription.bothArgumentsText",defaultMessage:"both arguments",description:"Part of unifiedSearch.kueryAutocomplete.andOperatorDescription. Full text: 'Requires both arguments to be true'"}),q=Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.orOperatorDescription.oneOrMoreArgumentsText",defaultMessage:"one or more arguments",description:"Part of unifiedSearch.kueryAutocomplete.orOperatorDescription. Full text: 'Requires one or more arguments to be true'"}),E={and:Object(x.jsx)("p",null,Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.andOperatorDescription",defaultMessage:"Requires {bothArguments} to be true",values:{bothArguments:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},P)},description:"Full text: ' Requires both arguments to be true'. See 'unifiedSearch.kueryAutocomplete.andOperatorDescription.bothArgumentsText' for 'both arguments' part."})),or:Object(x.jsx)("p",null,Object(x.jsx)(_.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.orOperatorDescription",defaultMessage:"Requires {oneOrMoreArguments} to be true",values:{oneOrMoreArguments:Object(x.jsx)("span",{className:"kbnSuggestionItem__callout"},q)},description:"Full text: 'Requires one or more arguments to be true'. See 'unifiedSearch.kueryAutocomplete.orOperatorDescription.oneOrMoreArgumentsText' for 'one or more arguments' part."}))};class autocomplete_service_AutocompleteService{constructor(e){a()(this,"autocompleteConfig",void 0),a()(this,"querySuggestionProviders",new Map),a()(this,"getValueSuggestions",void 0),a()(this,"getQuerySuggestions",(e=>{const{language:t}=e,n=this.querySuggestionProviders.get(t);if(n)return n(e)})),a()(this,"hasQuerySuggestions",(e=>this.querySuggestionProviders.has(e))),this.initializerContext=e;const{autocomplete:t}=e.config.get();this.autocompleteConfig=t}setup(e,{timefilter:t,usageCollection:r}){const{autocomplete:a}=this.initializerContext.config.get(),{terminateAfter:o,timeout:s}=a.valueSuggestions,_=((e,t)=>{const n=async()=>{const[{application:t}]=await e();return t.currentAppId$.pipe(Object(d.first)()).toPromise()};return{trackCall:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,b.METRIC_TYPE.LOADED,g.CALL)},trackRequest:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,b.METRIC_TYPE.LOADED,g.REQUEST)},trackResult:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,b.METRIC_TYPE.LOADED,g.RESULT)},trackError:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,b.METRIC_TYPE.LOADED,g.ERROR)}}})(e.getStartServices,r);return this.getValueSuggestions=this.autocompleteConfig.valueSuggestions.enabled?((e,{timefilter:t,usageCollector:r})=>{function a(e,t,n,r){return[Math.floor(Date.now()/1e3/60),n,e,t.name,JSON.stringify(r)].join("|")}const o=Object(c.memoize)(((t,n,a,o=[],i,s=e.uiSettings.get(l.UI_SETTINGS.AUTOCOMPLETE_VALUE_SUGGESTION_METHOD))=>{var u;return null==r||r.trackRequest(),e.http.fetch(`/api/kibana/suggestions/values/${t}`,{method:"POST",body:JSON.stringify({query:a,field:n.name,fieldMeta:null==n||null===(u=n.toSpec)||void 0===u?void 0:u.call(n),filters:o,method:s}),signal:i}).then((e=>(null==r||r.trackResult(),e)))}),a);return async({indexPattern:i,field:s,query:c,useTimeRange:p,boolFilter:d,signal:b,method:g})=>{var f,h;const m=e.uiSettings.get(l.UI_SETTINGS.FILTERS_EDITOR_SUGGEST_VALUES);p=null!==(f=p)&&void 0!==f?f:e.uiSettings.get(l.UI_SETTINGS.AUTOCOMPLETE_USE_TIMERANGE);const{title:y}=i,_="string"===s.type&&(null===(h=s.esTypes)||void 0===h?void 0:h.includes("version"));if("boolean"===s.type)return[!0,!1];if(!m||!s.aggregatable||"string"!==s.type||_)return[];const x=p?(({timefilter:e},t)=>{const n=e.getTime(),r={from:u.a.parse(n.from).startOf("minute").toISOString(),to:u.a.parse(n.to).endOf("minute").toISOString()};return e.createFilter(t,r)})(t,i):void 0,{buildQueryFromFilters:k}=await n.e(0).then(n.bind(null,44)),v=[...d||[],...x?k([x],i).filter:[]];try{return null==r||r.trackCall(),await o(y,s,c,v,b,g)}catch(e){return null!=b&&b.aborted||null==r||r.trackError(),o.cache.delete(a(y,s,c,v)),[]}}})(e,{timefilter:t,usageCollector:_}):p,this.autocompleteConfig.querySuggestions.enabled&&this.querySuggestionProviders.set("kuery",(e=>{const t={field:async({indexPatterns:e},{start:t,end:r,prefix:a,suffix:o,nestedPath:i=""})=>{const s=Object(c.flatten)(e.map((e=>e.fields.filter(f.indexPatterns.isFilterable)))),u=`${a}${o}`.trim().toLowerCase(),l=function(e,t,n){if(!t)return e;const r=(""+t).toLowerCase(),a=Object(c.partition)(e,(e=>(""+e.name).toLowerCase().startsWith(r)));return[...a[0],...a[1]]}(s.filter((e=>{const t=f.indexPatterns.getFieldSubtypeNested(e);return(!i||i&&(null==t?void 0:t.nested.path.includes(i)))&&e.name.toLowerCase().includes(u)})).sort(m),u),{escapeKuery:p}=await n.e(0).then(n.bind(null,44)),d=l.map((e=>{const n=e.subType&&e.subType.nested?e.subType.nested.path.slice(i?i.length+1:0):"",a=e.subType&&e.subType.nested&&n.length>0?`${p(n)}:{ ${p(e.name.slice(e.subType.nested.path.length+1))}  }`:`${p(e.name.slice(i?i.length+1:0))} `,o=e.subType&&e.subType.nested&&n.length>0?a.length-2:a.length;return{type:h.a.Field,text:a,start:t,end:r,cursorIndex:o,field:e}}));return Promise.resolve(d)},value:y(e),operator:({indexPatterns:e},{end:t,fieldName:n,nestedPath:r})=>{const a=Object(c.flatten)(e.map((e=>e.fields.slice()))),o=r?`${r}.${n}`:n,i=a.filter((e=>e.name===o)).map((e=>Object.keys(w).filter((t=>{const{fieldTypes:n}=I(t);return!n||n.includes(e.type)})).map((e=>({type:h.a.Operator,text:e+" ",description:M(e),start:t,end:t})))));return Promise.resolve(Object(c.flatten)(i))},conjunction:(e,{text:t,end:n})=>{let r=[];return t.endsWith(" ")&&(r=Object.keys(E).map((e=>({type:h.a.Conjunction,text:`${e} `,description:E[e],start:n,end:n})))),Promise.resolve(r)}};return async e=>{const{query:r,selectionStart:a,selectionEnd:o}=e,i=`${r.substr(0,a)}@kuery-cursor@${r.substr(o)}`;return Promise.all(await(async(e,r)=>{try{const{fromKueryExpression:a}=await n.e(0).then(n.bind(null,44)),o=a(e,{cursorSymbol:"@kuery-cursor@",parseCursor:!0});return o.suggestionTypes.map((e=>t[e](r,o)))}catch(e){return[]}})(i,e)).then((e=>{return t=Object(c.flatten)(e),Object(c.uniqBy)(t,(({type:e,text:t,start:n,end:r})=>[e,t,n,r].join("|")));var t}))}})(e)),{getQuerySuggestions:this.getQuerySuggestions,getAutocompleteSettings:()=>({terminateAfter:i.a.duration(o).asMilliseconds(),timeout:i.a.duration(s).asMilliseconds()})}}start(){return{getQuerySuggestions:this.getQuerySuggestions,hasQuerySuggestions:this.hasQuerySuggestions,getValueSuggestions:this.getValueSuggestions}}clearProviders(){this.querySuggestionProviders.clear()}}},function(e,t,n){n(28),__kbnBundles__.define("plugin/unifiedSearch/public",n,34)},function(e,t,n){n.p=window.__kbnPublicPath__.unifiedSearch},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(30);case"v8light":return n(32)}},function(e,t,n){var r=n(21),a=n(31);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){(t=n(22)(!1)).push([e.i,'.kbnTypeahead.kbnTypeahead--small{max-height:20vh}.kbnTypeahead__popover--top{box-shadow:0 0 0.8px rgba(0,0,0,0.15),0 0 2px rgba(0,0,0,0.1),0 0 5px rgba(0,0,0,0.1),0 0 17px rgba(0,0,0,0.075);border-top-left-radius:6px;border-top-right-radius:6px;-webkit-clip-path:polygon(-50px -50px, calc(100% + 50px) -50px, calc(100% + 50px) 100%, -50px 100%);clip-path:polygon(-50px -50px, calc(100% + 50px) -50px, calc(100% + 50px) 100%, -50px 100%)}.kbnTypeahead__popover--bottom{box-shadow:0 1px 5px rgba(0,0,0,0.25),0 3.6px 13px rgba(0,0,0,0.175),0 8.4px 23px rgba(0,0,0,0.15),0 23px 35px rgba(0,0,0,0.125);border-bottom-left-radius:6px;border-bottom-right-radius:6px;-webkit-clip-path:polygon(-50px 1px, calc(100% + 50px) 1px, calc(100% + 50px) calc(100% + 50px), -50px calc(100% + 50px));clip-path:polygon(-50px 1px, calc(100% + 50px) 1px, calc(100% + 50px) calc(100% + 50px), -50px calc(100% + 50px))}.kbnTypeahead{max-height:60vh}.kbnTypeahead .kbnTypeahead__popover{max-height:inherit;scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;border:1px solid;border-color:#343741;color:#DFE5EF;background-color:#1D1E24;position:relative;z-index:2000;width:100%;overflow-y:auto}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar{width:16px;height:16px}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-corner,.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item{height:32px;white-space:nowrap;font-size:12px;vertical-align:middle;padding:0;border-bottom:none;line-height:normal}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:hover{cursor:pointer}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:last-child{border-bottom:none;border-radius:0 0 6px 6px}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:first-child{border-bottom:none}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active{background-color:#25262E}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__callout{background:#1D1E24}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__text{color:#fff}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__type{color:#fff}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#61542d}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#325956}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#164160}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#3a2d4a}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#212429}.kbnSuggestionItem{display:inline-flex;align-items:center;font-size:12px;white-space:nowrap;width:100%}.kbnSuggestionItem.kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#7a6a39;color:#f6edc6}.kbnSuggestionItem.kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#3f6f6c;color:#c0eeeb}.kbnSuggestionItem.kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#1b5178;color:#87c7f6}.kbnSuggestionItem.kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#49385c;color:#baa5d2}.kbnSuggestionItem.kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#2a2d33;color:#93979f}.kbnSuggestionItem__text,.kbnSuggestionItem__type,.kbnSuggestionItem__description{padding-right:16px}.kbnSuggestionItem__type{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;flex-basis:auto;width:32px;height:32px;text-align:center;overflow:hidden;padding:4px;justify-content:center;align-items:center}.kbnSuggestionItem__text{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;overflow:hidden;text-overflow:ellipsis;padding-left:8px;color:#DFE5EF;min-width:250px}.kbnSuggestionItem__description{color:#98A2B3;overflow:hidden;text-overflow:ellipsis;flex-shrink:1}.kbnSuggestionItem__description>p{overflow:hidden;text-overflow:ellipsis}.kbnSuggestionItem__description:empty{width:0}.kbnSuggestionItem__callout{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;background:#25262E;color:#fff;padding:0 4px;display:inline-block}\n',""]),e.exports=t},function(e,t,n){var r=n(21),a=n(33);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},function(e,t,n){(t=n(22)(!1)).push([e.i,'.kbnTypeahead.kbnTypeahead--small{max-height:20vh}.kbnTypeahead__popover--top{box-shadow:0 0 0.8px rgba(0,0,0,0.06),0 0 2px rgba(0,0,0,0.04),0 0 5px rgba(0,0,0,0.04),0 0 17px rgba(0,0,0,0.03);border-top-left-radius:6px;border-top-right-radius:6px;-webkit-clip-path:polygon(-50px -50px, calc(100% + 50px) -50px, calc(100% + 50px) 100%, -50px 100%);clip-path:polygon(-50px -50px, calc(100% + 50px) -50px, calc(100% + 50px) 100%, -50px 100%)}.kbnTypeahead__popover--bottom{box-shadow:0 1px 5px rgba(0,0,0,0.1),0 3.6px 13px rgba(0,0,0,0.07),0 8.4px 23px rgba(0,0,0,0.06),0 23px 35px rgba(0,0,0,0.05);border-bottom-left-radius:6px;border-bottom-right-radius:6px;-webkit-clip-path:polygon(-50px 1px, calc(100% + 50px) 1px, calc(100% + 50px) calc(100% + 50px), -50px calc(100% + 50px));clip-path:polygon(-50px 1px, calc(100% + 50px) 1px, calc(100% + 50px) calc(100% + 50px), -50px calc(100% + 50px))}.kbnTypeahead{max-height:60vh}.kbnTypeahead .kbnTypeahead__popover{max-height:inherit;scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;border:1px solid;border-color:#D3DAE6;color:#343741;background-color:#fff;position:relative;z-index:2000;width:100%;overflow-y:auto}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar{width:16px;height:16px}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-corner,.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item{height:32px;white-space:nowrap;font-size:12px;vertical-align:middle;padding:0;border-bottom:none;line-height:normal}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:hover{cursor:pointer}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:last-child{border-bottom:none;border-radius:0 0 6px 6px}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:first-child{border-bottom:none}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active{background-color:#F5F7FA}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__callout{background:#fff}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__text{color:#000}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__type{color:#000}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#fff3d0}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#ccf2f0}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#cce4f5}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#e9e2f1}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#eaecf0}.kbnSuggestionItem{display:inline-flex;align-items:center;font-size:12px;white-space:nowrap;width:100%}.kbnSuggestionItem.kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#fff9e8;color:#8a6a0a}.kbnSuggestionItem.kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#e6f9f7;color:#007e77}.kbnSuggestionItem.kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#e6f1fa;color:#006bb8}.kbnSuggestionItem.kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#f4f1f8;color:#7c609e}.kbnSuggestionItem.kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#f5f6f7;color:#6a717d}.kbnSuggestionItem__text,.kbnSuggestionItem__type,.kbnSuggestionItem__description{padding-right:16px}.kbnSuggestionItem__type{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;flex-basis:auto;width:32px;height:32px;text-align:center;overflow:hidden;padding:4px;justify-content:center;align-items:center}.kbnSuggestionItem__text{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;overflow:hidden;text-overflow:ellipsis;padding-left:8px;color:#343741;min-width:250px}.kbnSuggestionItem__description{color:#69707D;overflow:hidden;text-overflow:ellipsis;flex-shrink:1}.kbnSuggestionItem__description>p{overflow:hidden;text-overflow:ellipsis}.kbnSuggestionItem__description:empty{width:0}.kbnSuggestionItem__callout{font-family:"Roboto Mono",Consolas,Menlo,Courier,monospace;background:#F5F7FA;color:#000;padding:0 4px;display:inline-block}\n',""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"QueryStringInput",(function(){return c})),n.d(t,"SearchBar",(function(){return j})),n.d(t,"FilterLabel",(function(){return O.d})),n.d(t,"FilterItem",(function(){return O.b})),n.d(t,"DataViewsList",(function(){return w.a})),n.d(t,"DataViewPicker",(function(){return I.a})),n.d(t,"ACTION_GLOBAL_APPLY_FILTER",(function(){return D})),n.d(t,"QuerySuggestionTypes",(function(){return R.a})),n.d(t,"plugin",(function(){return z}));var r=n(1),a=n.n(r),o=n(6),i=n(0);const s=()=>Object(i.jsx)("div",null),u=Object(o.withKibana)(a.a.lazy((()=>n.e(2).then(n.bind(null,72))))),c=e=>Object(i.jsx)(a.a.Suspense,{fallback:Object(i.jsx)(s,null)},Object(i.jsx)(u,e));var l=n(2),p=n(9),d=n.n(p),b=n(4),g=n.n(b),f=n(13),h=n(5);const m=(e,t)=>{const{timefilter:{timefilter:n},filterManager:r,queryString:a}=e;t.attributes.timefilter&&(n.setTime({from:t.attributes.timefilter.from,to:t.attributes.timefilter.to}),t.attributes.timefilter.refreshInterval&&n.setRefreshInterval(t.attributes.timefilter.refreshInterval)),a.setQuery(t.attributes.query);const o=t.attributes.filters||[],i=r.getGlobalFilters();r.setFilters([...i,...o])},y=e=>{e.filterManager.removeAll(),e.queryString.clearQuery()},_=e=>{const{timefilter:t}=e.timefilter;return e=>{t.setRefreshInterval({value:e.refreshInterval,pause:e.isPaused})}},x=(e,t,n)=>{if(!e.useDefaultBehaviors)return e.onQuerySubmit;const{timefilter:r}=t.timefilter;return a=>{g.a.isEqual(r.getTime(),a.dateRange)&&g.a.isEqual(a.query,n)?e.onQuerySubmit&&e.onQuerySubmit({dateRange:r.getTime(),query:n},!1):(r.setTime(a.dateRange),a.query?t.queryString.setQuery(a.query):t.queryString.clearQuery())}},k=(e,t)=>e.useDefaultBehaviors?()=>{t(),e.onSavedQueryIdChange&&e.onSavedQueryIdChange()}:e.onClearSavedQuery,v=(e,t)=>e.useDefaultBehaviors?n=>{t(n),e.onSavedQueryIdChange&&e.onSavedQueryIdChange(n.id)}:e.onSavedQueryUpdated;const S=()=>Object(i.jsx)("div",null),T=a.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(4)]).then(n.bind(null,110)))),j=Object(l.injectI18n)(Object(o.withKibana)((e=>Object(i.jsx)(a.a.Suspense,{fallback:Object(i.jsx)(S,null)},Object(i.jsx)(T,e)))));var O=n(17),w=n(16),I=n(24),M=n(20),P=n(10),q=n(11);const E=()=>Object(i.jsx)("div",null),C=a.a.lazy((()=>n.e(9).then(n.bind(null,108)))),D="ACTION_GLOBAL_APPLY_FILTER";async function A(e){return void 0!==e.filters}function F(e,t,n){return Object(M.createAction)({type:D,id:D,order:100,getIconType:()=>"filter",getDisplayName:()=>h.i18n.translate("unifiedSearch.filter.applyFilterActionTitle",{defaultMessage:"Apply filter to current view"}),isCompatible:A,execute:async({filters:r,timeFieldName:s,controlledBy:u})=>{if(!r)throw new Error("Applying a filter requires a filter");if(!await A({filters:r}))throw new M.IncompatibleActionError;let c=r;if(c.length>1){const e=await Promise.all(r.map((e=>Object(q.b)().get(e.meta.index)))),t=new Promise((t=>{const s=Object(q.c)().openModal(Object(o.toMountPoint)(((e,n,r,o)=>Object(i.jsx)(a.a.Suspense,{fallback:Object(i.jsx)(E,null)},Object(i.jsx)(C,{indexPatterns:n,filters:e,onCancel:()=>{s.close(),t([])},onSubmit:e=>{s.close(),t(e)}})))(r,e),{theme$:n.theme$}),{"data-test-subj":"test"})}));c=await t}if(u&&e.getFilters().forEach((t=>{t.meta.controlledBy===u&&e.removeFilter(t)})),s){const{timeRangeFilter:n,restOfFilters:r}=P.esFilters.extractTimeFilter(s,c);e.addFilters(r),n&&P.esFilters.changeTimeFilter(t,n)}else e.addFilters(c)}})}var R=n(8),Q=n(7),L=n.n(Q),V=n(12),N=n(26);const B=()=>Object(i.jsx)("div",null),U=a.a.lazy((()=>n.e(11).then(n.bind(null,109)))),$=e=>Object(i.jsx)(a.a.Suspense,{fallback:Object(i.jsx)(B,null)},Object(i.jsx)(U,e));n(29);class plugin_UnifiedSearchPublicPlugin{constructor(e){L()(this,"storage",void 0),L()(this,"autocomplete",void 0),L()(this,"usageCollection",void 0),this.storage=new V.Storage(window.localStorage),this.autocomplete=new N.a(e)}setup(e,{uiActions:t,data:n,usageCollection:r}){const{query:a}=n;return t.registerAction(F(a.filterManager,a.timefilter.timefilter,e.theme)),{autocomplete:this.autocomplete.setup(e,{timefilter:a.timefilter,usageCollection:r})}}start(e,{data:t,dataViews:n,uiActions:a,screenshotMode:s}){Object(q.h)(e.theme),Object(q.g)(e.overlays),Object(q.f)(n);const u=this.autocomplete.start();Object(q.e)(u);const c=function({core:e,storage:t,data:n,usageCollection:a,isScreenshotMode:s=!1}){return u=>{const{useDefaultBehaviors:c}=u,l=Object(r.useRef)(u.onQuerySubmit),{filters:p}=(e=>{const[t,n]=Object(r.useState)(e.filters||e.filterManager.getFilters());return Object(r.useEffect)((()=>{const t=new f.Subscription;return t.add(e.filterManager.getUpdates$().subscribe({next:()=>{const t=e.filterManager.getFilters();n(t)}})),()=>{t.unsubscribe()}}),[e.filterManager]),{filters:t}})({filters:u.filters,filterManager:n.query.filterManager}),{query:b}=(e=>{const[t,n]=Object(r.useState)(e.query||e.queryStringManager.getQuery());return Object(r.useEffect)((()=>{const t=new f.Subscription;return t.add(e.queryStringManager.getUpdates$().subscribe({next:()=>{const t=e.queryStringManager.getQuery();n(t)}})),()=>{t.unsubscribe()}}),[e.queryStringManager]),{query:Object(r.useMemo)((()=>({language:t.language,query:t.query})),[t.language,t.query])}})({query:u.query,queryStringManager:n.query.queryString}),{timeRange:g,refreshInterval:S}=(e=>{const t={from:e.dateRangeFrom||e.timefilter.getTime().from,to:e.dateRangeTo||e.timefilter.getTime().to},n={value:e.refreshInterval||e.timefilter.getRefreshInterval().value,pause:e.isRefreshPaused||e.timefilter.getRefreshInterval().pause},[a,o]=Object(r.useState)(t),[i,s]=Object(r.useState)(n);return Object(r.useEffect)((()=>{const t=new f.Subscription;return t.add(e.timefilter.getRefreshIntervalUpdate$().subscribe({next:()=>{const t=e.timefilter.getRefreshInterval();s(t)}})),t.add(e.timefilter.getTimeUpdate$().subscribe({next:()=>{o(e.timefilter.getTime())}})),()=>{t.unsubscribe()}}),[e.timefilter]),{refreshInterval:i,timeRange:a}})({dateRangeFrom:u.dateRangeFrom,dateRangeTo:u.dateRangeTo,refreshInterval:u.refreshInterval,isRefreshPaused:u.isRefreshPaused,timefilter:n.query.timefilter.timefilter}),{savedQuery:T,setSavedQuery:O,clearSavedQuery:w}=(e=>{const[t,n]=Object(r.useState)();return Object(r.useEffect)((()=>{e.savedQueryId?(async t=>{try{const r=await e.queryService.savedQueries.getSavedQuery(t);r&&r.id===t&&(n(r),m(e.queryService,r))}catch(r){n(void 0),y(e.queryService),e.notifications.toasts.addWarning({title:h.i18n.translate("unifiedSearch.search.unableToGetSavedQueryToastTitle",{defaultMessage:"Unable to load saved query {savedQueryId}",values:{savedQueryId:t}}),text:`${r.message}`})}})(e.savedQueryId):n(void 0)}),[e.notifications.toasts,e.queryService,e.queryService.savedQueries,e.savedQueryId]),{savedQuery:t,setSavedQuery:t=>{n(t),m(e.queryService,t)},clearSavedQuery:()=>{n(void 0),y(e.queryService)}}})({queryService:n.query,savedQueryId:u.savedQueryId,notifications:e.notifications});return Object(r.useEffect)((()=>{c&&l.current&&l.current({dateRange:g,query:b},!0)}),[b,g,c]),Object(i.jsx)(o.KibanaContextProvider,{services:{appName:u.appName,data:n,storage:t,usageCollection:a,...e}},Object(i.jsx)(j,d()({showAutoRefreshOnly:u.showAutoRefreshOnly,showDatePicker:u.showDatePicker,showFilterBar:u.showFilterBar,showQueryBar:u.showQueryBar,showQueryInput:u.showQueryInput,showSaveQuery:u.showSaveQuery,screenTitle:u.screenTitle,indexPatterns:u.indexPatterns,indicateNoData:u.indicateNoData,timeHistory:n.query.timefilter.history,dateRangeFrom:g.from,dateRangeTo:g.to,refreshInterval:S.value,isRefreshPaused:S.pause,filters:p,query:b,onFiltersUpdated:(I=n.query,e=>{I.filterManager.setFilters(e)}),onRefreshChange:_(n.query),savedQuery:T,onQuerySubmit:x(u,n.query,b),onClearSavedQuery:k(u,w),onSavedQueryUpdated:v(u,O),onSaved:v(u,O),iconType:u.iconType,nonKqlMode:u.nonKqlMode,customSubmitButton:u.customSubmitButton,isClearable:u.isClearable,placeholder:u.placeholder},(e=>e.useDefaultBehaviors?{}:e)(u),{dataViewPickerComponentProps:u.dataViewPickerComponentProps,displayStyle:u.displayStyle,isScreenshotMode:s})));var I}}({core:e,data:t,storage:this.storage,usageCollection:this.usageCollection,isScreenshotMode:Boolean(null==s?void 0:s.isScreenshotMode())});return a.addTriggerAction(P.APPLY_FILTER_TRIGGER,a.getAction(D)),{ui:{IndexPatternSelect:(l=n,e=>Object(i.jsx)($,d()({},e,{indexPatternService:l}))),SearchBar:c},autocomplete:u};var l}stop(){this.autocomplete.clearProviders()}}function z(e){return new plugin_UnifiedSearchPublicPlugin(e)}},function(e,t){e.exports=__kbnSharedDeps__.Classnames},,function(e,t){e.exports=__kbnSharedDeps__.TsLib},,function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco}]);