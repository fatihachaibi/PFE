(window.presentationUtil_bundle_jsonpfunction=window.presentationUtil_bundle_jsonpfunction||[]).push([[2],{111:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(112);case"v8light":return i(114)}},112:function(e,t,i){var n=i(9),l=i(113);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},113:function(e,t,i){(t=i(10)(!1)).push([e.i,".kbnFieldButton{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;margin-bottom:4px;display:flex;align-items:center;transition:box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1),background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.kbnFieldButton:focus-within,.kbnFieldButton-isActive{outline:2px solid currentColor}.kbnFieldButton:focus-within:focus-visible,.kbnFieldButton-isActive:focus-visible{outline-style:auto}.kbnFieldButton:focus-within:not(:focus-visible),.kbnFieldButton-isActive:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#25262E}.kbnFieldButton--isDraggable:hover,.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.2),0 2.6px 8px -1px rgba(0,0,0,0.15),0 5.7px 12px -1px rgba(0,0,0,0.125),0 15px 15px -1px rgba(0,0,0,0.1);border-radius:6px;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:hover,.kbnFieldButton--isDraggable .kbnFieldButton__button:focus{cursor:grab}.kbnFieldButton__button{flex-grow:1;text-align:left;padding:8px;display:flex;align-items:flex-start;line-height:normal}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldIcon,.kbnFieldButton--small .kbnFieldButton__fieldAction{margin-right:4px}\n",""]),e.exports=t},114:function(e,t,i){var n=i(9),l=i(115);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},115:function(e,t,i){(t=i(10)(!1)).push([e.i,".kbnFieldButton{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;margin-bottom:4px;display:flex;align-items:center;transition:box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1),background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.kbnFieldButton:focus-within,.kbnFieldButton-isActive{outline:2px solid currentColor}.kbnFieldButton:focus-within:focus-visible,.kbnFieldButton-isActive:focus-visible{outline-style:auto}.kbnFieldButton:focus-within:not(:focus-visible),.kbnFieldButton-isActive:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#fff}.kbnFieldButton--isDraggable:hover,.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.08),0 2.6px 8px -1px rgba(0,0,0,0.06),0 5.7px 12px -1px rgba(0,0,0,0.05),0 15px 15px -1px rgba(0,0,0,0.04);border-radius:6px;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:hover,.kbnFieldButton--isDraggable .kbnFieldButton__button:focus{cursor:grab}.kbnFieldButton__button{flex-grow:1;text-align:left;padding:8px;display:flex;align-items:flex-start;line-height:normal}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldIcon,.kbnFieldButton--small .kbnFieldButton__fieldAction{margin-right:4px}\n",""]),e.exports=t},116:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(117);case"v8light":return i(119)}},117:function(e,t,i){var n=i(9),l=i(118);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},118:function(e,t,i){(t=i(10)(!1)).push([e.i,".presFilterByType__panel{min-width:320px}@media only screen and (min-width: 992px) and (max-width: 1199px){.presFilterByType__panel{width:400px}}@media only screen and (min-width: 1200px){.presFilterByType__panel{width:400px}}\n",""]),e.exports=t},119:function(e,t,i){var n=i(9),l=i(120);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},120:function(e,t,i){(t=i(10)(!1)).push([e.i,".presFilterByType__panel{min-width:320px}@media only screen and (min-width: 992px) and (max-width: 1199px){.presFilterByType__panel{width:400px}}@media only screen and (min-width: 1200px){.presFilterByType__panel{width:400px}}\n",""]),e.exports=t},121:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(122);case"v8light":return i(124)}},122:function(e,t,i){var n=i(9),l=i(123);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},123:function(e,t,i){(t=i(10)(!1)).push([e.i,".presFieldPicker__fieldButton{background:#1D1E24}.presFieldPickerFieldButtonActive{box-shadow:0 0 0 2px #36A2EF}.presFieldPicker__fieldPanel{height:300px;overflow-y:scroll}.presFieldPicker__container--disabled{opacity:.7;pointer-events:none}\n",""]),e.exports=t},124:function(e,t,i){var n=i(9),l=i(125);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},125:function(e,t,i){(t=i(10)(!1)).push([e.i,".presFieldPicker__fieldButton{background:#fff}.presFieldPickerFieldButtonActive{box-shadow:0 0 0 2px #07C}.presFieldPicker__fieldPanel{height:300px;overflow-y:scroll}.presFieldPicker__container--disabled{opacity:.7;pointer-events:none}\n",""]),e.exports=t},137:function(e,t,i){"use strict";i.r(t),i.d(t,"FieldPicker",(function(){return B}));var n=i(46),l=i.n(n),o=i(12),s=i(1),a=i.n(s),r=i(45),c=i(3),d=i(6),u=i.n(d),b=i(82),p=i.n(b),x=i(0),g=["type","label","size","scripted","className"],f={iconType:"questionInCircle",color:"gray"},k={boolean:{iconType:"tokenBoolean"},conflict:{iconType:"alert",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function F(e){var t=e.type,i=e.label,n=e.size,o=void 0===n?"s":n,s=e.scripted,a=e.className,r=p()(e,g),d=k[t]||f;return Object(x.jsx)(c.EuiToken,u()({},d,{className:l()("kbnFieldIcon",a),"aria-label":i||t,title:i||t,size:o,fill:s?"dark":void 0},r))}i(111);var m=["size","isActive","fieldIcon","fieldName","fieldInfoIcon","fieldAction","className","isDraggable","onClick","dataTestSubj","buttonProps"],_={s:"kbnFieldButton--small",m:null};function h(e){var t=e.size,i=void 0===t?"m":t,n=e.isActive,o=void 0!==n&&n,s=e.fieldIcon,r=e.fieldName,c=e.fieldInfoIcon,d=e.fieldAction,b=e.className,g=e.isDraggable,f=void 0!==g&&g,k=e.onClick,F=e.dataTestSubj,h=e.buttonProps,j=p()(e,m),y=l()("kbnFieldButton",i?_[i]:null,{"kbnFieldButton-isActive":o},{"kbnFieldButton--isDraggable":f},b),B=l()("kbn-resetFocusState","kbnFieldButton__button"),v=Object(x.jsx)(a.a.Fragment,null,s&&Object(x.jsx)("span",{className:"kbnFieldButton__fieldIcon"},s),r&&Object(x.jsx)("span",{className:"kbnFieldButton__name"},r),c&&Object(x.jsx)("div",{className:"kbnFieldButton__infoIcon"},c));return Object(x.jsx)("div",u()({className:y},j),k?Object(x.jsx)("button",u()({onClick:function(e){"click"===e.type&&e.currentTarget.focus(),k()},"data-test-subj":F,className:B},h),v):Object(x.jsx)("div",{className:B,"data-test-subj":F},v),d&&Object(x.jsx)("div",{className:"kbnFieldButton__fieldAction"},d))}Object.keys(_);var j=i(7);function y({onSearchChange:e,searchValue:t,onFieldTypesChange:i,fieldTypesValue:n,availableFieldTypes:l}){const o=j.i18n.translate("presentationUtil.fieldSearch.searchPlaceHolder",{defaultMessage:"Search field names"}),[d,u]=Object(s.useState)(!1),b=Object(x.jsx)(c.EuiFilterButton,{"data-test-subj":"toggleFieldFilterButton",iconType:"arrowDown",isSelected:n.length>0,numFilters:0,hasActiveFilters:n.length>0,numActiveFilters:n.length,onClick:()=>{u(!d)}},Object(x.jsx)(r.FormattedMessage,{id:"presentationUtil.fieldSearch.fieldFilterButtonLabel",defaultMessage:"Filter by type"}));return Object(x.jsx)(a.a.Fragment,null,Object(x.jsx)(c.EuiFlexGroup,{responsive:!1,gutterSize:"s"},Object(x.jsx)(c.EuiFlexItem,null,Object(x.jsx)(c.EuiFieldSearch,{"aria-label":o,"data-test-subj":"field-search-input",fullWidth:!0,onChange:t=>e(t.currentTarget.value),placeholder:o,value:t}))),Object(x.jsx)(c.EuiSpacer,{size:"xs"}),Object(x.jsx)(c.EuiOutsideClickDetector,{onOutsideClick:()=>{},isDisabled:!d},Object(x.jsx)(c.EuiFilterGroup,null,Object(x.jsx)(c.EuiPopover,{panelClassName:"euiFilterGroup__popoverPanel presFilterByType__panel",panelPaddingSize:"none",display:"block",isOpen:d,closePopover:()=>{u(!1)},button:b},Object(x.jsx)(c.EuiPopoverTitle,{paddingSize:"s"},j.i18n.translate("presentationUtil.fieldSearch.filterByTypeLabel",{defaultMessage:"Filter by type"})),Object(x.jsx)(c.EuiContextMenuPanel,{items:l.map((e=>Object(x.jsx)(c.EuiContextMenuItem,{key:e,icon:n.includes(e)?"check":"empty","data-test-subj":`typeFilter-${e}`,onClick:()=>{n.includes(e)?i(n.filter((t=>t!==e))):i([...n,e])}},Object(x.jsx)(c.EuiFlexGroup,{gutterSize:"xs",responsive:!1},Object(x.jsx)(c.EuiFlexItem,{grow:!1},Object(x.jsx)(F,{type:e,label:e})),Object(x.jsx)(c.EuiFlexItem,null,e)))))})))))}i(116),i(121);const B=({dataView:e,onSelectField:t,filterPredicate:i,selectedFieldName:n})=>{const[a,d]=Object(s.useState)(""),[u,b]=Object(s.useState)([]),p=e?Object(o.sortBy)(e.fields.filter((e=>e.name.toLowerCase().includes(a.toLowerCase())&&(0===u.length||u.includes(e.type)))).filter((e=>!i||i(e))),["name"]):[],g=e?Object(o.uniq)(e.fields.filter((e=>!i||i(e))).map((e=>e.type))):[];return Object(x.jsx)(c.EuiFlexGroup,{direction:"column",alignItems:"stretch",gutterSize:"s",className:`presFieldPicker__container ${!e&&"presFieldPicker__container--disabled"}`},Object(x.jsx)(c.EuiFlexItem,{grow:!1},Object(x.jsx)(y,{onSearchChange:e=>d(e),searchValue:a,onFieldTypesChange:e=>b(e),fieldTypesValue:u,availableFieldTypes:g})),Object(x.jsx)(c.EuiFlexItem,{grow:!1},Object(x.jsx)(c.EuiPanel,{paddingSize:"s",hasShadow:!1,hasBorder:!0,className:"presFieldPicker__fieldPanel"},p.length>0&&Object(x.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none"},p.map(((e,i)=>Object(x.jsx)(c.EuiFlexItem,{key:e.name},Object(x.jsx)(h,{"data-test-subj":`field-picker-select-${e.name}`,className:l()("presFieldPicker__fieldButton",{presFieldPickerFieldButtonActive:e.name===n}),onClick:()=>{null==t||t(e)},isActive:e.name===n,fieldName:e.name,fieldIcon:Object(x.jsx)(F,{type:e.type,label:e.name,scripted:e.scripted})}))))),!e&&Object(x.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none",alignItems:"center",justifyContent:"center"},Object(x.jsx)(c.EuiFlexItem,null,Object(x.jsx)(c.EuiText,{color:"subdued"},Object(x.jsx)(r.FormattedMessage,{id:"presentationUtil.fieldPicker.noDataViewLabel",defaultMessage:"No data view selected"})))),e&&0===p.length&&Object(x.jsx)(c.EuiFlexGroup,{direction:"column",gutterSize:"none",alignItems:"center",justifyContent:"center"},Object(x.jsx)(c.EuiFlexItem,null,Object(x.jsx)(c.EuiText,{color:"subdued"},Object(x.jsx)(r.FormattedMessage,{id:"presentationUtil.fieldPicker.noFieldsLabel",defaultMessage:"No matching fields"})))))))};t.default=B},82:function(e,t,i){e.exports=i(15)(6)}}]);