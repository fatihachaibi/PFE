/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,a,i=t[0],o=t[1],u=0,c=[];u<i.length;u++)a=i[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&c.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={1:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=function(e){return a.p+"fleet.chunk."+e+".js"}(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.fleet_bundle_jsonpfunction=window.fleet_bundle_jsonpfunction||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=o;a(a.s=53)}([function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"qb",(function(){return r})),n.d(t,"ab",(function(){return a})),n.d(t,"bb",(function(){return i})),n.d(t,"w",(function(){return o})),n.d(t,"H",(function(){return u})),n.d(t,"B",(function(){return s})),n.d(t,"mb",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"cb",(function(){return d})),n.d(t,"hb",(function(){return p})),n.d(t,"I",(function(){return _})),n.d(t,"C",(function(){return h})),n.d(t,"nb",(function(){return m})),n.d(t,"h",(function(){return T})),n.d(t,"db",(function(){return b})),n.d(t,"jb",(function(){return P})),n.d(t,"ub",(function(){return I})),n.d(t,"x",(function(){return A})),n.d(t,"f",(function(){return O})),n.d(t,"G",(function(){return R})),n.d(t,"c",(function(){return y})),n.d(t,"vb",(function(){return v})),n.d(t,"Z",(function(){return N})),n.d(t,"rb",(function(){return S})),n.d(t,"b",(function(){return k})),n.d(t,"s",(function(){return L})),n.d(t,"r",(function(){return $})),n.d(t,"t",(function(){return j})),n.d(t,"p",(function(){return C})),n.d(t,"o",(function(){return D})),n.d(t,"q",(function(){return x})),n.d(t,"n",(function(){return U})),n.d(t,"v",(function(){return w})),n.d(t,"u",(function(){return F})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return G})),n.d(t,"a",(function(){return V})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return q})),n.d(t,"m",(function(){return K})),n.d(t,"j",(function(){return z})),n.d(t,"zb",(function(){return Y})),n.d(t,"i",(function(){return X})),n.d(t,"gb",(function(){return H})),n.d(t,"pb",(function(){return J})),n.d(t,"ob",(function(){return Q})),n.d(t,"lb",(function(){return W})),n.d(t,"y",(function(){return Z})),n.d(t,"ib",(function(){return ee})),n.d(t,"W",(function(){return te})),n.d(t,"M",(function(){return ne})),n.d(t,"T",(function(){return re})),n.d(t,"N",(function(){return ae})),n.d(t,"J",(function(){return ie})),n.d(t,"V",(function(){return oe})),n.d(t,"O",(function(){return ue})),n.d(t,"K",(function(){return se})),n.d(t,"L",(function(){return ce})),n.d(t,"Ab",(function(){return le})),n.d(t,"Bb",(function(){return de})),n.d(t,"yb",(function(){return pe})),n.d(t,"Cb",(function(){return fe})),n.d(t,"Eb",(function(){return ge})),n.d(t,"Db",(function(){return Ee})),n.d(t,"kb",(function(){return _e})),n.d(t,"Fb",(function(){return he})),n.d(t,"E",(function(){return me})),n.d(t,"D",(function(){return Te})),n.d(t,"fb",(function(){return be})),n.d(t,"F",(function(){return Pe})),n.d(t,"Y",(function(){return Ie})),n.d(t,"X",(function(){return Ae})),n.d(t,"xb",(function(){return Re})),n.d(t,"sb",(function(){return ye})),n.d(t,"tb",(function(){return ve})),n.d(t,"z",(function(){return Ne})),n.d(t,"A",(function(){return Se})),n.d(t,"P",(function(){return ke})),n.d(t,"eb",(function(){return Le})),n.d(t,"wb",(function(){return $e})),n.d(t,"S",(function(){return je})),n.d(t,"Q",(function(){return Ce})),n.d(t,"U",(function(){return De})),n.d(t,"R",(function(){return xe}));const r="fleet",a="integrations",i="/internal/fleet",o="/api/fleet",u=`${o}/epm`,s=`${o}/data_streams`,c=`${o}/package_policies`,l=`${o}/agent_policies`,d=`${o}/kubernetes`,p="ingest:limited-concurrency",f=`${u}/packages`,g=`${f}/{pkgkey}`,E=`${f}/{pkgName}/{pkgVersion}`,_={BULK_INSTALL_PATTERN:`${f}/_bulk`,LIST_PATTERN:f,LIMITED_LIST_PATTERN:`${f}/limited`,INFO_PATTERN:E,INSTALL_FROM_REGISTRY_PATTERN:E,INSTALL_BY_UPLOAD_PATTERN:f,DELETE_PATTERN:E,FILEPATH_PATTERN:`${E}/{filePath*}`,CATEGORIES_PATTERN:`${u}/categories`,STATS_PATTERN:`${f}/{pkgName}/stats`,INFO_PATTERN_DEPRECATED:g,INSTALL_FROM_REGISTRY_PATTERN_DEPRECATED:g,DELETE_PATTERN_DEPRECATED:g},h={LIST_PATTERN:`${s}`},m={LIST_PATTERN:`${c}`,INFO_PATTERN:`${c}/{packagePolicyId}`,CREATE_PATTERN:`${c}`,UPDATE_PATTERN:`${c}/{packagePolicyId}`,DELETE_PATTERN:`${c}/delete`,UPGRADE_PATTERN:`${c}/upgrade`,DRYRUN_PATTERN:`${c}/upgrade/dryrun`},T={LIST_PATTERN:`${l}`,INFO_PATTERN:`${l}/{agentPolicyId}`,CREATE_PATTERN:`${l}`,UPDATE_PATTERN:`${l}/{agentPolicyId}`,COPY_PATTERN:`${l}/{agentPolicyId}/copy`,DELETE_PATTERN:`${l}/delete`,FULL_INFO_PATTERN:`${l}/{agentPolicyId}/full`,FULL_INFO_DOWNLOAD_PATTERN:`${l}/{agentPolicyId}/download`},b={K8S_DOWNLOAD_PATTERN:`${d}/download`,K8S_INFO_PATTERN:`${d}`},P={LIST_PATTERN:`${o}/outputs`,INFO_PATTERN:`${o}/outputs/{outputId}`,UPDATE_PATTERN:`${o}/outputs/{outputId}`,DELETE_PATTERN:`${o}/outputs/{outputId}`,CREATE_PATTERN:`${o}/outputs`,LOGSTASH_API_KEY_PATTERN:`${o}/logstash_api_keys`},I={INFO_PATTERN:`${o}/settings`,UPDATE_PATTERN:`${o}/settings`},A={CHECK_PERMISSIONS_PATTERN:`${o}/check-permissions`,GENERATE_SERVICE_TOKEN_PATTERN:`${o}/service_tokens`,GENERATE_SERVICE_TOKEN_PATTERN_DEPRECATED:`${o}/service-tokens`},O={LIST_PATTERN:`${o}/agents`,INFO_PATTERN:`${o}/agents/{agentId}`,UPDATE_PATTERN:`${o}/agents/{agentId}`,DELETE_PATTERN:`${o}/agents/{agentId}`,CHECKIN_PATTERN:`${o}/agents/{agentId}/checkin`,ACKS_PATTERN:`${o}/agents/{agentId}/acks`,ACTIONS_PATTERN:`${o}/agents/{agentId}/actions`,CANCEL_ACTIONS_PATTERN:`${o}/agents/actions/{actionId}/cancel`,UNENROLL_PATTERN:`${o}/agents/{agentId}/unenroll`,BULK_UNENROLL_PATTERN:`${o}/agents/bulk_unenroll`,REASSIGN_PATTERN:`${o}/agents/{agentId}/reassign`,BULK_REASSIGN_PATTERN:`${o}/agents/bulk_reassign`,STATUS_PATTERN:`${o}/agent_status`,DATA_PATTERN:`${o}/agent_status/data`,STATUS_PATTERN_DEPRECATED:`${o}/agent-status`,UPGRADE_PATTERN:`${o}/agents/{agentId}/upgrade`,BULK_UPGRADE_PATTERN:`${o}/agents/bulk_upgrade`,CURRENT_UPGRADES_PATTERN:`${o}/agents/current_upgrades`},R={CREATE_PATTERN:`${o}/enrollment_api_keys`,LIST_PATTERN:`${o}/enrollment_api_keys`,INFO_PATTERN:`${o}/enrollment_api_keys/{keyId}`,DELETE_PATTERN:`${o}/enrollment_api_keys/{keyId}`,CREATE_PATTERN_DEPRECATED:`${o}/enrollment-api-keys`,LIST_PATTERN_DEPRECATED:`${o}/enrollment-api-keys`,INFO_PATTERN_DEPRECATED:`${o}/enrollment-api-keys/{keyId}`,DELETE_PATTERN_DEPRECATED:`${o}/enrollment-api-keys/{keyId}`},y={INFO_PATTERN:`${o}/agents/setup`,CREATE_PATTERN:`${o}/agents/setup`},v=`${o}/setup`,N=`${o}/install/{osType}`,S={UPDATE_PATTERN:`${o}/setup/preconfiguration`,RESET_PATTERN:`${i}/reset_preconfigured_agent_policies`,RESET_ONE_PATTERN:`${i}/reset_preconfigured_agent_policies/{agentPolicyId}`},k="fleet-agents",L="PERMANENT",$="EPHEMERAL",j="TEMPORARY",C=3e5,D=2e4,x=3e4,U=1e3,w=3e4,F=5e3,M=1e3,G=5,V=".fleet-agents",B=".fleet-actions",q=".fleet-actions-results",K="ingest-agent-policies",z=".fleet-policies",Y={Active:"active",Inactive:"inactive"},X=["elastic_agent","elastic_agent.elastic_agent","elastic_agent.apm_server","elastic_agent.filebeat","elastic_agent.fleet_server","elastic_agent.metricbeat","elastic_agent.osquerybeat","elastic_agent.packetbeat","elastic_agent.endpoint_security","elastic_agent.auditbeat","elastic_agent.heartbeat","elastic_agent.cloudbeat"],H="platinum",J="ingest-package-policies",Q=["auto_configure","create_doc"],W="epm-packages",Z="epm-packages-assets",ee=6e4,te="system",ne="elastic_agent",re="fleet_server",ae="endpoint",ie="apm",oe="synthetics",ue="kubernetes",se="cloud_security_posture",ce="elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395",le=[ae,ie,oe],de=[ie,oe],pe={Input:"input"},fe={Logs:"logs",Metrics:"metrics"},ge=Object.values(fe),Ee={Installed:"installed",Installing:"installing",InstallFailed:"install_failed",NotInstalled:"not_installed"},_e="ingest-outputs",he={Elasticsearch:"elasticsearch",Logstash:"logstash"},me="fleet-default-output",Te={name:"default",is_default:!0,is_default_monitoring:!0,type:he.Elasticsearch,hosts:[""]},be="platinum",Pe=".fleet-enrollment-api-keys",Ie="ingest_manager_settings",Ae="fleet-default-settings";var Oe=n(9);const Re="dde7c2de-1370-4c19-9975-b473d0e03508",ye="fleet-preconfiguration-deletion-record",ve="latest",Ne=le.map((e=>({name:e,version:ve}))),Se=de.map((e=>({name:e,version:ve}))),ke=[te,ne,re].map((e=>({name:e,version:ve}))),Le=Object(Oe.uniqBy)([...Se,...ke,...Ne],(({name:e})=>e)),$e=1e4,je=1,Ce=".fleet-artifacts",De=".fleet-servers",xe=[".fleet-actions",".fleet-actions-results",".fleet-agents",Ce,".fleet-enrollment-api-keys",".fleet-policies",".fleet-policies-leader",De]},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return a.AgentStatusKueryHelper})),n.d(t,"c",(function(){return a.agentPolicyRouteService})),n.d(t,"t",(function(){return a.packagePolicyRouteService})),n.d(t,"g",(function(){return a.dataStreamRouteService})),n.d(t,"l",(function(){return a.fleetSetupRouteService})),n.d(t,"d",(function(){return a.agentRouteService})),n.d(t,"j",(function(){return a.enrollmentAPIKeyRouteService})),n.d(t,"k",(function(){return a.epmRouteService})),n.d(t,"y",(function(){return a.setupRouteService})),n.d(t,"s",(function(){return a.outputRoutesService})),n.d(t,"x",(function(){return a.settingsRoutesService})),n.d(t,"e",(function(){return a.appRoutesService})),n.d(t,"u",(function(){return a.packageToPackagePolicy})),n.d(t,"m",(function(){return a.fullAgentPolicyToYaml})),n.d(t,"q",(function(){return a.isPackageLimited})),n.d(t,"h",(function(){return a.doesAgentPolicyAlreadyIncludePackage})),n.d(t,"r",(function(){return a.isValidNamespace})),n.d(t,"p",(function(){return a.isAgentUpgradeable})),n.d(t,"i",(function(){return a.doesPackageHaveIntegrations})),n.d(t,"z",(function(){return a.validatePackagePolicy})),n.d(t,"A",(function(){return a.validatePackagePolicyConfig})),n.d(t,"B",(function(){return a.validationHasErrors})),n.d(t,"f",(function(){return a.countValidationErrors})),n.d(t,"n",(function(){return a.getStreamsForInputType})),n.d(t,"v",(function(){return i})),n.d(t,"o",(function(){return o})),n.d(t,"w",(function(){return s})),n(24);var r=n(27),a=n(5);const i=e=>`${e.name}-${e.version}`;function o(e,t){const n=e.map((e=>e.name)).map((e=>{const n=e.match(t?/Fleet Server policy (\d+)/:/Agent policy (\d+)/);return n?parseInt(n[1],10):0}));return`${t?"Fleet Server":"Agent"} policy ${Math.max(...n,0)+1}`}n(28);var u=n(7);function s(e){var t;return null===(t=e.package_policies)||void 0===t?void 0:t.some((e=>{var t;return"string"!=typeof e&&(null===(t=e.package)||void 0===t?void 0:t.name)===u.j}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(0),a=n(39);let i;const o=e=>{i=e},u=e=>{if(!i)throw new Error("sendRequest has no http client set");return Object(a.sendRequest)(i,e)},s=e=>{if(!i)throw new Error("sendRequest has no http client set");return Object(a.useRequest)(i,e)},c=e=>{const[t,n]=Object(r.useState)({error:null,data:null,isLoading:!1}),{path:a,method:i,shouldSendRequest:o,query:s,body:c}=e;async function l(){if(e.shouldSendRequest)try{n({data:null,isLoading:!0,error:null});const t=await u({method:e.method,path:e.path,query:e.query,body:e.body});if(t.error)throw t.error;return n({data:t.data,isLoading:!1,error:null}),t}catch(e){n({data:null,isLoading:!1,error:e})}else n({data:null,isLoading:!1,error:null})}return Object(r.useEffect)((()=>{l()}),[a,i,o,JSON.stringify(s),JSON.stringify(c)]),{...t,sendRequest:l}}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.r(t),n.d(t,"PLUGIN_ID",(function(){return r.qb})),n.d(t,"INTEGRATIONS_PLUGIN_ID",(function(){return r.ab})),n.d(t,"INTERNAL_ROOT",(function(){return r.bb})),n.d(t,"API_ROOT",(function(){return r.w})),n.d(t,"EPM_API_ROOT",(function(){return r.H})),n.d(t,"DATA_STREAM_API_ROOT",(function(){return r.B})),n.d(t,"PACKAGE_POLICY_API_ROOT",(function(){return r.mb})),n.d(t,"AGENT_POLICY_API_ROOT",(function(){return r.g})),n.d(t,"K8S_API_ROOT",(function(){return r.cb})),n.d(t,"LIMITED_CONCURRENCY_ROUTE_TAG",(function(){return r.hb})),n.d(t,"EPM_API_ROUTES",(function(){return r.I})),n.d(t,"DATA_STREAM_API_ROUTES",(function(){return r.C})),n.d(t,"PACKAGE_POLICY_API_ROUTES",(function(){return r.nb})),n.d(t,"AGENT_POLICY_API_ROUTES",(function(){return r.h})),n.d(t,"K8S_API_ROUTES",(function(){return r.db})),n.d(t,"OUTPUT_API_ROUTES",(function(){return r.jb})),n.d(t,"SETTINGS_API_ROUTES",(function(){return r.ub})),n.d(t,"APP_API_ROUTES",(function(){return r.x})),n.d(t,"AGENT_API_ROUTES",(function(){return r.f})),n.d(t,"ENROLLMENT_API_KEY_ROUTES",(function(){return r.G})),n.d(t,"AGENTS_SETUP_API_ROUTES",(function(){return r.c})),n.d(t,"SETUP_API_ROUTE",(function(){return r.vb})),n.d(t,"INSTALL_SCRIPT_API_ROUTES",(function(){return r.Z})),n.d(t,"PRECONFIGURATION_API_ROUTES",(function(){return r.rb})),n.d(t,"AGENTS_PREFIX",(function(){return r.b})),n.d(t,"AGENT_TYPE_PERMANENT",(function(){return r.s})),n.d(t,"AGENT_TYPE_EPHEMERAL",(function(){return r.r})),n.d(t,"AGENT_TYPE_TEMPORARY",(function(){return r.t})),n.d(t,"AGENT_POLLING_REQUEST_TIMEOUT_MS",(function(){return r.p})),n.d(t,"AGENT_POLLING_REQUEST_TIMEOUT_MARGIN_MS",(function(){return r.o})),n.d(t,"AGENT_POLLING_THRESHOLD_MS",(function(){return r.q})),n.d(t,"AGENT_POLLING_INTERVAL",(function(){return r.n})),n.d(t,"AGENT_UPDATE_LAST_CHECKIN_INTERVAL_MS",(function(){return r.v})),n.d(t,"AGENT_UPDATE_ACTIONS_INTERVAL_MS",(function(){return r.u})),n.d(t,"AGENT_POLICY_ROLLOUT_RATE_LIMIT_INTERVAL_MS",(function(){return r.k})),n.d(t,"AGENT_POLICY_ROLLOUT_RATE_LIMIT_REQUEST_PER_INTERVAL",(function(){return r.l})),n.d(t,"AGENTS_INDEX",(function(){return r.a})),n.d(t,"AGENT_ACTIONS_INDEX",(function(){return r.d})),n.d(t,"AGENT_ACTIONS_RESULTS_INDEX",(function(){return r.e})),n.d(t,"AGENT_POLICY_SAVED_OBJECT_TYPE",(function(){return r.m})),n.d(t,"AGENT_POLICY_INDEX",(function(){return r.j})),n.d(t,"agentPolicyStatuses",(function(){return r.zb})),n.d(t,"AGENT_POLICY_DEFAULT_MONITORING_DATASETS",(function(){return r.i})),n.d(t,"LICENSE_FOR_SCHEDULE_UPGRADE",(function(){return r.gb})),n.d(t,"PACKAGE_POLICY_SAVED_OBJECT_TYPE",(function(){return r.pb})),n.d(t,"PACKAGE_POLICY_DEFAULT_INDEX_PRIVILEGES",(function(){return r.ob})),n.d(t,"PACKAGES_SAVED_OBJECT_TYPE",(function(){return r.lb})),n.d(t,"ASSETS_SAVED_OBJECT_TYPE",(function(){return r.y})),n.d(t,"MAX_TIME_COMPLETE_INSTALL",(function(){return r.ib})),n.d(t,"FLEET_SYSTEM_PACKAGE",(function(){return r.W})),n.d(t,"FLEET_ELASTIC_AGENT_PACKAGE",(function(){return r.M})),n.d(t,"FLEET_SERVER_PACKAGE",(function(){return r.T})),n.d(t,"FLEET_ENDPOINT_PACKAGE",(function(){return r.N})),n.d(t,"FLEET_APM_PACKAGE",(function(){return r.J})),n.d(t,"FLEET_SYNTHETICS_PACKAGE",(function(){return r.V})),n.d(t,"FLEET_KUBERNETES_PACKAGE",(function(){return r.O})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_PACKAGE",(function(){return r.K})),n.d(t,"FLEET_ELASTIC_AGENT_DETAILS_DASHBOARD_ID",(function(){return r.L})),n.d(t,"autoUpdatePackages",(function(){return r.Ab})),n.d(t,"autoUpgradePoliciesPackages",(function(){return r.Bb})),n.d(t,"agentAssetTypes",(function(){return r.yb})),n.d(t,"dataTypes",(function(){return r.Cb})),n.d(t,"monitoringTypes",(function(){return r.Eb})),n.d(t,"installationStatuses",(function(){return r.Db})),n.d(t,"OUTPUT_SAVED_OBJECT_TYPE",(function(){return r.kb})),n.d(t,"outputType",(function(){return r.Fb})),n.d(t,"DEFAULT_OUTPUT_ID",(function(){return r.E})),n.d(t,"DEFAULT_OUTPUT",(function(){return r.D})),n.d(t,"LICENCE_FOR_PER_POLICY_OUTPUT",(function(){return r.fb})),n.d(t,"ENROLLMENT_API_KEYS_INDEX",(function(){return r.F})),n.d(t,"GLOBAL_SETTINGS_SAVED_OBJECT_TYPE",(function(){return r.Y})),n.d(t,"GLOBAL_SETTINGS_ID",(function(){return r.X})),n.d(t,"UUID_V5_NAMESPACE",(function(){return r.xb})),n.d(t,"PRECONFIGURATION_DELETION_RECORD_SAVED_OBJECT_TYPE",(function(){return r.sb})),n.d(t,"PRECONFIGURATION_LATEST_KEYWORD",(function(){return r.tb})),n.d(t,"AUTO_UPDATE_PACKAGES",(function(){return r.z})),n.d(t,"AUTO_UPGRADE_POLICIES_PACKAGES",(function(){return r.A})),n.d(t,"FLEET_PACKAGES",(function(){return r.P})),n.d(t,"KEEP_POLICIES_UP_TO_DATE_PACKAGES",(function(){return r.eb})),n.d(t,"SO_SEARCH_LIMIT",(function(){return r.wb})),n.d(t,"FLEET_SERVER_INDICES_VERSION",(function(){return r.S})),n.d(t,"FLEET_SERVER_ARTIFACTS_INDEX",(function(){return r.Q})),n.d(t,"FLEET_SERVER_SERVERS_INDEX",(function(){return r.U})),n.d(t,"FLEET_SERVER_INDICES",(function(){return r.R})),n.d(t,"epmRouteService",(function(){return a.l})),n.d(t,"packagePolicyRouteService",(function(){return a.y})),n.d(t,"agentPolicyRouteService",(function(){return a.c})),n.d(t,"dataStreamRouteService",(function(){return a.g})),n.d(t,"fleetSetupRouteService",(function(){return a.m})),n.d(t,"agentRouteService",(function(){return a.d})),n.d(t,"outputRoutesService",(function(){return a.x})),n.d(t,"settingsRoutesService",(function(){return a.B})),n.d(t,"appRoutesService",(function(){return a.e})),n.d(t,"enrollmentAPIKeyRouteService",(function(){return a.k})),n.d(t,"setupRouteService",(function(){return a.C})),n.d(t,"AgentStatusKueryHelper",(function(){return a.a})),n.d(t,"packageToPackagePolicyInputs",(function(){return a.A})),n.d(t,"packageToPackagePolicy",(function(){return a.z})),n.d(t,"getStreamsForInputType",(function(){return a.r})),n.d(t,"fullAgentPolicyToYaml",(function(){return a.n})),n.d(t,"isPackageLimited",(function(){return a.u})),n.d(t,"doesAgentPolicyAlreadyIncludePackage",(function(){return a.i})),n.d(t,"decodeCloudId",(function(){return a.h})),n.d(t,"isValidNamespace",(function(){return a.v})),n.d(t,"isDiffPathProtocol",(function(){return a.t})),n.d(t,"LicenseService",(function(){return a.b})),n.d(t,"isAgentUpgradeable",(function(){return a.s})),n.d(t,"doesPackageHaveIntegrations",(function(){return a.j})),n.d(t,"validatePackagePolicy",(function(){return a.E})),n.d(t,"validatePackagePolicyConfig",(function(){return a.F})),n.d(t,"validationHasErrors",(function(){return a.G})),n.d(t,"countValidationErrors",(function(){return a.f})),n.d(t,"normalizeHostsForAgents",(function(){return a.w})),n.d(t,"splitPkgKey",(function(){return a.D})),n.d(t,"getMaxPackageName",(function(){return a.o})),n.d(t,"getMinVersion",(function(){return a.q})),n.d(t,"getMaxVersion",(function(){return a.p})),n.d(t,"InstallStatus",(function(){return i})),n.d(t,"KibanaAssetType",(function(){return o})),n.d(t,"KibanaSavedObjectType",(function(){return u})),n.d(t,"ElasticsearchAssetType",(function(){return s})),n.d(t,"RegistryPolicyTemplateKeys",(function(){return c})),n.d(t,"RegistryInputKeys",(function(){return l})),n.d(t,"RegistryStreamKeys",(function(){return d})),n.d(t,"RegistryDataStreamKeys",(function(){return p})),n.d(t,"RegistryVarsEntryKeys",(function(){return f})),n.d(t,"entries",(function(){return g})),n.d(t,"allowedExperimentalValues",(function(){return E})),n.d(t,"parseExperimentalConfigValue",(function(){return m})),n.d(t,"isValidExperimentalValue",(function(){return T})),n.d(t,"getExperimentalAllowedValues",(function(){return b})),n.d(t,"calculateAuthz",(function(){return P})),n.d(t,"createFleetAuthzMock",(function(){return I}));var r=n(1),a=n(31);let i,o,u,s,c,l,d,p,f;!function(e){e.installed="installed",e.notInstalled="not_installed",e.installing="installing",e.reinstalling="reinstalling",e.uninstalling="uninstalling"}(i||(i={})),function(e){e.dashboard="dashboard",e.visualization="visualization",e.search="search",e.indexPattern="index_pattern",e.map="map",e.lens="lens",e.securityRule="security_rule",e.cloudSecurityPostureRuleTemplate="csp_rule_template",e.mlModule="ml_module",e.tag="tag",e.osqueryPackAsset="osquery_pack_asset",e.osquerySavedQuery="osquery_saved_query"}(o||(o={})),function(e){e.dashboard="dashboard",e.visualization="visualization",e.search="search",e.indexPattern="index-pattern",e.map="map",e.lens="lens",e.mlModule="ml-module",e.securityRule="security-rule",e.cloudSecurityPostureRuleTemplate="csp-rule-template",e.tag="tag",e.osqueryPackAsset="osquery-pack-asset",e.osquerySavedQuery="osquery-saved-query"}(u||(u={})),function(e){e.componentTemplate="component_template",e.ingestPipeline="ingest_pipeline",e.indexTemplate="index_template",e.ilmPolicy="ilm_policy",e.transform="transform",e.dataStreamIlmPolicy="data_stream_ilm_policy",e.mlModel="ml_model"}(s||(s={})),function(e){e.name="name",e.title="title",e.description="description",e.icons="icons",e.screenshots="screenshots",e.categories="categories",e.data_streams="data_streams",e.inputs="inputs",e.readme="readme",e.multiple="multiple"}(c||(c={})),function(e){e.type="type",e.title="title",e.description="description",e.template_path="template_path",e.condition="condition",e.input_group="input_group",e.vars="vars"}(l||(l={})),function(e){e.input="input",e.title="title",e.description="description",e.enabled="enabled",e.vars="vars",e.template_path="template_path"}(d||(d={})),function(e){e.type="type",e.ilm_policy="ilm_policy",e.hidden="hidden",e.dataset="dataset",e.title="title",e.release="release",e.streams="streams",e.package="package",e.path="path",e.ingest_pipeline="ingest_pipeline",e.elasticsearch="elasticsearch",e.dataset_is_prefix="dataset_is_prefix"}(p||(p={})),function(e){e.name="name",e.title="title",e.description="description",e.type="type",e.required="required",e.show_user="show_user",e.multi="multi",e.default="default",e.os="os"}(f||(f={}));const g=Object.entries,E=Object.freeze({createPackagePolicyMultiPageLayout:!0}),_=class extends Error{},h=Object.keys(E),m=e=>{const t={};for(const n of e){if(!T(n))throw new _(`[${n}] is not a supported experimental feature`);t[n]=!0}return{...E,...t}},T=e=>h.includes(e),b=()=>[...h],P=({fleet:e,integrations:t,isSuperuser:n})=>({fleet:{all:e.all&&(t.all||t.read),setup:e.all||e.setup,readEnrollmentTokens:e.all||e.setup,readAgentPolicies:e.all||e.setup},integrations:{readPackageInfo:e.all||e.setup||t.all||t.read,readInstalledPackages:t.all||t.read,installPackages:e.all&&t.all,upgradePackages:e.all&&t.all,removePackages:e.all&&t.all,uploadPackages:n,readPackageSettings:e.all&&t.all,writePackageSettings:e.all&&t.all,readIntegrationPolicies:e.all&&(t.all||t.read),writeIntegrationPolicies:e.all&&t.all}}),I=()=>({fleet:{all:!0,setup:!0,readEnrollmentTokens:!0,readAgentPolicies:!0},integrations:{readPackageInfo:!0,readInstalledPackages:!0,installPackages:!0,upgradePackages:!0,uploadPackages:!0,removePackages:!0,readPackageSettings:!0,writePackageSettings:!0,readIntegrationPolicies:!0,writeIntegrationPolicies:!0}})},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"s",(function(){return r.qb})),n.d(t,"m",(function(){return r.ab})),n.d(t,"t",(function(){return r.wb})),n.d(t,"c",(function(){return r.m})),n.d(t,"b",(function(){return r.b})),n.d(t,"r",(function(){return r.pb})),n.d(t,"j",(function(){return r.T})),n.d(t,"a",(function(){return r.a})),n.d(t,"g",(function(){return r.F})),n.d(t,"p",(function(){return r.eb})),n.d(t,"d",(function(){return r.A})),n.d(t,"h",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"o",(function(){return s})),n.d(t,"n",(function(){return c})),n.d(t,"u",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"q",(function(){return g}));var r=n(1),a=n(14);const i="/app/fleet",o="/app/integrations",u={fleet:"/:tabId",agents:"/agents",agent_details:"/agents/:agentId/:tabId?",agent_details_logs:"/agents/:agentId/logs",policies:"/policies",policies_list:"/policies",policy_details:"/policies/:policyId/:tabId?",policy_details_settings:"/policies/:policyId/settings",edit_integration:"/policies/:policyId/edit-integration/:packagePolicyId",upgrade_package_policy:"/policies/:policyId/upgrade-package-policy/:packagePolicyId",enrollment_tokens:"/enrollment-tokens",data_streams:"/data-streams",settings:"/settings",settings_edit_fleet_server_hosts:"/settings/edit-fleet-server-hosts",settings_create_outputs:"/settings/create-outputs",settings_edit_outputs:"/settings/outputs/:outputId",add_integration_to_policy:"/integrations/:pkgkey/add-integration/:integration?"},s="q",c={integrations:"/:tabId",integrations_all:"/browse/:category?",integrations_installed:"/installed/:category?",integrations_installed_updates_available:"/installed/updates_available/:category?",integration_details:"/detail/:pkgkey/:panel?",integration_details_overview:"/detail/:pkgkey/overview",integration_details_policies:"/detail/:pkgkey/policies",integration_details_assets:"/detail/:pkgkey/assets",integration_details_settings:"/detail/:pkgkey/settings",integration_details_custom:"/detail/:pkgkey/custom",integration_policy_edit:"/edit-integration/:packagePolicyId",integration_policy_upgrade:"/edit-integration/:packagePolicyId"},l={base:()=>[i,"/"],overview:()=>[i,"/"],integrations:()=>[o,"/"],integrations_all:({searchTerm:e,category:t})=>[o,`/browse${t?`/${t}`:""}${e?`?${s}=${e}`:""}`],integrations_installed:({query:e,category:t})=>[o,`/installed${t?`/${t}`:""}${e?`?${s}=${e}`:""}`],integrations_installed_updates_available:({query:e,category:t})=>[o,`/installed/updates_available${t?`/${t}`:""}${e?`?${s}=${e}`:""}`],integration_details_overview:({pkgkey:e,integration:t})=>[o,`/detail/${e}/overview${t?`?integration=${t}`:""}`],integration_details_policies:({pkgkey:e,integration:t,addAgentToPolicyId:n})=>{const r=Object(a.stringify)({integration:t,addAgentToPolicyId:n});return[o,`/detail/${e}/policies${r?`?${r}`:""}`]},integration_details_assets:({pkgkey:e,integration:t})=>[o,`/detail/${e}/assets${t?`?integration=${t}`:""}`],integration_details_settings:({pkgkey:e,integration:t})=>[o,`/detail/${e}/settings${t?`?integration=${t}`:""}`],integration_details_custom:({pkgkey:e,integration:t})=>[o,`/detail/${e}/custom${t?`?integration=${t}`:""}`],integration_policy_edit:({packagePolicyId:e})=>[o,`/edit-integration/${e}`],integration_policy_upgrade:({packagePolicyId:e})=>[o,`/edit-integration/${e}`],policies:()=>[i,"/policies"],policies_list:()=>[i,"/policies"],policy_details:({policyId:e,tabId:t})=>[i,`/policies/${e}${t?`/${t}`:""}`],add_integration_to_policy:({pkgkey:e,integration:t,agentPolicyId:n,useMultiPageLayout:r})=>{const o=Object(a.stringify)({...n?{policyId:n}:{},...r?{useMultiPageLayout:null}:{}});return[i,`/integrations/${e}/add-integration${t?`/${t}`:""}${o?`?${o}`:""}`]},edit_integration:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/edit-integration/${t}`],upgrade_package_policy:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/upgrade-package-policy/${t}`],agent_list:({kuery:e})=>[i,"/agents"+(e?`?kuery=${e}`:"")],agent_details:({agentId:e,tabId:t,logQuery:n})=>[i,`/agents/${e}${t?`/${t}`:""}${n?`?_q=${n}`:""}`],agent_details_logs:({agentId:e})=>[i,`/agents/${e}/logs`],enrollment_tokens:()=>[i,"/enrollment-tokens"],data_streams:()=>[i,"/data-streams"],settings:()=>[i,u.settings],settings_edit_fleet_server_hosts:()=>[i,u.settings_edit_fleet_server_hosts],settings_edit_outputs:({outputId:e})=>[i,u.settings_edit_outputs.replace(":outputId",e)],settings_create_outputs:()=>[i,u.settings_create_outputs]},d=".kibana",p="log",f={IDLE_TIMEOUT:"idle_timeout",READ_TIMEOUT:"read_timeout",SHUTDOWN_TIMEOUT:"shutdown_timeout",TAIL_SAMPLING_INTERVAL:"tail_sampling_interval",WRITE_TIMEOUT:"write_timeout"},g={APM_LOCATOR:"APM_LOCATOR"}},function(e,t,n){e.exports=n(32)(2)},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"eb",(function(){return a})),n.d(t,"Qb",(function(){return r.a})),n.d(t,"b",(function(){return u})),n.d(t,"hb",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"Gb",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"Hb",(function(){return p})),n.d(t,"Ib",(function(){return E})),n.d(t,"h",(function(){return m})),n.d(t,"Fb",(function(){return T})),n.d(t,"Jb",(function(){return A})),n.d(t,"Lb",(function(){return R})),n.d(t,"Tb",(function(){return S})),n.d(t,"Pb",(function(){return L})),n.d(t,"V",(function(){return $.N})),n.d(t,"Ob",(function(){return $.qb})),n.d(t,"gb",(function(){return $.V})),n.d(t,"lb",(function(){return $.X})),n.d(t,"t",(function(){return $.k})),n.d(t,"sb",(function(){return $.eb})),n.d(t,"tb",(function(){return $.fb})),n.d(t,"A",(function(){return $.s})),n.d(t,"z",(function(){return $.r})),n.d(t,"k",(function(){return $.b})),n.d(t,"X",(function(){return $.P})),n.d(t,"j",(function(){return $.a})),n.d(t,"n",(function(){return $.e})),n.d(t,"m",(function(){return $.d})),n.d(t,"Z",(function(){return $.R})),n.d(t,"q",(function(){return $.h})),n.d(t,"yb",(function(){return $.kb})),n.d(t,"E",(function(){return $.w})),n.d(t,"vb",(function(){return $.hb})),n.d(t,"C",(function(){return $.u})),n.d(t,"bb",(function(){return $.T})),n.d(t,"ab",(function(){return $.S})),n.d(t,"pb",(function(){return $.bb})),n.d(t,"rb",(function(){return $.db})),n.d(t,"mb",(function(){return $.Y})),n.d(t,"v",(function(){return $.m})),n.d(t,"s",(function(){return $.j})),n.d(t,"u",(function(){return $.l})),n.d(t,"R",(function(){return $.J})),n.d(t,"L",(function(){return $.D})),n.d(t,"J",(function(){return $.B})),n.d(t,"M",(function(){return $.E})),n.d(t,"K",(function(){return $.C})),n.d(t,"I",(function(){return $.A})),n.d(t,"N",(function(){return $.F})),n.d(t,"w",(function(){return $.n})),n.d(t,"O",(function(){return $.G})),n.d(t,"ub",(function(){return $.gb})),n.d(t,"B",(function(){return $.t})),n.d(t,"o",(function(){return $.f})),n.d(t,"x",(function(){return $.o})),n.d(t,"qb",(function(){return $.cb})),n.d(t,"l",(function(){return $.c})),n.d(t,"nb",(function(){return $.Z})),n.d(t,"Bb",(function(){return $.nb})),n.d(t,"ob",(function(){return $.ab})),n.d(t,"Ab",(function(){return $.mb})),n.d(t,"F",(function(){return $.x})),n.d(t,"xb",(function(){return $.jb})),n.d(t,"zb",(function(){return $.lb})),n.d(t,"D",(function(){return $.v})),n.d(t,"y",(function(){return $.p})),n.d(t,"H",(function(){return $.z})),n.d(t,"U",(function(){return $.M})),n.d(t,"Y",(function(){return $.Q})),n.d(t,"wb",(function(){return $.ib})),n.d(t,"ib",(function(){return $.W})),n.d(t,"S",(function(){return $.K})),n.d(t,"P",(function(){return $.H})),n.d(t,"Q",(function(){return $.I})),n.d(t,"p",(function(){return $.g})),n.d(t,"Cb",(function(){return $.ob})),n.d(t,"T",(function(){return $.L})),n.d(t,"W",(function(){return $.O})),n.d(t,"G",(function(){return $.y})),n.d(t,"r",(function(){return $.i})),n.d(t,"Mb",(function(){return $.pb})),n.d(t,"Db",(function(){return j})),n.d(t,"Rb",(function(){return C})),n.d(t,"fb",(function(){return D})),n.d(t,"Ub",(function(){return N})),n.d(t,"c",(function(){return U})),n.d(t,"jb",(function(){return w})),n.d(t,"g",(function(){return F})),n.d(t,"Sb",(function(){return M})),n.d(t,"Eb",(function(){return G})),n.d(t,"f",(function(){return B})),n.d(t,"Nb",(function(){return q})),n.d(t,"a",(function(){return K})),n.d(t,"db",(function(){return z})),n.d(t,"Kb",(function(){return W})),n.d(t,"cb",(function(){return ee})),n.d(t,"d",(function(){return ne})),n.d(t,"kb",(function(){return re}));var r=n(16);function a(){return Object(r.a)().authz}var i=n(0),o=n.n(i);const u=o.a.createContext(null);function s(){const e=Object(i.useContext)(u);if(null===e)throw new Error("ConfigContext not initialized");return e}const c=o.a.createContext(null);function l(){const e=Object(i.useContext)(c);if(null===e)throw new Error("KibanaVersionContext is not initialized");return e}const d=new(n(31).b);function p(){return d}var f=n(7);const g=(e,t={})=>t?f.u[e](t):f.u[e](),E=()=>{const e=Object(r.a)();return{getPath:(e,t={})=>g(e,t)[1],getAbsolutePath:t=>e.http.basePath.prepend(`${t}`),getAssetsPath:t=>e.http.basePath.prepend(`/plugins/${f.s}/assets/${t}`),getHref:(t,n)=>{const[r,a]=g(t,n);return e.http.basePath.prepend(`${r}${a}`)}}};var _=n(17);const h=(e,t)=>e.basePath.prepend(`/app/kibana#${t}`),m=({type:e,id:t,http:n})=>{let r;switch(e){case _.c.dashboard:r=`/dashboard/${t}`;break;case _.c.search:r=`/discover/${t}`;break;case _.c.visualization:r=`/visualize/edit/${t}`;break;default:return}return h(n,r)};function T(e="/"){const{http:t}=Object(r.a)();return h(t,e)}var b=n(6),P=n(44);const I=new Map,A=({packageName:e,integrationName:t,version:n,icons:r,tryApi:a=!1})=>{const{toPackageImage:o}=Object(P.a)(),[u,s]=Object(i.useState)(),[c,l]=Object(i.useState)(""),d=`${e}-${n}${t?`-${t}`:""}`;return Object(i.useEffect)((()=>{var t;if(I.has(d))return void l(I.get(d)||"");const i=null===(t=r&&r.length?r:u)||void 0===t?void 0:t.filter((e=>"image/svg+xml"===e.type)),c=Array.isArray(i)&&o(i[0],e,n);if(c)return I.set(d,c),void l(I.get(d)||"");const p=b.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e}`));if(p)return I.set(d,p),void l(p);!a||r||u||Object($.v)(e,n).catch((e=>{})).then((e=>{var t,n;I.delete(d),s(null==e||null===(t=e.data)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.icons)})),I.set(d,"package"),l("package")}),[r,d,o,u,e,c,a,n]),c},O=[5,20,50];function R(e={currentPage:1,pageSize:20}){const[t,n]=Object(i.useState)(e);return{pagination:t,setPagination:n,pageSizeOptions:Object(i.useMemo)((()=>[...O]),[])}}var y=n(12),v=n(14);function N(){const{search:e}=Object(y.useLocation)(),[t,n]=Object(i.useState)((()=>Object(v.parse)(e))),r=Object(i.useCallback)(((e=t)=>Object(v.stringify)(e)),[t]);return Object(i.useEffect)((()=>{n(Object(v.parse)(e))}),[e]),{urlParams:t,toUrlParams:r}}const S=()=>{const e=Object(y.useLocation)(),t=Object(y.useHistory)(),{urlParams:n,toUrlParams:r}=N(),a=Object(i.useMemo)((()=>k(n)),[n]),{pagination:o,pageSizeOptions:u,setPagination:s}=R(a),c=Object(i.useCallback)((({pageSize:a,currentPage:i})=>{t.push({...e,search:r({...n,currentPage:i,pageSize:a})})}),[t,e,r,n]);return Object(i.useEffect)((()=>{s((e=>({...e,...k(n)})))}),[s,n]),{pagination:o,setPagination:c,pageSizeOptions:u}},k=e=>{var t,n,r;const a={pageSize:20,currentPage:1};return a.currentPage=Number(null!==(t=Array.isArray(e.currentPage)?e.currentPage.pop():e.currentPage)&&void 0!==t?t:a.currentPage),a.pageSize=null!==(n=Number(null!==(r=Array.isArray(e.pageSize)?e.pageSize.pop():e.pageSize)&&void 0!==r?r:a.pageSize))&&void 0!==n?n:a.pageSize,(!Number.isFinite(a.currentPage)||a.currentPage<1)&&(a.currentPage=1),O.includes(a.pageSize)||(a.pageSize=20),a};function L(e){const[t,n]=Object(i.useState)(e);return{sorting:t,setSorting:n}}var $=n(11);function j(e="",t,n=!1){const[r,a]=Object(i.useState)(e),[o,u]=Object(i.useState)(),[s,c]=Object(i.useState)(!1),l=Object(i.useCallback)((e=>{const n=e.target.value;a(n),o&&t&&void 0===t(n)&&u(void 0)}),[o,t]);Object(i.useEffect)((()=>{s||r!==e&&c(!0)}),[s,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:r,isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d},clear:()=>{a("")},validate:()=>{if(t){const e=t(r);return u(e),void 0===e}return!0},setValue:a,hasChanged:s}}function C(e=!1,t=!1){const[n,r]=Object(i.useState)(e),[a,o]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{a||n!==e&&o(!0)}),[a,n,e]),{value:n,props:{onChange:e=>{const t=e.target.checked;r(t)},checked:n,disabled:t},formRowProps:{},setValue:r,hasChanged:a}}function D(e,t=[],n,r=!1){const[a,o]=Object(i.useState)(t),[u,s]=Object(i.useState)(),[c,l]=Object(i.useState)(!1);Object(i.useEffect)((()=>{c||(a.length!==t.length||a.some(((e,n)=>e!==t[n])))&&l(!0)}),[c,a,t]);const d=void 0!==u,p=Object(i.useCallback)((()=>{if(n){const e=n(a);return s(e),void 0===e}return!0}),[n,a]),f=Object(i.useCallback)((e=>{o(e),u&&n&&s(n(e))}),[n,u]);return{props:{id:e,value:a,onChange:f,errors:u,isInvalid:d,disabled:r},formRowProps:{error:u,isInvalid:d},value:a,clear:()=>{o([])},setValue:o,validate:p,hasChanged:c}}const x=o.a.createContext(void 0),U=({children:e})=>{const t=s(),[n,r]=Object(i.useState)(!1),[a,u]=Object(i.useState)({enabled:t.agents.enabled,isLoading:!1,isReady:!1}),c=Object(i.useCallback)((async function(){try{u((e=>({...e,isLoading:!0})));const e=await Object($.q)();if(e.error)throw e.error;u((t=>{var n,r,a,i;return{...t,isLoading:!1,isReady:null!==(n=null===(r=e.data)||void 0===r?void 0:r.isReady)&&void 0!==n&&n,missingRequirements:null===(a=e.data)||void 0===a?void 0:a.missing_requirements,missingOptionalFeatures:null===(i=e.data)||void 0===i?void 0:i.missing_optional_features}}))}catch(e){u((t=>({...t,isLoading:!1,error:e})))}}),[u]);Object(i.useEffect)((()=>{c()}),[c]);const l=Object(i.useCallback)((()=>c()),[c]);return o.a.createElement(x.Provider,{value:{...a,refresh:l,forceDisplayInstructions:n,setForceDisplayInstructions:r}},e)};function w(){const e=Object(i.useContext)(x);if(!e)throw new Error("FleetStatusContext not set");return e}const F=o.a.createContext({}),M=(e,t)=>{var n;const r=Object(i.useContext)(F);if(!r)throw new Error("useUIExtension called outside of UIExtensionsContext");const a=null==r||null===(n=r[e])||void 0===n?void 0:n[t];if(a)return a};function G(){return Object(y.useLocation)().state}var V=n(4);const B=[{id:"linux",label:V.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux",{defaultMessage:"Linux Tar"}),"data-test-subj":"platformTypeLinux"},{id:"mac",label:V.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.mac",{defaultMessage:"Mac"}),"data-test-subj":"platformTypeMac"},{id:"windows",label:V.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.windows",{defaultMessage:"Windows"}),"data-test-subj":"platformTypeWindows"},{id:"rpm",label:V.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.rpm",{defaultMessage:"RPM"}),"data-test-subj":"platformTypeLinuxRpm"},{id:"deb",label:V.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.deb",{defaultMessage:"DEB"}),"data-test-subj":"platformTypeLinuxDeb"}];function q(){const[e,t]=Object(i.useState)("linux");return{platform:e,setPlatform:t}}const K=o.a.createContext({refresh:()=>{}});function z(){return o.a.useContext(K).refresh}var Y=n(19),X=n.n(Y),H=n(1),J=n(30),Q=n(29);const W=()=>{const{data:e,isLoading:t}=Object(J.k)({experimental:!0}),{data:n,isLoading:r}=Object(Q.h)({full:!0}),a=Object(i.useMemo)((()=>((null==e?void 0:e.items)||[]).filter((e=>e.status===H.Db.Installed))),[null==e?void 0:e.items]),o=Object(i.useMemo)((()=>a.filter((e=>"savedObject"in e&&X()(e.savedObject.attributes.version,e.version)))),[a]),u=Object(i.useMemo)((()=>((null==n?void 0:n.items)||[]).reduce(((e,t)=>(t.package_policies.forEach((n=>{if("string"==typeof n||!n.package)return!1;const{name:r,version:i}=n.package,o=a.find((e=>"savedObject"in e&&e.savedObject.attributes.name===r));if(o&&"savedObject"in o&&X()(i,o.savedObject.attributes.version)){var u,s;const a=null!==(u=e.get(r))&&void 0!==u?u:{currentVersion:o.savedObject.attributes.version,policiesToUpgrade:[]};a.policiesToUpgrade.push({id:t.id,name:t.name,agentsCount:null!==(s=t.agents)&&void 0!==s?s:0,pkgPolicyId:n.id,pkgPolicyName:n.name,pkgPolicyIntegrationVersion:i}),e.set(r,a)}})),e)),new Map)),[a,n]);return{allPackages:e,allInstalledPackages:a,updatablePackages:o,updatableIntegrations:u,isLoadingPackages:t,isLoadingPolicies:r}};var Z=n(2);function ee(){const{data:e,isInitialRequest:t,isLoading:n,resendRequest:r}=Object($.X)({page:1,perPage:f.t,full:!0});return{agentPolicies:Object(i.useMemo)((()=>{var t;return n?[]:(null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]).filter((e=>!Object(Z.w)(e)))}),[n,null==e?void 0:e.items]),refreshAgentPolicies:r,isLoadingInitialAgentPolicies:t&&n,isLoadingAgentPolicies:n}}const te=Object(i.createContext)(void 0),ne=({children:e})=>{const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(!1);return o.a.createElement(te.Provider,{value:{isEnrollmentFlyoutOpen:t,openEnrollmentFlyout:()=>{n(!0)},closeEnrollmentFlyout:()=>n(!1),isFleetServerFlyoutOpen:r,openFleetServerFlyout:()=>a(!0),closeFleetServerFlyout:()=>a(!1)}},e)},re=()=>{const e=Object(i.useContext)(te);if(!e)throw new Error("useFlyoutContext must be used within a FlyoutContextProvider");return e}},function(e,t,n){"use strict";n.d(t,"U",(function(){return r.b})),n.d(t,"N",(function(){return r.a})),n.d(t,"qb",(function(){return r.d})),n.d(t,"V",(function(){return r.c})),n.d(t,"X",(function(){return a.h})),n.d(t,"k",(function(){return a.d})),n.d(t,"eb",(function(){return a.i})),n.d(t,"fb",(function(){return a.j})),n.d(t,"s",(function(){return a.f})),n.d(t,"r",(function(){return a.e})),n.d(t,"b",(function(){return a.b})),n.d(t,"P",(function(){return a.g})),n.d(t,"a",(function(){return a.a})),n.d(t,"e",(function(){return a.c})),n.d(t,"d",(function(){return o})),n.d(t,"R",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"kb",(function(){return c})),n.d(t,"w",(function(){return l})),n.d(t,"hb",(function(){return d})),n.d(t,"u",(function(){return p})),n.d(t,"T",(function(){return f})),n.d(t,"S",(function(){return g})),n.d(t,"bb",(function(){return E})),n.d(t,"db",(function(){return _})),n.d(t,"Y",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"j",(function(){return T})),n.d(t,"l",(function(){return b})),n.d(t,"J",(function(){return P})),n.d(t,"D",(function(){return I})),n.d(t,"B",(function(){return A})),n.d(t,"E",(function(){return O})),n.d(t,"C",(function(){return R})),n.d(t,"A",(function(){return y})),n.d(t,"F",(function(){return v})),n.d(t,"n",(function(){return N})),n.d(t,"G",(function(){return S})),n.d(t,"gb",(function(){return k})),n.d(t,"t",(function(){return L})),n.d(t,"f",(function(){return $})),n.d(t,"o",(function(){return j})),n.d(t,"cb",(function(){return C})),n.d(t,"c",(function(){return D})),n.d(t,"Z",(function(){return x.g})),n.d(t,"nb",(function(){return x.l})),n.d(t,"ab",(function(){return x.h})),n.d(t,"mb",(function(){return x.k})),n.d(t,"x",(function(){return x.c})),n.d(t,"jb",(function(){return x.i})),n.d(t,"lb",(function(){return x.j})),n.d(t,"v",(function(){return x.b})),n.d(t,"p",(function(){return x.a})),n.d(t,"z",(function(){return x.d})),n.d(t,"M",(function(){return x.e})),n.d(t,"Q",(function(){return x.f})),n.d(t,"ib",(function(){return U})),n.d(t,"W",(function(){return w})),n.d(t,"K",(function(){return F})),n.d(t,"H",(function(){return M})),n.d(t,"I",(function(){return G})),n.d(t,"g",(function(){return V})),n.d(t,"ob",(function(){return B})),n.d(t,"L",(function(){return q})),n.d(t,"O",(function(){return K})),n.d(t,"q",(function(){return z})),n.d(t,"y",(function(){return Y})),n.d(t,"i",(function(){return X})),n.d(t,"pb",(function(){return H}));var r=n(3),a=n(29),i=n(2);const o=e=>Object(r.a)({path:i.t.getCreatePath(),method:"post",body:JSON.stringify(e)}),u=(e,t)=>Object(r.a)({path:i.t.getUpdatePath(e),method:"put",body:JSON.stringify(t)}),s=e=>Object(r.a)({path:i.t.getDeletePath(),method:"post",body:JSON.stringify(e)});function c(e){return Object(r.d)({method:"get",path:i.t.getListPath(),query:e})}const l=e=>Object(r.a)({method:"get",path:i.t.getListPath(),query:e}),d=e=>Object(r.d)({path:i.t.getInfoPath(e),method:"get"}),p=e=>Object(r.a)({path:i.t.getInfoPath(e),method:"get"});function f(e,t){const n={packagePolicyIds:e};return t&&(n.packageVersion=t),Object(r.a)({path:i.t.getDryRunPath(),method:"post",body:JSON.stringify(n)})}function g(e){return Object(r.a)({path:i.t.getUpgradePath(),method:"post",body:JSON.stringify({packagePolicyIds:e})})}const E=()=>Object(r.d)({path:i.g.getListPath(),method:"get"});function _(e,t){return Object(r.d)({path:i.d.getInfoPath(e),method:"get",...t})}function h(e,t){return Object(r.d)({method:"get",path:i.d.getListPath(),query:e,...t})}function m(e,t){return Object(r.a)({method:"get",path:i.d.getListPath(),query:e,...t})}function T(e){return Object(r.a)({method:"get",path:i.d.getIncomingDataPath(),query:e})}function b(e,t){return Object(r.a)({method:"get",path:i.d.getStatusPath(),query:e,...t})}function P(e,t,n){return Object(r.a)({method:"put",path:i.d.getReassignPath(e),body:t,...n})}function I(e,t){return Object(r.a)({method:"post",path:i.d.getBulkReassignPath(),body:e,...t})}function A(e,t,n){return Object(r.a)({path:i.d.getUnenrollPath(e),method:"post",body:t,...n})}function O(e,t){return Object(r.a)({path:i.d.getBulkUnenrollPath(),method:"post",body:e,...t})}function R(e,t,n){return Object(r.a)({path:i.d.getUpgradePath(e),method:"post",body:t,...n})}function y(e,t,n){return Object(r.a)({path:i.d.getCreateActionPath(e),method:"post",body:t,...n})}function v(e,t){return Object(r.a)({path:i.d.getBulkUpgradePath(),method:"post",body:e,...t})}function N(){return Object(r.a)({path:i.d.getCurrentUpgradesPath(),method:"get"})}function S(e){return Object(r.a)({path:i.d.getCancelActionPath(e),method:"post"})}function k(e){return Object(r.c)({method:"get",path:e?i.j.getInfoPath(e):void 0,shouldSendRequest:!!e})}function L(e,t){return Object(r.a)({method:"get",path:i.j.getInfoPath(e),...t})}function $(e,t){return Object(r.a)({method:"delete",path:i.j.getDeletePath(e),...t})}function j(e,t){return Object(r.a)({method:"get",path:i.j.getListPath(),query:e,...t})}function C(e,t){return Object(r.d)({method:"get",path:i.j.getListPath(),query:e,...t})}function D(e){return Object(r.a)({method:"post",path:i.j.getCreatePath(),body:e})}var x=n(30);function U(){return Object(r.d)({method:"get",path:i.s.getListPath()})}function w(){var e;const t=U();return{output:null===(e=t.data)||void 0===e?void 0:e.items.find((e=>e.is_default)),refresh:t.resendRequest}}function F(e,t){return Object(r.a)({method:"put",path:i.s.getUpdatePath(e),body:t})}function M(){return Object(r.a)({method:"post",path:i.s.getCreateLogstashApiKeyPath()})}function G(e){return Object(r.a)({method:"post",path:i.s.getCreatePath(),body:e})}function V(e){return Object(r.a)({method:"delete",path:i.s.getDeletePath(e)})}function B(){return Object(r.d)({method:"get",path:i.x.getInfoPath()})}function q(e){return Object(r.a)({method:"put",path:i.x.getUpdatePath(),body:e})}const K=()=>Object(r.a)({path:i.y.getSetupPath(),method:"post"}),z=()=>Object(r.a)({path:i.l.getFleetSetupPath(),method:"get"}),Y=e=>Object(r.a)({path:i.e.getCheckPermissionsPath(),method:"get",query:{fleetServerSetup:e}}),X=()=>Object(r.a)({path:i.e.getRegenerateServiceTokenPath(),method:"post"}),H=()=>Object(r.d)({path:i.e.getCheckPermissionsPath(),method:"get"})},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){const r=n(34),a=n(50),{re:i,t:o}=n(37);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=i[o.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),i[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[o.COERCERTL].lastIndex=-1}else n=e.match(i[o.COERCE]);return null===n?null:a(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},function(e,t,n){"use strict";const r=n(56),a=n(57),i=n(58);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?a(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===n?n:s(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,o]=i(t.decode?a.replace(/\+/g," "):a,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:s(o,t),n(s(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",a,"]"].join("")]:[...n,[u(t,e),"[",u(a,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(t,e),"=",u(r,e)].join("")]:[[n,u(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const a=e[n];return void 0===a?"":null===a?u(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):u(n,t)+"="+u(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),o=Object.assign(i,e.query);let s=t.stringify(o,n);s&&(s=`?${s}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${u(e.fragmentIdentifier,n)}`),`${r}${s}${c}`}},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(22);function a(){const{services:e}=Object(r.useKibana)();if(null===e)throw new Error("KibanaContextProvider not initialized");return e}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.entries})),n.d(t,"a",(function(){return r.ElasticsearchAssetType})),n.d(t,"c",(function(){return r.KibanaAssetType})),n.d(t,"b",(function(){return r.InstallStatus}));var r=n(5);n(25),n(26)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){const r=n(43);e.exports=(e,t,n)=>r(e,t,n)<0},function(e,t,n){"use strict";let r;function a(e){r=e}function i(){return r}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){const r=n(43);e.exports=(e,t,n)=>r(e,t,n)>0},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return ExperimentalFeaturesService}));var r=n(8),a=n.n(r);class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized")}}a()(ExperimentalFeaturesService,"experimentalFeatures",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{var n;const{package:r,view:a}=t;if(e[r]||(e[r]={}),null!==(n=e[r])&&void 0!==n&&n[a])throw new Error(`Extension point has already been registered: [${r}][${a}]`);e[r][a]=t}},function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g}));var r=n(2),a=n(3);const i=e=>Object(a.d)({path:r.c.getListPath(),method:"get",query:e}),o=e=>Object(a.a)({path:r.c.getListPath(),method:"get",query:e}),u=e=>Object(a.c)({path:e?r.c.getInfoPath(e):void 0,method:"get",shouldSendRequest:!!e}),s=e=>Object(a.d)({path:r.c.getInfoFullPath(e),method:"get"}),c=(e,t={})=>Object(a.a)({path:r.c.getInfoFullPath(e),method:"get",query:t}),l=e=>Object(a.a)({path:r.c.getInfoPath(e),method:"get"}),d=(e,{withSysMonitoring:t}={withSysMonitoring:!1})=>Object(a.a)({path:r.c.getCreatePath(),method:"post",body:JSON.stringify(e),query:t?{sys_monitoring:!0}:{}}),p=(e,t)=>Object(a.a)({path:r.c.getUpdatePath(e),method:"put",body:JSON.stringify(t)}),f=(e,t)=>Object(a.a)({path:r.c.getCopyPath(e),method:"post",body:JSON.stringify(t)}),g=e=>Object(a.a)({path:r.c.getDeletePath(),method:"post",body:JSON.stringify(e)})},function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return T}));var r=n(38),a=n.n(r),i=n(2),o=n(20),u=n(3);function s(){const e=Object(o.a)();return a()(e.getAppendCustomIntegrations,[])}function c(){const e=Object(o.a)();return a()(e.getReplacementCustomIntegrations,[])}const l=(e={})=>Object(u.d)({path:i.k.getCategoriesPath(),method:"get",query:{experimental:!0,...e}}),d=(e={})=>Object(u.d)({path:i.k.getListPath(),method:"get",query:{experimental:!0,...e}}),p=(e={})=>Object(u.a)({path:i.k.getListPath(),method:"get",query:{experimental:!0,...e}}),f=(e,t)=>Object(u.d)({path:i.k.getInfoPath(e,t),method:"get"}),g=e=>Object(u.d)({path:i.k.getStatsPath(e),method:"get"}),E=(e,t)=>Object(u.a)({path:i.k.getInfoPath(e,t),method:"get"}),_=e=>Object(u.a)({path:i.k.getFilePath(e),method:"get"}),h=(e,t,n=!1)=>Object(u.a)({path:i.k.getInstallPath(e,t),method:"post",body:{force:n}}),m=(e,t)=>Object(u.a)({path:i.k.getRemovePath(e,t),method:"delete"}),T=(e,t,n)=>Object(u.a)({path:i.k.getUpdatePath(e,t),method:"put",body:n})},function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"y",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"B",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"C",(function(){return E})),n.d(t,"a",(function(){return r})),n.d(t,"A",(function(){return v})),n.d(t,"z",(function(){return N})),n.d(t,"r",(function(){return R})),n.d(t,"n",(function(){return k})),n.d(t,"u",(function(){return L})),n.d(t,"i",(function(){return $})),n.d(t,"h",(function(){return j.a})),n.d(t,"v",(function(){return C.a})),n.d(t,"t",(function(){return D})),n.d(t,"b",(function(){return license_LicenseService})),n.d(t,"s",(function(){return q})),n.d(t,"j",(function(){return Y})),n.d(t,"E",(function(){return Q})),n.d(t,"F",(function(){return W})),n.d(t,"G",(function(){return ee})),n.d(t,"f",(function(){return Z})),n.d(t,"w",(function(){return te})),n.d(t,"D",(function(){return ae})),n.d(t,"o",(function(){return ie})),n.d(t,"q",(function(){return oe.b})),n.d(t,"p",(function(){return oe.a}));var r={};n.r(r),n.d(r,"getAgentStatus",(function(){return _})),n.d(r,"buildKueryForEnrollingAgents",(function(){return h})),n.d(r,"buildKueryForUnenrollingAgents",(function(){return m})),n.d(r,"buildKueryForOnlineAgents",(function(){return T})),n.d(r,"buildKueryForErrorAgents",(function(){return b})),n.d(r,"buildKueryForOfflineAgents",(function(){return P})),n.d(r,"buildKueryForUpgradingAgents",(function(){return I})),n.d(r,"buildKueryForUpdatingAgents",(function(){return A})),n.d(r,"buildKueryForInactiveAgents",(function(){return O}));var a=n(1);const i={getCategoriesPath:()=>a.I.CATEGORIES_PATTERN,getListPath:()=>a.I.LIST_PATTERN,getListLimitedPath:()=>a.I.LIMITED_LIST_PATTERN,getInfoPath:(e,t)=>t?a.I.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t):a.I.INFO_PATTERN.replace("{pkgName}",e).replace("/{pkgVersion}",""),getStatsPath:e=>a.I.STATS_PATTERN.replace("{pkgName}",e),getFilePath:e=>`${a.H}${e.replace("/package","/packages")}`,getInstallPath:(e,t)=>a.I.INSTALL_FROM_REGISTRY_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkInstallPath:()=>a.I.BULK_INSTALL_PATTERN,getRemovePath:(e,t)=>a.I.DELETE_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getUpdatePath:(e,t)=>a.I.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t)},o={getListPath:()=>a.nb.LIST_PATTERN,getInfoPath:e=>a.nb.INFO_PATTERN.replace("{packagePolicyId}",e),getCreatePath:()=>a.nb.CREATE_PATTERN,getUpdatePath:e=>a.nb.UPDATE_PATTERN.replace("{packagePolicyId}",e),getDeletePath:()=>a.nb.DELETE_PATTERN,getUpgradePath:()=>a.nb.UPGRADE_PATTERN,getDryRunPath:()=>a.nb.DRYRUN_PATTERN},u={getListPath:()=>a.h.LIST_PATTERN,getInfoPath:e=>a.h.INFO_PATTERN.replace("{agentPolicyId}",e),getCreatePath:()=>a.h.CREATE_PATTERN,getUpdatePath:e=>a.h.UPDATE_PATTERN.replace("{agentPolicyId}",e),getCopyPath:e=>a.h.COPY_PATTERN.replace("{agentPolicyId}",e),getDeletePath:()=>a.h.DELETE_PATTERN,getInfoFullPath:e=>a.h.FULL_INFO_PATTERN.replace("{agentPolicyId}",e),getInfoFullDownloadPath:e=>a.h.FULL_INFO_DOWNLOAD_PATTERN.replace("{agentPolicyId}",e),getK8sInfoPath:()=>a.db.K8S_INFO_PATTERN,getK8sFullDownloadPath:()=>a.db.K8S_DOWNLOAD_PATTERN},s={getListPath:()=>a.C.LIST_PATTERN},c={getFleetSetupPath:()=>a.c.INFO_PATTERN,postFleetSetupPath:()=>a.c.CREATE_PATTERN},l={getInfoPath:e=>a.f.INFO_PATTERN.replace("{agentId}",e),getUpdatePath:e=>a.f.UPDATE_PATTERN.replace("{agentId}",e),getUnenrollPath:e=>a.f.UNENROLL_PATTERN.replace("{agentId}",e),getBulkUnenrollPath:()=>a.f.BULK_UNENROLL_PATTERN,getReassignPath:e=>a.f.REASSIGN_PATTERN.replace("{agentId}",e),getBulkReassignPath:()=>a.f.BULK_REASSIGN_PATTERN,getUpgradePath:e=>a.f.UPGRADE_PATTERN.replace("{agentId}",e),getBulkUpgradePath:()=>a.f.BULK_UPGRADE_PATTERN,getCurrentUpgradesPath:()=>a.f.CURRENT_UPGRADES_PATTERN,getCancelActionPath:e=>a.f.CANCEL_ACTIONS_PATTERN.replace("{actionId}",e),getListPath:()=>a.f.LIST_PATTERN,getStatusPath:()=>a.f.STATUS_PATTERN,getIncomingDataPath:()=>a.f.DATA_PATTERN,getCreateActionPath:e=>a.f.ACTIONS_PATTERN.replace("{agentId}",e)},d={getInfoPath:e=>a.jb.INFO_PATTERN.replace("{outputId}",e),getUpdatePath:e=>a.jb.UPDATE_PATTERN.replace("{outputId}",e),getListPath:()=>a.jb.LIST_PATTERN,getDeletePath:e=>a.jb.DELETE_PATTERN.replace("{outputId}",e),getCreatePath:()=>a.jb.CREATE_PATTERN,getCreateLogstashApiKeyPath:()=>a.jb.LOGSTASH_API_KEY_PATTERN},p={getInfoPath:()=>a.ub.INFO_PATTERN,getUpdatePath:()=>a.ub.UPDATE_PATTERN},f={getCheckPermissionsPath:e=>a.x.CHECK_PERMISSIONS_PATTERN,getRegenerateServiceTokenPath:()=>a.x.GENERATE_SERVICE_TOKEN_PATTERN},g={getListPath:()=>a.G.LIST_PATTERN,getCreatePath:()=>a.G.CREATE_PATTERN,getInfoPath:e=>a.G.INFO_PATTERN.replace("{keyId}",e),getDeletePath:e=>a.G.DELETE_PATTERN.replace("{keyId}",e)},E={getSetupPath:()=>a.vb};function _(e){const{last_checkin:t}=e;if(!e.active)return"inactive";if(e.unenrollment_started_at&&!e.unenrolled_at)return"unenrolling";if(!e.last_checkin)return"enrolling";const n=new Date(t||0).getTime(),r=(new Date).getTime()-n,i=Math.floor(r/a.q);return"error"===e.last_checkin_status?"error":"degraded"===e.last_checkin_status?"degraded":e.upgrade_started_at&&!e.upgraded_at?"updating":i>=4?"offline":"online"}function h(e=""){return`not (${e}last_checkin:*)`}function m(e=""){return`${e}unenrollment_started_at:*`}function T(e=""){return`not (${P(e)}) AND not (${b(e)}) AND not (${A(e)})`}function b(e=""){return`(${e}last_checkin_status:error or ${e}last_checkin_status:degraded) AND not (${A(e)})`}function P(e=""){return`${e}last_checkin < now-${4*a.q/1e3}s AND not (${b(e)}) AND not ( ${A(e)} )`}function I(e=""){return`(${e}upgrade_started_at:*) and not (${e}upgraded_at:*)`}function A(e=""){return`(${I(e)}) or (${h(e)}) or (${m(e)})`}function O(e=""){return`${e}active:false`}const R=(e,t,n=[])=>{const r=[],a=t.data_streams||[];return(n.length?a.filter((e=>n.includes(e.path))):a).forEach((t=>{(t.streams||[]).forEach((n=>{n.input===e&&r.push({...n,data_stream:{type:t.type,dataset:t.dataset}})}))})),r},y=(e,t)=>{const n={value:!t.default&&t.multi?[]:t.default};return t.type&&(n.type=t.type),e[t.name]=n,e},v=(e,t)=>{var n;const r=Y(e),a=[],i={};return null===(n=e.policy_templates)||void 0===n||n.forEach((e=>{var t;null===(t=e.inputs)||void 0===t||t.forEach((t=>{const n=`${e.name}-${t.type}`,r={...t,...e.data_streams?{data_streams:e.data_streams}:{},policy_template:e.name};i[n]=r}))})),Object.values(i).forEach((n=>{var i;const o=[];let u={};const s=R(n.type,e,n.data_streams).map((e=>{const t={enabled:!1!==e.enabled,data_stream:e.data_stream};return e.vars&&e.vars.length&&(t.vars=e.vars.reduce(y,{})),t}));null!==(i=n.vars)&&void 0!==i&&i.length&&!r&&(u=n.vars.reduce(y,{})),o.push(...s);let c=!o.length||!!o.find((e=>e.enabled));c&&r&&t&&t!==n.policy_template&&(c=!1);const l={type:n.type,policy_template:n.policy_template,enabled:c,streams:o};Object.keys(u).length&&(l.vars=u),a.push(l)})),a},N=(e,t,n,r="",a,i,o)=>{var u;const s={name:a||`${e.name}-1`,namespace:r,description:i,package:{name:e.name,title:e.title,version:e.version},enabled:!0,policy_id:t,output_id:n,inputs:v(e,o),vars:void 0};return null!==(u=e.vars)&&void 0!==u&&u.length&&(s.vars=e.vars.reduce(y,{})),s},S=["id","name","revision","dataset","type","outputs","output_permissions","agent","inputs","enabled","use_output","meta","input"],k=(e,t)=>t(e,{skipInvalid:!0,sortKeys:(e,t)=>{const n=S.indexOf(e),r=S.indexOf(t);return n>=0&&r<0?-1:n<0&&r>=0?1:n-r}}),L=e=>(e.policy_templates||[]).some((e=>!1===e.multiple)),$=(e,t)=>{if(e.package_policies.length&&"string"==typeof e.package_policies[0])throw new Error("Unable to read full package policy information");return e.package_policies.map((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)||""})).includes(t)};var j=n(46),C=n(47);function D(e){const t=new URL(e[0]),n=t.protocol,r=t.pathname;return e.some((e=>{const t=new URL(e),a=t.protocol,i=t.pathname;return n!==a||r!==i}))}var x=n(8),U=n.n(x);class license_LicenseService{constructor(){U()(this,"observable",null),U()(this,"subscription",null),U()(this,"licenseInformation",null)}updateInformation(e){this.licenseInformation=e}start(e){this.observable=e,this.subscription=this.observable.subscribe(this.updateInformation.bind(this))}stop(){this.subscription&&this.subscription.unsubscribe()}getLicenseInformation(){return this.licenseInformation}getLicenseInformation$(){return this.observable}isGoldPlus(){return this.hasAtLeast("gold")}isEnterprise(){return this.hasAtLeast("enterprise")}hasAtLeast(e){var t,n,r;return(null===(t=this.licenseInformation)||void 0===t?void 0:t.isAvailable)&&(null===(n=this.licenseInformation)||void 0===n?void 0:n.isActive)&&(null===(r=this.licenseInformation)||void 0===r?void 0:r.hasAtLeast(e))}}var w=n(13),F=n.n(w),M=n(19),G=n.n(M),V=n(23),B=n.n(V);function q(e,t,n){var r,a,i;let o;return"string"==typeof(null==e||null===(r=e.local_metadata)||void 0===r||null===(a=r.elastic)||void 0===a||null===(i=a.agent)||void 0===i?void 0:i.version)&&(o=e.local_metadata.elastic.agent.version,!e.unenrollment_started_at&&!e.unenrolled_at&&!!e.local_metadata.elastic.agent.upgradeable&&!(e.upgrade_started_at&&!e.upgraded_at)&&(void 0!==n?z(o,n)&&K(o,t):K(o,t)))}const K=(e,t)=>{const n=F()(e);if(!n)throw new Error("agent version is not valid");const r=F()(t);if(!r)throw new Error("kibana version is not valid");return G()(n,r)},z=(e,t)=>{const n=F()(e);if(!n)throw new Error("agent version is not valid");const r=F()(t);if(!r)throw new Error("target version is not valid");return B()(r,n)},Y=e=>(e.policy_templates||[]).length>1;var X=n(24),H=n(4),J=n(9);const Q=(e,t,n)=>{const r=Y(t),a={name:null,description:null,namespace:null,inputs:{},vars:{}},i=Object(C.a)(e.namespace);e.name.trim()||(a.name=[H.i18n.translate("xpack.fleet.packagePolicyValidation.nameRequiredErrorMessage",{defaultMessage:"Name is required"})]),!i.valid&&i.error&&(a.namespace=[i.error]);const o=Object(J.keyBy)(t.vars||[],"name"),u=Object.entries(e.vars||{});if(u.length&&(a.vars=u.reduce(((e,[t,r])=>(e[t]=W(r,o[t],t,n),e)),{})),!t.policy_templates||0===t.policy_templates.length||!t.policy_templates.find((e=>e.inputs&&e.inputs.length>0)))return a.inputs=null,a;const s=t.policy_templates.reduce(((e,t)=>((t.inputs||[]).forEach((n=>{const a=r?`${t.name}-${n.type}`:n.type;(n.vars||[]).length&&(e[a]=Object(J.keyBy)(n.vars||[],"name"))})),e)),{}),c=(t.data_streams||[]).reduce(((e,t)=>{var n;return null===(n=t.streams)||void 0===n||n.forEach((n=>{e[`${t.dataset}-${n.input}`]=n})),e}),{}),l=Object.entries(c).reduce(((e,[t,n])=>(e[t]=Object(J.keyBy)(n.vars||[],"name"),e)),{});return e.inputs.forEach((e=>{if(!e.vars&&!e.streams)return;const t=r?`${e.policy_template}-${e.type}`:e.type,i={vars:void 0,streams:{}},o=Object.entries(e.vars||{});o.length?i.vars=o.reduce(((r,[a,i])=>{var o;return r[a]=e.enabled?W(i,(null!==(o=s[t])&&void 0!==o?o:{})[a],a,n):null,r}),{}):delete i.vars,e.streams.length?e.streams.forEach((t=>{const r={},a=l[`${t.data_stream.dataset}-${e.type}`];a&&Object.keys(a).length&&(r.vars=Object.keys(a).reduce(((r,i)=>{var o;const u=null==t||null===(o=t.vars)||void 0===o?void 0:o[i];return r[i]=e.enabled&&t.enabled?W(u,a[i],i,n):null,r}),{})),i.streams[t.data_stream.dataset]=r})):delete i.streams,(i.vars||i.streams)&&(a.inputs[t]=i)})),0===Object.entries(a.inputs).length&&(a.inputs=null),a},W=(e,t,n,r)=>{const a=[],i=null==e?void 0:e.value;let o=i;if("string"==typeof i&&(o=i.trim()),void 0===t)return console.debug(`No variable definition for ${n} found`),null;if(t.required&&(void 0===o||"yaml"===t.type&&""===o)&&a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"yaml"===t.type)try{o=r(i)}catch(e){a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.invalidYamlFormatErrorMessage",{defaultMessage:"Invalid YAML format"}))}return t.multi?o&&!Array.isArray(o)?(a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.invalidArrayErrorMessage",{defaultMessage:"Invalid format"})),a):(t.required&&Array.isArray(o)&&0===o.length&&a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"text"===t.type&&o&&o.filter((e=>/^[*&]/.test(e))).length>0&&a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"integer"===t.type&&o&&o.filter((e=>!Number.isInteger(Number(e)))).length>0&&a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerMultiErrorMessage",{defaultMessage:"Invalid integer"})),a.length?a:null):("text"===t.type&&o&&!Array.isArray(o)&&/^[*&]/.test(o)&&a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"bool"===t.type&&o&&!["true","false"].includes(o.toString())&&a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.boolValueError",{defaultMessage:"Boolean values must be either true or false"})),"integer"===t.type&&o&&!Array.isArray(o)&&(Number.isInteger(Number(o))||a.push(H.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerErrorMessage",{defaultMessage:"Invalid integer"}))),a.length?a:null)},Z=e=>{const t=Object(X.getFlattenedObject)(e);return(Object.values(t).filter((e=>Boolean(e)))||[]).length},ee=e=>Z(e)>0;function te(e){const t=new URL(e);return`${t.protocol}//${t.hostname}:${n=t,""!==n.port?n.port:"http:"===n.protocol?"80":"https:"===n.protocol?"443":void 0}${"/"===t.pathname?"":t.pathname}`;var n}var ne=n(51),re=n.n(ne);function ae(e){if(!e.includes("-"))return{pkgName:e,pkgVersion:""};const t=e.includes("-")?e.substr(0,e.indexOf("-")):e;if(""===t)throw new Error("Package key parsing failed: package name was empty");const n=e.substr(e.indexOf("-")+1);if(!re()(n))throw new Error("Package key parsing failed: package version was not a valid semver");return{pkgName:t,pkgVersion:n}}function ie(e,t){const n=new RegExp(`${e}-(\\d+)`);return`${e}-${Math.max(...(null!=t?t:[]).filter((e=>Boolean(e.name.match(n)))).map((e=>parseInt(e.name.match(n)[1],10))),0)+1}`}var oe=n(35)},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";var r=n(17);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d}))},function(e,t,n){const r=n(48),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=n(36),{re:o,t:u}=n(37),s=n(49),{compareIdentifiers:c}=n(55);class SemVer{constructor(e,t){if(t=s(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[u.LOOSE]:o[u.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=SemVer},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(9),a=n(23),i=n.n(a),o=n(13),u=n.n(o);function s(e){const t=Object(r.uniq)(e).filter((e=>{var t;return void 0!==(null===(t=u()(e))||void 0===t?void 0:t.version)}));return t.length>1?t.sort(((e,t)=>i()(e,t)?1:-1)):t}function c(e){const t=s(e);return t.length>=1?t[t.length-1]:""}function l(e){const t=s(e);return t.length>=1?t[0]:""}},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(36),a=n(48),i=(t=e.exports={}).re=[],o=t.src=[],u=t.t={};let s=0;const c=(e,t,n)=>{const r=s++;a(r,t),u[e]=r,o[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${o[u.NUMERICIDENTIFIER]})\\.(${o[u.NUMERICIDENTIFIER]})\\.(${o[u.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${o[u.NUMERICIDENTIFIERLOOSE]})\\.(${o[u.NUMERICIDENTIFIERLOOSE]})\\.(${o[u.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${o[u.NUMERICIDENTIFIER]}|${o[u.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${o[u.NUMERICIDENTIFIERLOOSE]}|${o[u.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${o[u.PRERELEASEIDENTIFIER]}(?:\\.${o[u.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${o[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[u.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${o[u.BUILDIDENTIFIER]}(?:\\.${o[u.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${o[u.MAINVERSION]}${o[u.PRERELEASE]}?${o[u.BUILD]}?`),c("FULL",`^${o[u.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${o[u.MAINVERSIONLOOSE]}${o[u.PRERELEASELOOSE]}?${o[u.BUILD]}?`),c("LOOSE",`^${o[u.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${o[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${o[u.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${o[u.XRANGEIDENTIFIER]})(?:\\.(${o[u.XRANGEIDENTIFIER]})(?:\\.(${o[u.XRANGEIDENTIFIER]})(?:${o[u.PRERELEASE]})?${o[u.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${o[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[u.XRANGEIDENTIFIERLOOSE]})(?:${o[u.PRERELEASELOOSE]})?${o[u.BUILD]}?)?)?`),c("XRANGE",`^${o[u.GTLT]}\\s*${o[u.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${o[u.GTLT]}\\s*${o[u.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",o[u.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${o[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${o[u.LONETILDE]}${o[u.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${o[u.LONETILDE]}${o[u.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${o[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${o[u.LONECARET]}${o[u.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${o[u.LONECARET]}${o[u.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${o[u.GTLT]}\\s*(${o[u.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${o[u.GTLT]}\\s*(${o[u.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${o[u.GTLT]}\\s*(${o[u.LOOSEPLAIN]}|${o[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${o[u.XRANGEPLAIN]})\\s+-\\s+(${o[u.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${o[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[u.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),a=n(0),i=r.__importDefault(n(59));t.default=function(e,t){void 0===t&&(t=[]);var n=i.default(e,t,{loading:!0}),r=n[0],o=n[1];return a.useEffect((function(){o()}),[o]),r}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){e.exports=n(32)(2552)},function(e,t,n){const r=n(34);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16),a=n(2);function i(){const{http:e}=Object(r.a)();return{toSharedAssets:t=>e.basePath.prepend(`/plugins/kibanaReact/assets/${t}`),toPackageImage:(t,n,r)=>{const i=t.src?`/package/${n}/${r}${t.src}`:"path"in t&&t.path;if(i){const t=a.k.getFilePath(i);return e.basePath.prepend(t)}},toRelativeImage:({path:t,packageName:n,version:r})=>{const i=new URL(t,"http://example.com").pathname,o=`${a.k.getInfoPath(n,r)}/${i}`;return e.basePath.prepend(o)}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(4),a=n(33);const i={kibana:Object.values(a.c),elasticsearch:Object.values(a.a)},o={dashboard:r.i18n.translate("xpack.fleet.epm.assetTitles.dashboards",{defaultMessage:"Dashboards"}),ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.ilmPolicies",{defaultMessage:"ILM policies"}),ingest_pipeline:r.i18n.translate("xpack.fleet.epm.assetTitles.ingestPipelines",{defaultMessage:"Ingest pipelines"}),transform:r.i18n.translate("xpack.fleet.epm.assetTitles.transforms",{defaultMessage:"Transforms"}),index_pattern:r.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Index patterns"}),index_template:r.i18n.translate("xpack.fleet.epm.assetTitles.indexTemplates",{defaultMessage:"Index templates"}),component_template:r.i18n.translate("xpack.fleet.epm.assetTitles.componentTemplates",{defaultMessage:"Component templates"}),search:r.i18n.translate("xpack.fleet.epm.assetTitles.savedSearches",{defaultMessage:"Saved searches"}),visualization:r.i18n.translate("xpack.fleet.epm.assetTitles.visualizations",{defaultMessage:"Visualizations"}),map:r.i18n.translate("xpack.fleet.epm.assetTitles.maps",{defaultMessage:"Maps"}),data_stream_ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.dataStreamILM",{defaultMessage:"Data stream ILM policies"}),lens:r.i18n.translate("xpack.fleet.epm.assetTitles.lens",{defaultMessage:"Lens"}),security_rule:r.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),osquery_pack_asset:r.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),osquery_saved_query:r.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),ml_module:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"ML modules"}),ml_model:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModels",{defaultMessage:"ML models"}),view:r.i18n.translate("xpack.fleet.epm.assetTitles.views",{defaultMessage:"Views"}),tag:r.i18n.translate("xpack.fleet.epm.assetTitles.tag",{defaultMessage:"Tag"}),csp_rule_template:r.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Cloud Security Posture rule template"})},u={kibana:"Kibana",elasticsearch:"Elasticsearch"}},function(e,t,n){"use strict";(function(e){function r(t){const n=t.split(":").pop();if(!n)return void console.debug(`Unable to decode ${n}`);let r;try{r=e.from(n,"base64").toString("utf8")}catch{return void console.debug(`base64 decoding failed on ${n}`)}const i=r.split("$");if(i.length<3)return void console.debug(`Expected at least 3 parts in ${r}`);const[o,u]=a(i[0]),[s,c]=a(i[1],u),[l,d]=a(i[2],u);return{host:o,defaultPort:u,elasticsearchUrl:`https://${s}.${o}:${c}`,kibanaUrl:`https://${l}.${o}:${d}`}}function a(e,t="443"){const[n,r=t]=e.split(":");return[n,r]}n.d(t,"a",(function(){return r}))}).call(this,n(42).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(4);function a(t){return t.trim()?t!==t.toLowerCase()?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.lowercaseErrorMessage",{defaultMessage:"Namespace must be lowercase"})}:/[\*\\/\?"<>|\s,#:-]+/.test(t)?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.invalidCharactersErrorMessage",{defaultMessage:"Namespace contains invalid characters"})}:"function"==typeof Blob&&new Blob([t]).size>100||"function"==typeof e&&e.from(t).length>100?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.tooLongErrorMessage",{defaultMessage:"Namespace cannot be more than 100 bytes"})}:{valid:!0}:{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.requiredErrorMessage",{defaultMessage:"Namespace is required"})}}}).call(this,n(42).Buffer)},function(e,t,n){(function(t){const n="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(52))},function(e,t){const n=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:n.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},function(e,t,n){const{MAX_LENGTH:r}=n(36),{re:a,t:i}=n(37),o=n(34),u=n(49);e.exports=(e,t)=>{if(t=u(t),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[i.LOOSE]:a[i.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},function(e,t,n){const r=n(50);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},function(e,t,n){e.exports=n(32)(656)},function(e,t,n){n(54),__kbnBundles__.define("plugin/fleet/public",n,61),__kbnBundles__.define("plugin/fleet/common",n,5)},function(e,t,n){n.p=window.__kbnPublicPath__.fleet},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),a=n.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a?-1:a&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",a=new RegExp(r,"gi"),i=new RegExp("("+r+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function u(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(a);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=u(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),o=0;o<a.length;o++){var s=a[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),a=n(0),i=r.__importDefault(n(60));t.default=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o=a.useRef(0),u=i.default(),s=a.useState(n),c=s[0],l=s[1],d=a.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=++o.current;return l((function(e){return r.__assign(r.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return u()&&a===o.current&&l({value:e,loading:!1}),e}),(function(e){return u()&&a===o.current&&l({error:e,loading:!1}),e}))}),t);return[c,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return C})),n.d(t,"pagePathGetters",(function(){return p.u})),n.d(t,"pkgKeyFromPackageInfo",(function(){return j.v})),n.d(t,"CustomAssetsAccordion",(function(){return S}));var r=n(8),a=n.n(r),i=n(0),o=n.n(i),u=n(4),s=n(9),c=n(21),l=n(41),d=n(5),p=n(7),f=n(10),g=n(11),E=n(18),_=n(15),h=n(6);const m="integration",T=(e,t)=>{var n;const r=null===(n=e.icons)||void 0===n?void 0:n.find((e=>"image/svg+xml"===e.type));return r?t.prepend(d.epmRouteService.getFilePath(`/package/${e.name}/${e.version}${r.src}`)):h.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e.name}`))},b=(e,t,n)=>({id:e.name,type:m,title:e.title,score:80,icon:T(e,n),url:{path:`${t.getUrlForApp(d.INTEGRATIONS_PLUGIN_ID)}${p.u.integration_details_overview({pkgkey:e.name})[1]}`,prependBasePath:!1}}),P=o.a.lazy((()=>n.e(4).then(n.bind(null,301)))),I=()=>o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(h.EuiLoadingSpinner,null)},o.a.createElement(P,null)),A=o.a.lazy((()=>n.e(5).then(n.bind(null,302)))),O=({moduleName:e})=>o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(h.EuiLoadingSpinner,null)},o.a.createElement(A,{moduleName:e}));var R=n(28),y=n(27),v=n(22),N=n(45);const S=({views:e,initialIsOpen:t=!1})=>{const{application:n}=Object(f.Qb)();return o.a.createElement(h.EuiAccordion,{initialIsOpen:t,buttonContent:o.a.createElement(h.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s",responsive:!1},o.a.createElement(h.EuiFlexItem,{grow:!1},o.a.createElement(h.EuiText,{size:"m"},o.a.createElement("h3",null,N.a.view))),o.a.createElement(h.EuiFlexItem,{grow:!1},o.a.createElement(h.EuiNotificationBadge,{color:"subdued",size:"m"},o.a.createElement("h3",null,e.length)))),id:"custom-assets"},o.a.createElement(o.a.Fragment,null,o.a.createElement(h.EuiSpacer,{size:"m"}),o.a.createElement(h.EuiSplitPanel.Outer,{hasBorder:!0,hasShadow:!1},e.map(((t,r)=>o.a.createElement(o.a.Fragment,null,o.a.createElement(h.EuiSplitPanel.Inner,{grow:!1,key:r},o.a.createElement(h.EuiText,{size:"m"},o.a.createElement("p",null,o.a.createElement(v.RedirectAppLinks,{application:n},o.a.createElement(h.EuiLink,{href:t.url},t.name)))),o.a.createElement(h.EuiSpacer,{size:"s"}),o.a.createElement(h.EuiText,{size:"s",color:"subdued"},o.a.createElement("p",null,t.description))),r+1<e.length&&o.a.createElement(h.EuiHorizontalRule,{margin:"none"})))))))},k=()=>{const{http:e}=Object(f.Qb)(),t=e.basePath.prepend("/app/logs/stream"),n=[{name:u.i18n.translate("xpack.fleet.assets.customLogs.name",{defaultMessage:"Logs"}),url:t,description:u.i18n.translate("xpack.fleet.assets.customLogs.description",{defaultMessage:"View Custom logs data in Logs app"})}];return o.a.createElement(S,{views:n,initialIsOpen:!0})},L=Object(i.lazy)((async()=>({default:k})));var $=n(20);class plugin_FleetPlugin{constructor(e){a()(this,"config",void 0),a()(this,"kibanaVersion",void 0),a()(this,"extensions",{}),a()(this,"experimentalFeatures",void 0),a()(this,"storage",new l.Storage(localStorage)),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=Object(d.parseExperimentalConfigValue)(this.config.enableExperimental||[]),this.kibanaVersion=e.env.packageInfo.version}setup(e,t){const r=this.config,a=this.kibanaVersion,i=this.extensions;return Object($.b)(t.customIntegrations),Object(g.U)(e.http),e.application.register({id:d.INTEGRATIONS_PLUGIN_ID,category:c.DEFAULT_APP_CATEGORIES.management,appRoute:"/app/integrations",title:u.i18n.translate("xpack.fleet.integrationsAppTitle",{defaultMessage:"Integrations"}),order:9019,euiIconType:"logoElastic",mount:async u=>{var s,c;const[l,d,p]=await e.getStartServices(),f=t.cloud&&d.cloud?{...t.cloud,...d.cloud}:void 0,g={...l,...d,storage:this.storage,cloud:f,authz:await p.authz},{renderApp:E,teardownIntegrations:_}=await Promise.all([n.e(0),n.e(3)]).then(n.bind(null,304)),h=null!==(s=null===(c=t.usageCollection)||void 0===c?void 0:c.components.ApplicationUsageTrackingProvider)&&void 0!==s?s:o.a.Fragment,m=E(g,u,r,a,i,h);return()=>{m(),_(g)}}}),e.application.register({id:d.PLUGIN_ID,category:c.DEFAULT_APP_CATEGORIES.management,title:u.i18n.translate("xpack.fleet.appTitle",{defaultMessage:"Fleet"}),order:9020,euiIconType:"logoElastic",appRoute:"/app/fleet",mount:async o=>{const[u,s,c]=await e.getStartServices(),l=t.cloud&&s.cloud?{...t.cloud,...s.cloud}:void 0,d={...u,...s,storage:this.storage,cloud:l,authz:await c.authz},{renderApp:p,teardownFleet:f}=await Promise.all([n.e(0),n.e(2)]).then(n.bind(null,303)),g=p(d,o,r,a,i);return()=>{g(),f(d)}}}),e.application.register({id:"ingestManager",category:c.DEFAULT_APP_CATEGORIES.management,navLinkStatus:c.AppNavLinkStatus.hidden,title:u.i18n.translate("xpack.fleet.oldAppTitle",{defaultMessage:"Ingest Manager"}),async mount(t){const[n]=await e.getStartServices();return n.application.navigateToApp("fleet",{path:t.history.location.hash}),()=>{}}}),t.home&&(t.home.tutorials.registerDirectoryHeaderLink(d.PLUGIN_ID,I),t.home.tutorials.registerModuleNotice(d.PLUGIN_ID,O),t.home.featureCatalogue.register({id:"fleet",title:u.i18n.translate("xpack.fleet.featureCatalogueTitle",{defaultMessage:"Add Elastic Agent integrations"}),description:u.i18n.translate("xpack.fleet.featureCatalogueDescription",{defaultMessage:"Add and manage integrations with Elastic Agent"}),icon:"indexManagementApp",showOnHomePage:!0,path:p.l,category:"data",order:510})),t.globalSearch&&t.globalSearch.registerResultProvider((e=>{const t=Object(E.from)(e.getStartServices()).pipe(Object(_.map)((([e])=>e)),Object(_.shareReplay)(1));let n;return{id:"integrations",getSearchableTypes:()=>[m],find:({term:e,types:r},{maxResults:a,aborted$:i})=>{if(!1===(null==r?void 0:r.includes(m)))return Object(E.of)([]);const o=Boolean(r)&&r.includes(m),u=!e,s=o&&u;return!s&&u?Object(E.of)([]):(e&&(e=e.toLowerCase()),Object(E.combineLatest)([t,(n||(n=Object(E.from)(Object(f.F)()).pipe(Object(_.map)((({error:e,data:t})=>{var n;if(e)throw e;return null!==(n=null==t?void 0:t.response)&&void 0!==n?n:[]})),Object(_.shareReplay)(1))),n)]).pipe(Object(_.takeUntil)(i),Object(_.map)((([t,n])=>n?((t,n)=>n.flatMap(s?e=>b(e,t.application,t.http.basePath):n=>e&&n.title.toLowerCase().includes(e)?b(n,t.application,t.http.basePath):[]).slice(0,a))(t,n):[]))))}}})(e)),{}}start(e,t){y.a.init(this.experimentalFeatures);const n=Object(R.a)(this.extensions),r=Object(s.once)((()=>e.http.get(d.appRoutesService.getCheckPermissionsPath())));f.i.start(t.licensing.license$),n({package:p.e,view:"package-detail-assets",Component:L});const{capabilities:a}=e.application;return{authz:Object(d.calculateAuthz)({fleet:{all:a.fleetv2.all,setup:!1},integrations:{all:a.fleet.all,read:a.fleet.read},isSuperuser:!1}),isInitialized:Object(s.once)((async()=>{const t=await r();if(null!=t&&t.success){const{isInitialized:t}=await e.http.post(d.setupRouteService.getSetupPath());if(!t)throw new Error("Unknown setup error");return!0}throw new Error((null==t?void 0:t.error)||"Unknown permissions error")})),registerExtension:n}}stop(){}}n(25),n(26);var j=n(2);const C=e=>new plugin_FleetPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/cloud/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/infra/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);