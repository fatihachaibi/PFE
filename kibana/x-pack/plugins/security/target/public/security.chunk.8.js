/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.security_bundle_jsonpfunction=window.security_bundle_jsonpfunction||[]).push([[8],{188:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(189);case"v8light":return i(191)}},189:function(e,t,i){var o=i(22),s=i(190);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);o(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},190:function(e,t,i){var o=i(23),s=i(52),n=i(55),a=i(56);t=o(!1);var r=s(n),l=s(a);t.push([e.i,".loginWelcome{position:fixed;top:0;left:0;right:0;bottom:0;z-index:10000;background:inherit;background-color:#141519;opacity:0;overflow:auto;animation:kibanaFullScreenGraphics_FadeIn 500ms cubic-bezier(0.694, 0.0482, 0.335, 1) 0s forwards}.kbnBody--hasHeaderBanner .loginWelcome{top:32px}.loginWelcome::before{position:fixed;top:0;left:0;z-index:1;width:310px;height:477px;content:url("+r+")}.loginWelcome::after{position:fixed;bottom:0;right:0;z-index:1;width:313px;height:461px;content:url("+l+")}@keyframes kibanaFullScreenGraphics_FadeIn{from{opacity:0}to{opacity:1}}.loginWelcome__header{position:relative;padding:32px;z-index:10}.loginWelcome__logo{display:inline-block;width:80px;height:80px;line-height:80px;text-align:center;background-color:#1D1E24;border-radius:100%;padding:16px;box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.2),0 2.6px 8px -1px rgba(0,0,0,0.15),0 5.7px 12px -1px rgba(0,0,0,0.125),0 15px 15px -1px rgba(0,0,0,0.1);margin-bottom:32px}.loginWelcome__logo .euiIcon{vertical-align:baseline}.loginWelcome__content{position:relative;margin:auto;max-width:460px;padding-left:32px;padding-right:32px;z-index:10}.loginWelcome__content.loginWelcome__contentDisabledForm{max-width:700px}\n",""]),e.exports=t},191:function(e,t,i){var o=i(22),s=i(192);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);o(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},192:function(e,t,i){var o=i(23),s=i(52),n=i(57),a=i(58);t=o(!1);var r=s(n),l=s(a);t.push([e.i,".loginWelcome{position:fixed;top:0;left:0;right:0;bottom:0;z-index:10000;background:inherit;background-color:#fafbfd;opacity:0;overflow:auto;animation:kibanaFullScreenGraphics_FadeIn 500ms cubic-bezier(0.694, 0.0482, 0.335, 1) 0s forwards}.kbnBody--hasHeaderBanner .loginWelcome{top:32px}.loginWelcome::before{position:fixed;top:0;left:0;z-index:1;width:310px;height:477px;content:url("+r+")}.loginWelcome::after{position:fixed;bottom:0;right:0;z-index:1;width:313px;height:461px;content:url("+l+")}@keyframes kibanaFullScreenGraphics_FadeIn{from{opacity:0}to{opacity:1}}.loginWelcome__header{position:relative;padding:32px;z-index:10}.loginWelcome__logo{display:inline-block;width:80px;height:80px;line-height:80px;text-align:center;background-color:#fff;border-radius:100%;padding:16px;box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.08),0 2.6px 8px -1px rgba(0,0,0,0.06),0 5.7px 12px -1px rgba(0,0,0,0.05),0 15px 15px -1px rgba(0,0,0,0.04);margin-bottom:32px}.loginWelcome__logo .euiIcon{vertical-align:baseline}.loginWelcome__content{position:relative;margin:auto;max-width:460px;padding-left:32px;padding-right:32px;z-index:10}.loginWelcome__content.loginWelcome__contentDisabledForm{max-width:700px}\n",""]),e.exports=t},193:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(194);case"v8light":return i(196)}},194:function(e,t,i){var o=i(22),s=i(195);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);o(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},195:function(e,t,i){(t=i(23)(!1)).push([e.i,".secLoginCard{display:block;box-shadow:none;padding:16px;text-align:left;width:100%}.secLoginCard:hover .secLoginCard__title{text-decoration:underline}.secLoginCard:disabled{pointer-events:none}.secLoginCard:not(.secLoginCard-isLoading):disabled .secLoginCard__title,.secLoginCard:not(.secLoginCard-isLoading):disabled .secLoginCard__hint{color:#535966}.secLoginCard:focus{outline:2px solid currentColor;border-color:transparent;border-radius:6px}.secLoginCard:focus:focus-visible{outline-style:auto}.secLoginCard:focus:not(:focus-visible){outline:none}.secLoginCard:focus .secLoginCard__title{text-decoration:underline}.secLoginCard:focus+.secLoginCard{border-color:transparent}.secLoginCard+.secLoginCard{border-top:1px solid #343741}.secLoginCard__hint{font-size:12px;font-size:.85714rem;line-height:1.14286rem;color:#98A2B3;margin-top:4px}.secLoginAssistanceMessage{margin-top:-48px;padding:0 16px}\n",""]),e.exports=t},196:function(e,t,i){var o=i(22),s=i(197);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);o(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},197:function(e,t,i){(t=i(23)(!1)).push([e.i,".secLoginCard{display:block;box-shadow:none;padding:16px;text-align:left;width:100%}.secLoginCard:hover .secLoginCard__title{text-decoration:underline}.secLoginCard:disabled{pointer-events:none}.secLoginCard:not(.secLoginCard-isLoading):disabled .secLoginCard__title,.secLoginCard:not(.secLoginCard-isLoading):disabled .secLoginCard__hint{color:#98A2B3}.secLoginCard:focus{outline:2px solid currentColor;border-color:transparent;border-radius:6px}.secLoginCard:focus:focus-visible{outline-style:auto}.secLoginCard:focus:not(:focus-visible){outline:none}.secLoginCard:focus .secLoginCard__title{text-decoration:underline}.secLoginCard:focus+.secLoginCard{border-color:transparent}.secLoginCard+.secLoginCard{border-top:1px solid #D3DAE6}.secLoginCard__hint{font-size:12px;font-size:.85714rem;line-height:1.14286rem;color:#69707D;margin-top:4px}.secLoginAssistanceMessage{margin-top:-48px;padding:0 16px}\n",""]),e.exports=t},242:function(e,t,i){"use strict";i.r(t),i.d(t,"LoginPage",(function(){return login_page_LoginPage})),i.d(t,"renderLoginPage",(function(){return C}));var o=i(1),s=i.n(o),n=(i(188),i(4)),a=i(44),r=i.n(a),l=i(3),c=i(8),d=i.n(c),g=i(12),u=i(2),p=i(9),x=i(7),h=i(10),m=i(24),b=i.n(m),j=(i(193),i(87)),f=i.n(j);class validate_login_LoginValidator{constructor(e={}){s()(this,"shouldValidate",void 0),this.shouldValidate=e.shouldValidate}enableValidation(){this.shouldValidate=!0}disableValidation(){this.shouldValidate=!1}validateUsername(e){return this.shouldValidate?e?{isInvalid:!1}:L(u.i18n.translate("xpack.security.authentication.login.validateLogin.requiredUsernameErrorMessage",{defaultMessage:"Username is required"})):{isInvalid:!1}}validatePassword(e){return this.shouldValidate?e?{isInvalid:!1}:L(u.i18n.translate("xpack.security.authentication.login.validateLogin.requiredPasswordErrorMessage",{defaultMessage:"Password is required"})):{isInvalid:!1}}validateForLogin(e,t){const{isInvalid:i}=this.validateUsername(e),{isInvalid:o}=this.validatePassword(t);return i||o?L():{isInvalid:!1}}}function L(e){return{isInvalid:!0,error:e}}var v,y=i(0);let w,O;!function(e){e[e.None=0]="None",e[e.Form=1]="Form",e[e.Selector=2]="Selector",e[e.AutoLogin=3]="AutoLogin"}(v||(v={})),function(e){e[e.None=0]="None",e[e.Info=1]="Info",e[e.Danger=2]="Danger"}(w||(w={})),function(e){e[e.Selector=0]="Selector",e[e.Form=1]="Form",e[e.LoginHelp=2]="LoginHelp"}(O||(O={}));class login_form_LoginForm extends l.Component{constructor(e){var t;super(e),s()(this,"validator",void 0),s()(this,"suggestedProvider",void 0),s()(this,"renderLoginAssistanceMessage",(()=>this.props.loginAssistanceMessage?Object(y.jsx)("div",{"data-test-subj":"loginAssistanceMessage",className:"secLoginAssistanceMessage"},Object(y.jsx)(n.EuiHorizontalRule,{size:"half"}),Object(y.jsx)(n.EuiText,{size:"xs"},Object(y.jsx)(f.a,null,this.props.loginAssistanceMessage))):null)),s()(this,"renderMessage",(()=>{const{message:e}=this.state;return e.type===w.Danger?Object(y.jsx)(l.Fragment,null,Object(y.jsx)(n.EuiCallOut,{size:"s",color:"danger","data-test-subj":"loginErrorMessage",title:e.content,role:"alert"}),Object(y.jsx)(n.EuiSpacer,{size:"l"})):e.type===w.Info?Object(y.jsx)(l.Fragment,null,Object(y.jsx)(n.EuiCallOut,{size:"s",color:"primary","data-test-subj":"loginInfoMessage",title:e.content,role:"status"}),Object(y.jsx)(n.EuiSpacer,{size:"l"})):null})),s()(this,"renderLoginForm",(()=>{const e=this.showLoginSelector()?Object(y.jsx)(n.EuiFlexItem,{grow:!1},Object(y.jsx)(n.EuiButtonEmpty,{"data-test-subj":"loginBackToSelector",size:"xs",onClick:()=>this.onPageModeChange(O.Selector)},Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.loginSelectorLinkText",defaultMessage:"More login options"}))):null;return Object(y.jsx)(n.EuiPanel,{"data-test-subj":"loginForm"},Object(y.jsx)("form",{onSubmit:this.submitLoginForm},Object(y.jsx)(n.EuiFormRow,b()({label:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.login.basicLoginForm.usernameFormRowLabel",defaultMessage:"Username"})},this.validator.validateUsername(this.state.username)),Object(y.jsx)(n.EuiFieldText,{autoComplete:"off",id:"username",name:"username","data-test-subj":"loginUsername",value:this.state.username,onChange:this.onUsernameChange,disabled:!this.isLoadingState(v.None),isInvalid:!1,"aria-required":!0,inputRef:this.setUsernameInputRef})),Object(y.jsx)(n.EuiFormRow,b()({label:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.login.basicLoginForm.passwordFormRowLabel",defaultMessage:"Password"})},this.validator.validatePassword(this.state.password)),Object(y.jsx)(n.EuiFieldPassword,{autoComplete:"off",id:"password",name:"password","data-test-subj":"loginPassword",type:"dual",value:this.state.password,onChange:this.onPasswordChange,disabled:!this.isLoadingState(v.None),isInvalid:!1,"aria-required":!0})),Object(y.jsx)(n.EuiSpacer,null),Object(y.jsx)(n.EuiFlexGroup,{responsive:!1,alignItems:"center",gutterSize:"s"},Object(y.jsx)(n.EuiFlexItem,{grow:!1},Object(y.jsx)(n.EuiButton,{fill:!0,type:"submit",color:"primary",onClick:this.submitLoginForm,isDisabled:!this.isLoadingState(v.None),isLoading:this.isLoadingState(v.Form),"data-test-subj":"loginSubmit"},Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.login.basicLoginForm.logInButtonLabel",defaultMessage:"Log in"}))),e)))})),s()(this,"renderSelector",(()=>{const e=this.props.selector.providers.filter((e=>e.showInSelector));return Object(y.jsx)(n.EuiPanel,{"data-test-subj":"loginSelector",paddingSize:"none"},e.map((e=>{var t;return Object(y.jsx)("button",{key:e.name,"data-test-subj":`loginCard-${e.type}/${e.name}`,disabled:!this.isLoadingState(v.None),onClick:()=>e.usesLoginForm?this.onPageModeChange(O.Form):this.loginWithSelector({provider:e}),className:"secLoginCard "+(this.isLoadingState(v.Selector,e.name)?"secLoginCard-isLoading":"")},Object(y.jsx)(n.EuiFlexGroup,{alignItems:"center",gutterSize:"m",responsive:!1},Object(y.jsx)(n.EuiFlexItem,{grow:!1},Object(y.jsx)(n.EuiIcon,{size:"xl",type:e.icon?e.icon:"empty"})),Object(y.jsx)(n.EuiFlexItem,null,Object(y.jsx)(n.EuiTitle,{size:"xs",className:"secLoginCard__title"},Object(y.jsx)("p",null,null!==(t=e.description)&&void 0!==t?t:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.loginProviderDescription",defaultMessage:"Log in with {providerType}/{providerName}",values:{providerType:e.type,providerName:e.name}}))),e.hint?Object(y.jsx)("p",{className:"secLoginCard__hint"},e.hint):null),this.isLoadingState(v.Selector,e.name)?Object(y.jsx)(n.EuiFlexItem,{grow:!1},Object(y.jsx)(n.EuiLoadingSpinner,{size:"m"})):null))})))})),s()(this,"renderLoginHelp",(()=>Object(y.jsx)(n.EuiPanel,{"data-test-subj":"loginHelp"},Object(y.jsx)(n.EuiText,null,Object(y.jsx)(f.a,null,this.props.loginHelp||""))))),s()(this,"renderPageModeSwitchLink",(()=>this.state.mode===O.LoginHelp?Object(y.jsx)(l.Fragment,null,Object(y.jsx)(n.EuiSpacer,null),Object(y.jsx)(n.EuiText,{size:"xs",className:"eui-textCenter"},Object(y.jsx)(n.EuiLink,{"data-test-subj":"loginBackToLoginLink",onClick:()=>this.onPageModeChange(this.state.previousMode)},Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.goBackToLoginLink",defaultMessage:"Take me back to Login"})))):this.props.loginHelp?Object(y.jsx)(l.Fragment,null,Object(y.jsx)(n.EuiSpacer,null),Object(y.jsx)(n.EuiText,{size:"xs",className:"eui-textCenter"},Object(y.jsx)(n.EuiLink,{"data-test-subj":"loginHelpLink",onClick:()=>this.onPageModeChange(O.LoginHelp)},Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.loginHelpLinkText",defaultMessage:"Need help?"})))):null)),s()(this,"renderAutoLoginOverlay",(()=>Object(y.jsx)(n.EuiFlexGroup,{"data-test-subj":"autoLoginOverlay",alignItems:"center",justifyContent:"center",gutterSize:"m",responsive:!1},Object(y.jsx)(n.EuiFlexItem,{grow:!1},Object(y.jsx)(n.EuiLoadingSpinner,{size:"l"})),Object(y.jsx)(n.EuiFlexItem,{grow:!1},Object(y.jsx)(n.EuiText,{size:"m",className:"eui-textCenter"},Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.autoLoginAuthenticatingLabel",defaultMessage:"Authenticatingâ€¦"})))))),s()(this,"onPageModeChange",(e=>{this.setState({message:{type:w.None},mode:e,previousMode:this.state.mode})})),s()(this,"onUsernameChange",(e=>{this.setState({username:e.target.value})})),s()(this,"onPasswordChange",(e=>{this.setState({password:e.target.value})})),s()(this,"submitLoginForm",(async e=>{e.preventDefault(),this.validator.enableValidation();const{username:t,password:i}=this.state;if(this.validator.validateForLogin(t,i).isInvalid)return this.forceUpdate();this.setState({loadingState:{type:v.Form},message:{type:w.None}});const o=this.props.selector.providers.find((e=>e.usesLoginForm));try{const{location:e}=await this.props.http.post("/internal/security/login",{body:JSON.stringify({providerType:o.type,providerName:o.name,currentURL:window.location.href,params:{username:t,password:i}})});window.location.href=e}catch(e){var s;const t=401===(null===(s=e.response)||void 0===s?void 0:s.status)?u.i18n.translate("xpack.security.login.basicLoginForm.usernameOrPasswordIsIncorrectErrorMessage",{defaultMessage:"Username or password is incorrect. Please try again."}):u.i18n.translate("xpack.security.login.basicLoginForm.unknownErrorMessage",{defaultMessage:"We couldn't log you in. Please try again."});this.setState({message:{type:w.Danger,content:t},loadingState:{type:v.None}})}})),s()(this,"loginWithSelector",(async({provider:{type:e,name:t},autoLogin:i})=>{this.setState({loadingState:i?{type:v.AutoLogin}:{type:v.Selector,providerName:t},message:{type:w.None}});try{const{location:i}=await this.props.http.post("/internal/security/login",{body:JSON.stringify({providerType:e,providerName:t,currentURL:window.location.href})});window.location.href=i}catch(e){var o,s;this.props.notifications.toasts.addError(null!=e&&null!==(o=e.body)&&void 0!==o&&o.message?new Error(null==e||null===(s=e.body)||void 0===s?void 0:s.message):e,{title:u.i18n.translate("xpack.security.loginPage.loginSelectorErrorMessage",{defaultMessage:"Could not perform login."}),toastMessage:null==e?void 0:e.message}),this.setState({loadingState:{type:v.None}})}})),this.validator=new validate_login_LoginValidator({shouldValidate:!1}),this.suggestedProvider=this.props.authProviderHint?this.props.selector.providers.find((({name:e})=>e===this.props.authProviderHint)):void 0;const i=!this.showLoginSelector()||null!==(t=this.suggestedProvider)&&void 0!==t&&t.usesLoginForm?O.Form:O.Selector;this.state={loadingState:{type:v.None},username:"",password:"",message:this.props.message||{type:w.None},mode:i,previousMode:i}}async componentDidMount(){var e;!1===(null===(e=this.suggestedProvider)||void 0===e?void 0:e.usesLoginForm)&&await this.loginWithSelector({provider:this.suggestedProvider,autoLogin:!0})}render(){return this.isLoadingState(v.AutoLogin)?this.renderAutoLoginOverlay():Object(y.jsx)(l.Fragment,null,this.renderLoginAssistanceMessage(),this.renderMessage(),this.renderContent(),this.renderPageModeSwitchLink())}renderContent(){switch(this.state.mode){case O.Form:return this.renderLoginForm();case O.Selector:return this.renderSelector();case O.LoginHelp:return this.renderLoginHelp()}}setUsernameInputRef(e){e&&e.focus()}isLoadingState(e,t){const{loadingState:i}=this.state;return i.type===e&&(i.type!==v.Selector||i.providerName===t)}showLoginSelector(){return this.props.selector.enabled&&this.props.selector.providers.some((e=>!e.usesLoginForm&&e.showInSelector))}}const _=e=>Object(y.jsx)(n.EuiPanel,null,Object(y.jsx)(n.EuiText,{color:"danger",style:{textAlign:"center"}},Object(y.jsx)("p",null,e.title)),Object(y.jsx)(n.EuiText,{style:{textAlign:"center"}},Object(y.jsx)("p",null,e.message))),M={SESSION_EXPIRED:{type:w.Info,content:u.i18n.translate("xpack.security.login.sessionExpiredDescription",{defaultMessage:"Your session has timed out. Please log in again."})},AUTHENTICATION_ERROR:{type:w.Info,content:u.i18n.translate("xpack.security.login.authenticationErrorDescription",{defaultMessage:"An unexpected authentication error occurred. Please log in again."})},LOGGED_OUT:{type:w.Info,content:u.i18n.translate("xpack.security.login.loggedOutDescription",{defaultMessage:"You have logged out of Elastic."})},UNAUTHENTICATED:{type:w.Danger,content:u.i18n.translate("xpack.security.unauthenticated.errorDescription",{defaultMessage:"We hit an authentication error. Please check your credentials and try again. If you still can't log in, contact your system administrator."})}};class login_page_LoginPage extends l.Component{constructor(...e){super(...e),s()(this,"state",{loginState:null}),s()(this,"getLoginForm",(({layout:e,requiresSecureConnection:t,isSecureConnection:i,isCookiesEnabled:o,selector:s,loginHelp:a})=>{if(0===s.providers.length)return Object(y.jsx)(_,{title:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.noLoginMethodsAvailableTitle",defaultMessage:"Login is disabled."}),message:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.noLoginMethodsAvailableMessage",defaultMessage:"Contact your system administrator."})});if(t&&!i)return Object(y.jsx)(_,{title:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.requiresSecureConnectionTitle",defaultMessage:"A secure connection is required for log in"}),message:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.requiresSecureConnectionMessage",defaultMessage:"Contact your system administrator."})});if(!o)return function(){try{return window.self!==window.top}catch(e){return!0}}()?Object(y.jsx)("div",{style:{maxWidth:"36em",margin:"auto",textAlign:"center"}},Object(y.jsx)(n.EuiText,{color:"subdued"},Object(y.jsx)("p",null,"None"!==this.props.sameSiteCookies?Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.openInNewWindowOrChangeKibanaConfigTitle",defaultMessage:"To view this content, open it in a new window or ask your administrator to allow cross-origin cookies."}):Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.openInNewWindowOrChangeBrowserSettingsTitle",defaultMessage:"To view this content, open it in a new window or adjust your browser settings to allow third-party cookies."}))),Object(y.jsx)(n.EuiSpacer,null),Object(y.jsx)(n.EuiButton,{href:window.location.href,target:"_blank",iconType:"popout",iconSide:"right",fill:!0},Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.openInNewWindowButton",defaultMessage:"Open in new window"}))):Object(y.jsx)(_,{title:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.requiresCookiesTitle",defaultMessage:"Cookies are required to log in to Elastic"}),message:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.requiresCookiesMessage",defaultMessage:"Enable cookies in your browser settings to continue."})});if("error-es-unavailable"===e)return Object(y.jsx)(_,{title:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.esUnavailableTitle",defaultMessage:"Cannot connect to the Elasticsearch cluster"}),message:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.esUnavailableMessage",defaultMessage:"See the Kibana logs for details and try reloading the page."})});if("error-xpack-unavailable"===e)return Object(y.jsx)(_,{title:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.xpackUnavailableTitle",defaultMessage:"Cannot connect to the Elasticsearch cluster currently configured for Kibana."}),message:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.xpackUnavailableMessage",defaultMessage:"To use the full set of free features in this distribution of Kibana, please update Elasticsearch to the default distribution."})});if("form"!==e)return Object(y.jsx)(_,{title:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.unknownLayoutTitle",defaultMessage:"Unsupported login form layout."}),message:Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.unknownLayoutMessage",defaultMessage:"See the Kibana logs for details and try reloading the page."})});const{searchParams:r}=new URL(window.location.href);return Object(y.jsx)(login_form_LoginForm,{http:this.props.http,notifications:this.props.notifications,selector:s,message:M[r.get(h.e)],loginAssistanceMessage:this.props.loginAssistanceMessage,loginHelp:a,authProviderHint:r.get(h.b)||void 0})}))}async componentDidMount(){const e=new g.BehaviorSubject(1);this.props.http.addLoadingCountSource(e.asObservable());try{this.setState({loginState:await this.props.http.get("/internal/security/login_state")})}catch(e){this.props.fatalErrors.add(e)}e.next(0),e.complete()}render(){const e=this.state.loginState;if(!e)return null;const t=!!window.location.protocol.match(/^https/),i=window.navigator.cookieEnabled,{allowLogin:o,layout:s,requiresSecureConnection:a}=e,l=!(a&&!t||!i)&&o&&"form"===s,c=r()("loginWelcome__content","eui-textCenter",{loginWelcome__contentDisabledForm:!l}),d=r()("loginWelcome__content","loginWelcome-body",{loginWelcome__contentDisabledForm:!l});return Object(y.jsx)("div",{className:"loginWelcome login-form"},Object(y.jsx)("header",{className:"loginWelcome__header"},Object(y.jsx)("div",{className:c},Object(y.jsx)(n.EuiSpacer,{size:"xxl"}),Object(y.jsx)("span",{className:"loginWelcome__logo"},Object(y.jsx)(n.EuiIcon,{type:"logoElastic",size:"xxl"})),Object(y.jsx)(n.EuiTitle,{size:"m",className:"loginWelcome__title"},Object(y.jsx)("h1",null,Object(y.jsx)(p.FormattedMessage,{id:"xpack.security.loginPage.welcomeTitle",defaultMessage:"Welcome to Elastic"}))),Object(y.jsx)(n.EuiSpacer,{size:"xl"}))),Object(y.jsx)("div",{className:d},Object(y.jsx)(n.EuiFlexGroup,{gutterSize:"l"},Object(y.jsx)(n.EuiFlexItem,null,this.getLoginForm({...e,isSecureConnection:t,isCookiesEnabled:i})))))}}function C(e,{element:t,theme$:i},o){return d.a.render(Object(y.jsx)(e.Context,null,Object(y.jsx)(x.KibanaThemeProvider,{theme$:i},Object(y.jsx)(login_page_LoginPage,o))),t),()=>d.a.unmountComponentAtNode(t)}}}]);