/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.crossClusterReplication_bundle_jsonpfunction=window.crossClusterReplication_bundle_jsonpfunction||[]).push([[1],Array(27).concat([function(e,t,s){e.exports=s(18)(2)},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0;var r=o(s(45));t.Provider=r.default;var a=o(s(37));t.connectAdvanced=a.default;var n=s(31);t.ReactReduxContext=n.ReactReduxContext;var l=o(s(49));t.connect=l.default;var i=s(57);t.useDispatch=i.useDispatch,t.createDispatchHook=i.createDispatchHook;var c=s(58);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var u=s(43);t.useStore=u.useStore,t.createStoreHook=u.createStoreHook;var d=s(36),p=s(59);t.batch=p.unstable_batchedUpdates;var x=o(s(39));t.shallowEqual=x.default,(0,d.setBatch)(p.unstable_batchedUpdates)},function(e,t,s){e.exports=s(18)(3)},function(e,t,s){e.exports=s(18)(2565)},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var r=o(s(14)).default.createContext(null);t.ReactReduxContext=r;var a=r;t.default=a},function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var o=s(36),r={notify:function(){}},a=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=r,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,s;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,o.getBatch)(),t=null,s=null,{clear:function(){t=null,s=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],s=t;s;)e.push(s),s=s.next;return e},subscribe:function(e){var o=!0,r=s={callback:e,next:null,prev:s};return r.prev?r.prev.next=r:t=r,function(){o&&null!==t&&(o=!1,r.next?r.next.prev=r.prev:s=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=r)},e}();t.default=a},function(e,t,s){e.exports=s(18)(1242)},function(e,t,s){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(s(51));function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var n="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=i,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return function(){var s=e.apply(void 0,arguments),o=function(){throw new Error(a(15))},n={getState:s.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map((function(e){return e(n)}));return o=d.apply(void 0,l)(s.dispatch),r.default(r.default({},s),{},{dispatch:o})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var s={};for(var o in e){var r=e[o];"function"==typeof r&&(s[o]=u(r,t))}return s},t.combineReducers=function(e){for(var t=Object.keys(e),s={},o=0;o<t.length;o++){var r=t[o];"function"==typeof e[r]&&(s[r]=e[r])}var n,l=Object.keys(s);try{!function(e){Object.keys(e).forEach((function(t){var s=e[t];if(void 0===s(void 0,{type:i.INIT}))throw new Error(a(12));if(void 0===s(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(s)}catch(e){n=e}return function(e,t){if(void 0===e&&(e={}),n)throw n;for(var o=!1,r={},i=0;i<l.length;i++){var c=l[i],u=s[c],d=e[c],p=u(d,t);if(void 0===p)throw t&&t.type,new Error(a(14));r[c]=p,o=o||p!==d}return(o=o||l.length!==Object.keys(e).length)?r:e}},t.compose=d,t.createStore=function e(t,s,o){var r;if("function"==typeof s&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof s&&void 0===o&&(o=s,s=void 0),void 0!==o){if("function"!=typeof o)throw new Error(a(1));return o(e)(t,s)}if("function"!=typeof t)throw new Error(a(2));var l=t,u=s,d=[],p=d,x=!1;function f(){p===d&&(p=d.slice())}function m(){if(x)throw new Error(a(3));return u}function j(e){if("function"!=typeof e)throw new Error(a(4));if(x)throw new Error(a(5));var t=!0;return f(),p.push(e),function(){if(t){if(x)throw new Error(a(6));t=!1,f();var s=p.indexOf(e);p.splice(s,1),d=null}}}function b(e){if(!c(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(x)throw new Error(a(9));try{x=!0,u=l(u,e)}finally{x=!1}for(var t=d=p,s=0;s<t.length;s++)(0,t[s])();return e}function g(e){if("function"!=typeof e)throw new Error(a(10));l=e,b({type:i.REPLACE})}function h(){var e,t=j;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function s(){e.next&&e.next(m())}return s(),{unsubscribe:t(s)}}})[n]=function(){return this},e}return b({type:i.INIT}),(r={dispatch:b,subscribe:j,getState:m,replaceReducer:g})[n]=h,r}},function(e,t,s){e.exports=s(18)(2566)},function(e,t,s){"use strict";t.__esModule=!0,t.getBatch=t.setBatch=void 0;var o=function(e){e()};t.setBatch=function(e){return o=e},t.getBatch=function(){return o}},function(e,t,s){"use strict";var o=s(35),r=s(30);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var s=t,o=s.getDisplayName,r=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,d=s.methodName,w=void 0===d?"connectAdvanced":d,O=s.renderCountProp,F=void 0===O?void 0:O,C=s.shouldHandleStateChanges,E=void 0===C||C,M=s.storeKey,I=void 0===M?"store":M,P=(s.withRef,s.forwardRef),R=void 0!==P&&P,v=s.context,y=void 0===v?p.ReactReduxContext:v,S=(0,n.default)(s,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),_=y;return function(t){var s=t.displayName||t.name||"Component",o=r(s),d=(0,a.default)({},S,{getDisplayName:r,methodName:w,renderCountProp:F,shouldHandleStateChanges:E,storeKey:I,displayName:o,wrappedComponentName:s,WrappedComponent:t}),p=S.pure,O=p?i.useMemo:function(e){return e()};function C(s){var o=(0,i.useMemo)((function(){var e=s.forwardedRef,t=(0,n.default)(s,["forwardedRef"]);return[s.context,e,t]}),[s]),r=o[0],l=o[1],p=o[2],w=(0,i.useMemo)((function(){return r&&r.Consumer&&(0,c.isContextConsumer)(i.default.createElement(r.Consumer,null))?r:_}),[r,_]),F=(0,i.useContext)(w),C=Boolean(s.store)&&Boolean(s.store.getState)&&Boolean(s.store.dispatch);Boolean(F)&&Boolean(F.store);var M=C?s.store:F.store,I=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,d)}(M)}),[M]),P=(0,i.useMemo)((function(){if(!E)return f;var e=new u.default(M,C?null:F.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[M,C,F]),R=P[0],v=P[1],y=(0,i.useMemo)((function(){return C?F:(0,a.default)({},F,{subscription:R})}),[C,F,R]),S=(0,i.useReducer)(m,x,h),T=S[0][0],L=S[1];if(T&&T.error)throw T.error;var k=(0,i.useRef)(),A=(0,i.useRef)(p),D=(0,i.useRef)(),N=(0,i.useRef)(!1),B=O((function(){return D.current&&p===A.current?D.current:I(M.getState(),p)}),[M,T,p]);j(b,[A,k,N,p,B,D,v]),j(g,[E,M,R,I,A,k,N,D,v,L],[M,R,I]);var q=(0,i.useMemo)((function(){return i.default.createElement(t,(0,a.default)({},B,{ref:l}))}),[l,t,B]);return(0,i.useMemo)((function(){return E?i.default.createElement(w.Provider,{value:y},q):q}),[w,q,y])}var M=p?i.default.memo(C):C;if(M.WrappedComponent=t,M.displayName=o,R){var P=i.default.forwardRef((function(e,t){return i.default.createElement(M,(0,a.default)({},e,{forwardedRef:t}))}));return P.displayName=o,P.WrappedComponent=t,(0,l.default)(P,t)}return(0,l.default)(M,t)}};var a=r(s(29)),n=r(s(33)),l=r(s(47)),i=o(s(14)),c=s(48),u=r(s(32)),d=s(38),p=s(31),x=[],f=[null,null];function m(e,t){var s=e[1];return[t.payload,s+1]}function j(e,t,s){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),s)}function b(e,t,s,o,r,a,n){e.current=o,t.current=r,s.current=!1,a.current&&(a.current=null,n())}function g(e,t,s,o,r,a,n,l,i,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,s,p=t.getState();try{e=o(p,r.current)}catch(e){s=e,d=e}s||(d=null),e===a.current?n.current||i():(a.current=e,l.current=e,n.current=!0,c({type:"STORE_UPDATED",payload:{error:s}}))}};return s.onStateChange=p,s.trySubscribe(),p(),function(){if(u=!0,s.tryUnsubscribe(),s.onStateChange=null,d)throw d}}}var h=function(){return[null,0]}},function(e,t,s){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var o=s(14),r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;t.useIsomorphicLayoutEffect=r},function(e,t,s){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(var a=0;a<s.length;a++)if(!Object.prototype.hasOwnProperty.call(t,s[a])||!o(e[s[a]],t[s[a]]))return!1;return!0}},function(e,t,s){"use strict";var o=s(30);function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,s){var o=e(t,s);function r(){return o}return r.dependsOnOwnProps=!1,r}},t.getDependsOnOwnProps=r,t.wrapMapToPropsFunc=function(e,t){return function(t,s){s.displayName;var o=function(e,t){return o.dependsOnOwnProps?o.mapToProps(e,t):o.mapToProps(e)};return o.dependsOnOwnProps=!0,o.mapToProps=function(t,s){o.mapToProps=e,o.dependsOnOwnProps=r(e);var a=o(t,s);return"function"==typeof a&&(o.mapToProps=a,o.dependsOnOwnProps=r(a),a=o(t,s)),a},o}},o(s(41))},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.default=function(e,t,s){(0,r.default)(e)||(0,a.default)(s+"() in "+t+" must return a plain object. Instead received "+e+".")};var r=o(s(52)),a=o(s(42))},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,s){"use strict";t.__esModule=!0,t.createStoreHook=n,t.useStore=void 0;var o=s(14),r=s(31),a=s(44);function n(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?a.useReduxContext:function(){return(0,o.useContext)(e)};return function(){return t().store}}var l=n();t.useStore=l},function(e,t,s){"use strict";t.__esModule=!0,t.useReduxContext=function(){return(0,o.useContext)(r.ReactReduxContext)};var o=s(14),r=s(31)},function(e,t,s){"use strict";var o=s(30),r=s(35);t.__esModule=!0,t.default=void 0;var a=r(s(14)),n=(o(s(46)),s(31)),l=o(s(32));t.default=function(e){var t=e.store,s=e.context,o=e.children,r=(0,a.useMemo)((function(){var e=new l.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=(0,a.useMemo)((function(){return t.getState()}),[t]);(0,a.useEffect)((function(){var e=r.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,i]);var c=s||n.ReactReduxContext;return a.default.createElement(c.Provider,{value:r},o)}},function(e,t,s){e.exports=s(18)(7)},function(e,t,s){e.exports=s(18)(237)},function(e,t,s){e.exports=s(18)(397)},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.createConnect=f,t.default=void 0;var r=o(s(29)),a=o(s(33)),n=o(s(37)),l=o(s(39)),i=o(s(50)),c=o(s(53)),u=o(s(54)),d=o(s(55));function p(e,t,s){for(var o=t.length-1;o>=0;o--){var r=t[o](e);if(r)return r}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+s+" argument when connecting component "+o.wrappedComponentName+".")}}function x(e,t){return e===t}function f(e){var t=void 0===e?{}:e,s=t.connectHOC,o=void 0===s?n.default:s,f=t.mapStateToPropsFactories,m=void 0===f?c.default:f,j=t.mapDispatchToPropsFactories,b=void 0===j?i.default:j,g=t.mergePropsFactories,h=void 0===g?u.default:g,w=t.selectorFactory,O=void 0===w?d.default:w;return function(e,t,s,n){void 0===n&&(n={});var i=n,c=i.pure,u=void 0===c||c,d=i.areStatesEqual,f=void 0===d?x:d,j=i.areOwnPropsEqual,g=void 0===j?l.default:j,w=i.areStatePropsEqual,F=void 0===w?l.default:w,C=i.areMergedPropsEqual,E=void 0===C?l.default:C,M=(0,a.default)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=p(e,m,"mapStateToProps"),P=p(t,b,"mapDispatchToProps"),R=p(s,h,"mergeProps");return o(O,(0,r.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:I,initMapDispatchToProps:P,initMergeProps:R,pure:u,areStatesEqual:f,areOwnPropsEqual:g,areStatePropsEqual:F,areMergedPropsEqual:E},M))}}var m=f();t.default=m},function(e,t,s){"use strict";t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=a,t.whenMapDispatchToPropsIsMissing=n,t.whenMapDispatchToPropsIsObject=l,t.default=void 0;var o=s(34),r=s(40);function a(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function n(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function l(e){return e&&"object"==typeof e?(0,r.wrapMapToPropsConstant)((function(t){return(0,o.bindActionCreators)(e,t)})):void 0}var i=[a,n,l];t.default=i},function(e,t,s){e.exports=s(18)(2567)},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var s=t;null!==Object.getPrototypeOf(s);)s=Object.getPrototypeOf(s);return t===s}},function(e,t,s){"use strict";t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=a,t.default=void 0;var o=s(40);function r(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function a(e){return e?void 0:(0,o.wrapMapToPropsConstant)((function(){return{}}))}var n=[r,a];t.default=n},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.defaultMergeProps=a,t.wrapMergePropsFunc=n,t.whenMergePropsIsFunction=l,t.whenMergePropsIsOmitted=i,t.default=void 0;var r=o(s(29));function a(e,t,s){return(0,r.default)({},s,{},e,{},t)}function n(e){return function(t,s){s.displayName;var o,r=s.pure,a=s.areMergedPropsEqual,n=!1;return function(t,s,l){var i=e(t,s,l);return n?r&&a(i,o)||(o=i):(n=!0,o=i),o}}}function l(e){return"function"==typeof e?n(e):void 0}function i(e){return e?void 0:function(){return a}}o(s(41));var c=[l,i];t.default=c},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=n,t.default=function(e,t){var s=t.initMapStateToProps,o=t.initMapDispatchToProps,l=t.initMergeProps,i=(0,r.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=s(e,i),u=o(e,i),d=l(e,i);return(i.pure?n:a)(c,u,d,e,i)};var r=o(s(33));function a(e,t,s,o){return function(r,a){return s(e(r,a),t(o,a),a)}}function n(e,t,s,o,r){var a,n,l,i,c,u=r.areStatesEqual,d=r.areOwnPropsEqual,p=r.areStatePropsEqual,x=!1;return function(r,f){return x?function(r,x){var f,m,j=!d(x,n),b=!u(r,a);return a=r,n=x,j&&b?(l=e(a,n),t.dependsOnOwnProps&&(i=t(o,n)),c=s(l,i,n)):j?(e.dependsOnOwnProps&&(l=e(a,n)),t.dependsOnOwnProps&&(i=t(o,n)),c=s(l,i,n)):b?(f=e(a,n),m=!p(f,l),l=f,m&&(c=s(l,i,n)),c):c}(r,f):(l=e(a=r,n=f),i=t(o,n),c=s(l,i,n),x=!0,c)}}o(s(56))},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.default=function(e,t,s,o){a(e,"mapStateToProps",o),a(t,"mapDispatchToProps",o),a(s,"mergeProps",o)};var r=o(s(42));function a(e,t,s){if(!e)throw new Error("Unexpected value for "+t+" in "+s+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,r.default)("The selector for "+t+" of "+s+" did not specify a value for dependsOnOwnProps.")}},function(e,t,s){"use strict";t.__esModule=!0,t.createDispatchHook=a,t.useDispatch=void 0;var o=s(31),r=s(43);function a(e){void 0===e&&(e=o.ReactReduxContext);var t=e===o.ReactReduxContext?r.useStore:(0,r.createStoreHook)(e);return function(){return t().dispatch}}var n=a();t.useDispatch=n},function(e,t,s){"use strict";var o=s(30);t.__esModule=!0,t.createSelectorHook=u,t.useSelector=void 0;var r=s(14),a=s(44),n=o(s(32)),l=s(38),i=s(31),c=function(e,t){return e===t};function u(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?a.useReduxContext:function(){return(0,r.useContext)(e)};return function(e,s){void 0===s&&(s=c);var o=t();return function(e,t,s,o){var a,i=(0,r.useReducer)((function(e){return e+1}),0)[1],c=(0,r.useMemo)((function(){return new n.default(s,o)}),[s,o]),u=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useRef)();try{a=e!==d.current||u.current?e(s.getState()):p.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return(0,l.useIsomorphicLayoutEffect)((function(){d.current=e,p.current=a,u.current=void 0})),(0,l.useIsomorphicLayoutEffect)((function(){function e(){try{var e=d.current(s.getState());if(t(e,p.current))return;p.current=e}catch(e){u.current=e}i({})}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[s,c]),a}(e,s,o.store,o.subscription)}}var d=u();t.useSelector=d},function(e,t,s){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var o=s(21);t.unstable_batchedUpdates=o.unstable_batchedUpdates},function(e,t,s){"use strict";const o=s(61),r=s(62),a=s(63);function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function i(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function x(e,t){n((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const s=function(e){let t;switch(e.arrayFormat){case"index":return(e,s,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=s):o[e]=s};case"bracket":return(e,s,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],s):o[e]=[s]:o[e]=s};case"comma":case"separator":return(t,s,o)=>{const r="string"==typeof s&&s.split("").indexOf(e.arrayFormatSeparator)>-1?s.split(e.arrayFormatSeparator).map((t=>i(t,e))):null===s?s:i(s,e);o[t]=r};default:return(e,t,s)=>{void 0!==s[e]?s[e]=[].concat(s[e],t):s[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const r of e.split("&")){let[e,n]=a(t.decode?r.replace(/\+/g," "):r,"=");n=void 0===n?null:["comma","separator"].includes(t.arrayFormat)?n:i(n,t),s(i(e,t),n,o)}for(const e of Object.keys(o)){const s=o[e];if("object"==typeof s&&null!==s)for(const e of Object.keys(s))s[e]=p(s[e],t);else o[e]=p(s,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const s=o[t];return Boolean(s)&&"object"==typeof s&&!Array.isArray(s)?e[t]=c(s):e[t]=s,e}),Object.create(null))}t.extract=d,t.parse=x,t.stringify=(e,t)=>{if(!e)return"";n((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const s=s=>t.skipNull&&null==e[s]||t.skipEmptyString&&""===e[s],o=function(e){switch(e.arrayFormat){case"index":return t=>(s,o)=>{const r=s.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?s:null===o?[...s,[l(t,e),"[",r,"]"].join("")]:[...s,[l(t,e),"[",l(r,e),"]=",l(o,e)].join("")]};case"bracket":return t=>(s,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?s:null===o?[...s,[l(t,e),"[]"].join("")]:[...s,[l(t,e),"[]=",l(o,e)].join("")];case"comma":case"separator":return t=>(s,o)=>null==o||0===o.length?s:0===s.length?[[l(t,e),"=",l(o,e)].join("")]:[[s,l(o,e)].join(e.arrayFormatSeparator)];default:return t=>(s,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?s:null===o?[...s,l(t,e)]:[...s,[l(t,e),"=",l(o,e)].join("")]}}(t),r={};for(const t of Object.keys(e))s(t)||(r[t]=e[t]);const a=Object.keys(r);return!1!==t.sort&&a.sort(t.sort),a.map((s=>{const r=e[s];return void 0===r?"":null===r?l(s,t):Array.isArray(r)?r.reduce(o(s),[]).join("&"):l(s,t)+"="+l(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[s,o]=a(e,"#");return Object.assign({url:s.split("?")[0]||"",query:x(d(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:i(o,t)}:{})},t.stringifyUrl=(e,s)=>{s=Object.assign({encode:!0,strict:!0},s);const o=u(e.url).split("?")[0]||"",r=t.extract(e.url),a=t.parse(r,{sort:!1}),n=Object.assign(a,e.query);let i=t.stringify(n,s);i&&(i=`?${i}`);let c=function(e){let t="";const s=e.indexOf("#");return-1!==s&&(t=e.slice(s)),t}(e.url);return e.fragmentIdentifier&&(c=`#${l(e.fragmentIdentifier,s)}`),`${o}${i}${c}`}},function(e,t,s){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,s){"use strict";var o="%[a-f0-9]{2}",r=new RegExp(o,"gi"),a=new RegExp("("+o+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var s=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],n(s),n(o))}function l(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),s=1;s<t.length;s++)t=(e=n(t,s).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},s=a.exec(e);s;){try{t[s[0]]=decodeURIComponent(s[0])}catch(e){var o=l(s[0]);o!==s[0]&&(t[s[0]]=o)}s=a.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}},function(e,t,s){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const s=e.indexOf(t);return-1===s?[e]:[e.slice(0,s),e.slice(s+t.length)]}},function(e,t,s){"use strict";function o(e,t){return e===t}function r(e,t,s){if(null===t||null===s||t.length!==s.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],s[r]))return!1;return!0}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,s=null,a=null;return function(){return r(t,s,arguments)||(a=e.apply(null,arguments)),s=arguments,a}}function n(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var s=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+s+"]")}return t}function l(e){for(var t=arguments.length,s=Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];var a=0,l=o.pop(),i=n(o),c=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(s)),u=e((function(){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=l,u.dependencies=i,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=l,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var s=Object.keys(e);return t(s.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce((function(e,t,o){return e[s[o]]=t,e}),{})}))};var i=t.createSelector=l(a)},function(e,t,s){e.exports=s(18)(3409)},function(e,t){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,s){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,s){"use strict";function o(e){return function(t){var s=t.dispatch,o=t.getState;return function(t){return function(r){return"function"==typeof r?r(s,o,e):t(r)}}}}t.__esModule=!0;var r=o();r.withExtraArgument=o,t.default=r},function(e,t,s){"use strict";s.r(t),s.d(t,"mountApp",(function(){return Jt}));var o=s(14),r=s.n(o),a=s(21),n=s(28),l=s(20),i=s(19),c=(s(22),s(4));let u;const d=e=>({text:c.i18n.translate("xpack.crossClusterReplication.homeBreadcrumbTitle",{defaultMessage:"Cross-Cluster Replication"}),href:e||"/"}),p={text:c.i18n.translate("xpack.crossClusterReplication.addBreadcrumbTitle",{defaultMessage:"Add"})},x={text:c.i18n.translate("xpack.crossClusterReplication.editBreadcrumbTitle",{defaultMessage:"Edit"})};let f;var m=s(23),j=s(17),b=s(16),g=s(8),h=s(27),w=s.n(h),O=s(60),F=s(0);const C=(e,t=!1)=>{if(e)return`?${Object(O.stringify)(e,{sort:!1,encode:t})}`},E=new class routing_Routing{constructor(){w()(this,"_reactRouter",null),w()(this,"getAutoFollowPatternPath",((e,t="/edit")=>encodeURI(`/auto_follow_patterns${t}/${encodeURIComponent(e)}`))),w()(this,"getFollowerIndexPath",((e,t="/edit")=>encodeURI(`/follower_indices${t}/${encodeURIComponent(e)}`)))}getHrefToRemoteClusters(e="/",t,s=!1){const o=C(t,s)||"";return this._reactRouter.getUrlForApp("management",{path:`${F.d}${e}${o}`})}navigate(e="/home",t,s=!1){const o=C(t,s);this._reactRouter.history.push({pathname:encodeURI(e),search:o})}get reactRouter(){return this._reactRouter}set reactRouter(e){this._reactRouter=e}};var M=s(7),I=s(1),P=s(64);const R=e=>Object.keys(e).map((t=>({...e[t],__id__:t}))),v=(e,t="id")=>e.reduce(((e,s)=>(e[s[t]]=s,e)),{}),y=e=>e.api,S=e=>Object(P.createSelector)(y,(t=>t.status[e]||I.a.IDLE)),_=e=>Object(P.createSelector)(y,(t=>t.error[e])),T=e=>Object(P.createSelector)(_(e),(e=>!e||403!==e.status)),L=Object(P.createSelector)((e=>e.stats),(e=>e.autoFollow)),k=e=>e.autoFollowPattern,A=Object(P.createSelector)(k,(e=>e.byId)),D=(e="detail")=>Object(P.createSelector)(k,(t=>"detail"===e?t.selectedDetailId:t.selectedEditId)),N=(e="detail")=>Object(P.createSelector)(k,L,((t,s)=>{const o="detail"===e?"selectedDetailId":"selectedEditId";if(!t[o])return null;const r=t[o],a=t.byId[r],n=s&&s.recentAutoFollowErrors[r]||[];return a?{...a,errors:n}:null})),B=Object(P.createSelector)(A,(e=>R(e))),q=e=>e.followerIndex,z=Object(P.createSelector)(q,(e=>e.byId)),U=(e="detail")=>Object(P.createSelector)(q,(t=>"detail"===e?t.selectedDetailId:t.selectedEditId)),W=(e="detail")=>Object(P.createSelector)(q,(t=>{const s="detail"===e?"selectedDetailId":"selectedEditId";return t[s]?t.byId[t[s]]:null})),V=Object(P.createSelector)(z,(e=>R(e))),$="API_REQUEST_START",G="API_REQUEST_END",H="API_ERROR_SET",Y="AUTO_FOLLOW_PATTERN_SELECT_DETAIL",X="AUTO_FOLLOW_PATTERN_SELECT_EDIT",K="AUTO_FOLLOW_PATTERN_LOAD",Q="AUTO_FOLLOW_PATTERN_GET",J="AUTO_FOLLOW_PATTERN_DELETE",Z="AUTO_FOLLOW_PATTERN_PAUSE",ee="AUTO_FOLLOW_PATTERN_RESUME",te="FOLLOWER_INDEX_SELECT_DETAIL",se="FOLLOWER_INDEX_SELECT_EDIT",oe="FOLLOWER_INDEX_LOAD",re="FOLLOWER_INDEX_GET",ae="FOLLOWER_INDEX_UNFOLLOW",ne="AUTO_FOLLOW_STATS_LOAD",le=({label:e,scope:t})=>({type:G,payload:{label:e,scope:t}}),ie=e=>({type:H,payload:{error:null,scope:e}}),ce=({label:e,scope:t,status:s,handler:o,onSuccess:r=(()=>{}),onError:a=(()=>{})})=>async(n,l)=>{n(ie(t)),n((({label:e,scope:t,status:s=I.a.LOADING})=>({type:$,payload:{label:e,scope:t,status:s}}))({label:e,scope:t,status:s}));try{const s=await o(n);n(le({label:e,scope:t})),n({type:`${e}_SUCCESS`,payload:s}),r(s,n,l)}catch(s){n(le({label:e,scope:t})),n((({error:e,scope:t})=>({type:H,payload:{error:e,scope:t}}))({error:s,scope:t})),n({type:`${e}_FAILURE`,payload:s}),a(s,n,l)}},{AUTO_FOLLOW_PATTERN:ue}=I.b,de=e=>({type:Y,payload:e}),pe=(e,t,s=!1)=>ce({label:s?"AUTO_FOLLOW_PATTERN_UPDATE":"AUTO_FOLLOW_PATTERN_CREATE",status:I.a.SAVING,scope:`${ue}-save`,handler:async()=>s?await Object(M.r)(e,t):await Object(M.a)({id:e,...t}),onSuccess(){const t=s?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.updateAction.successNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' updated successfully",values:{name:e}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.addAction.successNotificationTitle",{defaultMessage:"Added auto-follow pattern '{name}'",values:{name:e}});Object(g.b)().addSuccess(t),E.navigate("/auto_follow_patterns",{pattern:encodeURIComponent(e)})}}),xe=e=>ce({label:Z,scope:`${ue}-pause`,status:I.a.UPDATING,handler:()=>Object(M.l)(e),onSuccess:e=>{if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.errorMultipleNotificationTitle",{defaultMessage:"Error pausing {count} auto-follow patterns",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.errorSingleNotificationTitle",{defaultMessage:"Error pausing the '{name}' auto-follow pattern",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsPaused.length){const t=e.itemsPaused.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were paused",values:{count:e.itemsPaused.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was paused",values:{name:e.itemsPaused[0]}});Object(g.b)().addSuccess(t)}}}),fe=e=>ce({label:ee,scope:`${ue}-resume`,status:I.a.UPDATING,handler:()=>Object(M.n)(e),onSuccess:e=>{if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.errorMultipleNotificationTitle",{defaultMessage:"Error resuming {count} auto-follow patterns",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.errorSingleNotificationTitle",{defaultMessage:"Error resuming the '{name}' auto-follow pattern",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsResumed.length){const t=e.itemsResumed.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were resumed",values:{count:e.itemsResumed.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was resumed",values:{name:e.itemsResumed[0]}});Object(g.b)().addSuccess(t)}}}),{FOLLOWER_INDEX:me}=I.b,je=e=>({type:te,payload:e}),be=(e=!1)=>ce({label:oe,scope:me,status:e?I.a.UPDATING:I.a.LOADING,handler:async()=>await Object(M.h)(e)}),ge=(e,t,s=!1)=>ce({label:"FOLLOWER_INDEX_CREATE",status:I.a.SAVING,scope:`${me}-save`,handler:async()=>s?await Object(M.s)(e,t):await Object(M.b)({name:e,...t}),onSuccess(){const t=s?c.i18n.translate("xpack.crossClusterReplication.followerIndex.updateAction.successNotificationTitle",{defaultMessage:"Follower index '{name}' updated successfully",values:{name:e}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.addAction.successNotificationTitle",{defaultMessage:"Added follower index '{name}'",values:{name:e}});Object(g.b)().addSuccess(t),E.navigate("/follower_indices",{name:encodeURIComponent(e)})}}),{CCR_STATS:he}=I.b;var we=s(29),Oe=s.n(we),Fe=s(2),Ce=s(15);function Ee(e){var t;const{title:s,error:r,...a}=e,n=r.body?r.body:r,{error:l,attributes:i,message:c}=n;return Object(Ce.jsx)(b.EuiCallOut,Oe()({title:s,color:"danger",iconType:"alert"},a),Object(Ce.jsx)("div",null,c||l),(null==i||null===(t=i.error)||void 0===t?void 0:t.root_cause)&&Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),Object(Ce.jsx)("ul",null,i.error.root_cause.map((({type:e,reason:t},s)=>Object(Ce.jsx)("li",{key:s},e,": ",t))))))}class remote_clusters_provider_RemoteClustersProvider extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{isLoading:!0,error:null,remoteClusters:[]})}componentDidMount(){this.loadRemoteClusters()}loadRemoteClusters(){Object(M.k)().then((e=>e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)))).then((e=>{this.setState({isLoading:!1,remoteClusters:e})})).catch((e=>{this.setState({isLoading:!1,error:e})}))}render(){const{children:e}=this.props,{isLoading:t,error:s,remoteClusters:o}=this.state;return e({isLoading:t,error:s,remoteClusters:o})}}var Me=s(24);const Ie=(e,t)=>t&&e.some((e=>e.name===t))?t:(e=>{for(let t=0;t<e.length;t++)if(e[t].isConnected)return e[t];return e.length?e[0]:{}})(e).name;var Pe=s(25),Re=s.n(Pe);const ve=({prefix:e,suffix:t,leaderIndexPatterns:s})=>{const{indicesPreview:o}=(({prefix:e,suffix:t,leaderIndexPatterns:s,limit:o=5,wildcardPlaceHolders:r=[Re()().format("YYYY-MM-DD"),Re()().add(1,"days").format("YYYY-MM-DD"),Re()().add(2,"days").format("YYYY-MM-DD")]})=>{const a=[];let n,l;return s.forEach((s=>{r.forEach((o=>{l=s.replace(/\*/g,o),n=((e="",t="",s="{{leader_index}}")=>({followPattern:{prefix:e,suffix:t,template:s},toString:e+s+t}))(e,t,l),a.some((e=>n.toString===e.toString))||a.push(n)}))})),{indicesPreview:a.slice(0,o),hasMore:a.length>o}})({prefix:e,suffix:t,leaderIndexPatterns:s}),r=c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewTitle",{defaultMessage:"Index name examples"});return Object(Ce.jsx)(b.EuiCallOut,{title:r,iconType:"indexMapping","data-test-subj":"autoFollowPatternIndicesPreview"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewDescription",defaultMessage:"The above settings will generate index names that look like this:"}),Object(Ce.jsx)("ul",null,o.map((({followPattern:{prefix:e,suffix:t,template:s}},o)=>Object(Ce.jsx)("li",{key:o,"data-test-subj":"indexPreview"},e,Object(Ce.jsx)("strong",null,s),t)))))},ye={noClusterFound:()=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.emptyRemoteClustersCallOutDescription",defaultMessage:"You need at least one remote cluster to create a follower index."}),remoteClusterNotConnectedEditable:e=>({title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Remote cluster '{name}' is not connected",values:{name:e}}),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"Edit the remote cluster or select a cluster that is connected."})})};class remote_clusters_form_field_RemoteClustersFormField extends o.PureComponent{constructor(...e){super(...e),w()(this,"errorMessages",{...ye,...this.props.errorMessages}),w()(this,"onRemoteClusterChange",(e=>{const{onChange:t,onError:s}=this.props,{error:o}=this.validateRemoteCluster(e);t(e),s(o)})),w()(this,"renderNotEditable",(()=>{const{areErrorsVisible:e}=this.props,t=this.renderErrorMessage();return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiFieldText,{value:this.props.selected,fullWidth:!0,disabled:!0,isInvalid:e&&Boolean(t),"data-test-subj":"remoteClusterInput"}),e&&Boolean(t)?this.renderValidRemoteClusterRequired():null,t)})),w()(this,"renderValidRemoteClusterRequired",(()=>Object(Ce.jsx)(b.EuiFormErrorText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.validRemoteClusterRequired",defaultMessage:"A connected remote cluster is required."})))),w()(this,"renderDropdown",(()=>{const{remoteClusters:e,selected:t,currentUrl:s,areErrorsVisible:r}=this.props,a=Boolean(e.length),n=a?e.map((({name:e,isConnected:t})=>({value:e,text:t?e:c.i18n.translate("xpack.crossClusterReplication.remoteClustersFormField.remoteClusterDropdownNotConnected",{defaultMessage:"{name} (not connected)",values:{name:e}}),"data-test-subj":`option-${e}`}))):[],l=this.renderErrorMessage();return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiSelect,{fullWidth:!0,options:n,value:a?t:"",onChange:e=>{this.onRemoteClusterChange(e.target.value)},hasNoInitialSelection:!a,isInvalid:r&&Boolean(l),"data-test-subj":"remoteClusterSelect"}),r&&Boolean(l)?this.renderValidRemoteClusterRequired():null,l,Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)("div",null," ",Object(Ce.jsx)(b.EuiButtonEmpty,{href:E.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${s}`},!0),size:"s",iconType:"plusInCircle",flush:"left","data-test-subj":"addButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))})),w()(this,"renderNoClusterFound",(()=>{const{currentUrl:e}=this.props,t=c.i18n.translate("xpack.crossClusterReplication.remoteClustersFormField.emptyRemoteClustersCallOutTitle",{defaultMessage:"You don't have any remote clusters"});return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiCallOut,{title:t,color:"danger",iconType:"cross","data-test-subj":"noClusterFoundError"},Object(Ce.jsx)("p",null,this.errorMessages.noClusterFound()),Object(Ce.jsx)(b.EuiButton,{href:E.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${e}`},!0),iconType:"plusInCircle",color:"danger","data-test-subj":"addButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))})),w()(this,"renderCurrentRemoteClusterNotConnected",((e,t)=>{const{isEditable:s,currentUrl:o}=this.props,{remoteClusterNotConnectedEditable:r,remoteClusterNotConnectedNotEditable:a}=this.errorMessages,{title:n,description:l}=s?r(e):a(e);return Object(Ce.jsx)(b.EuiCallOut,{title:n,color:t?"danger":"warning",iconType:"cross","data-test-subj":"notConnectedError"},Object(Ce.jsx)("p",null,l),Object(Ce.jsx)(b.EuiButton,{href:E.getHrefToRemoteClusters(`/edit/${e}`,{redirect:`/data/cross_cluster_replication${o}`},!0),color:t?"danger":"warning","data-test-subj":"editButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.viewRemoteClusterButtonLabel",defaultMessage:"Edit remote cluster"})))})),w()(this,"renderRemoteClusterDoesNotExist",(e=>{const{currentUrl:t}=this.props,s=c.i18n.translate("xpack.crossClusterReplication.remoteClustersFormField.remoteClusterNotFoundTitle",{defaultMessage:"Couldn't find remote cluster '{name}'",values:{name:e}});return Object(Ce.jsx)(b.EuiCallOut,{title:s,color:"danger",iconType:"cross"},Object(Ce.jsx)("p",null,this.errorMessages.remoteClusterDoesNotExist(e)),Object(Ce.jsx)(b.EuiButton,{href:E.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${t}`},!0),iconType:"plusInCircle",color:"danger","data-test-subj":"addButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"})))})),w()(this,"renderErrorMessage",(()=>{const{selected:e,remoteClusters:t,isEditable:s}=this.props,r=t.find((t=>t.name===e)),a=r&&r.isConnected;let n;if(s){const s=Boolean(t.length);s&&!a?n=this.renderCurrentRemoteClusterNotConnected(e):s||(n=this.renderNoClusterFound())}else r?a||(n=this.renderCurrentRemoteClusterNotConnected(e,!0)):n=this.renderRemoteClusterDoesNotExist(e);return n?Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),n):null}))}componentDidMount(){const{selected:e,onError:t}=this.props,{error:s}=this.validateRemoteCluster(e);t(s)}validateRemoteCluster(e){const{remoteClusters:t}=this.props,s=t.find((t=>t.name===e));return s&&s.isConnected?{error:null}:{error:{message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.invalidRemoteClusterError",defaultMessage:"Invalid remote cluster"})}}}render(){const{remoteClusters:e,selected:t,isEditable:s,areErrorsVisible:o}=this.props,r=e.find((e=>e.name===t)),a=Boolean(e.length),n=r&&r.isConnected,l=o&&(!a||!n);let i;return i=s?a?this.renderDropdown():this.renderErrorMessage():this.renderNotEditable(),Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.fieldClusterLabel",defaultMessage:"Remote cluster"}),isInvalid:l,fullWidth:!0,"data-test-subj":"remoteClusterFormField"},i)}}const{indexNameBeginsWithPeriod:Se,findIllegalCharactersInIndexName:_e,indexNameContainsSpaces:Te}=l.indices,Le=(e={})=>{const t={};let s,o=null;return Object.keys(e).forEach((r=>{switch(s=e[r],o=null,r){case"name":o=((e="")=>{let t=null;return e&&e.trim()?(e.includes(" ")&&(t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorSpace",{defaultMessage:"Spaces are not allowed in the name."})),"_"===e[0]&&(t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorUnderscore",{defaultMessage:"Name can't begin with an underscore."})),e.includes(",")&&(t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorComma",{defaultMessage:"Commas are not allowed in the name."}))):t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorEmptyName",{defaultMessage:"Name is required."}),t})(s);break;case"leaderIndexPatterns":o=s.length?null:{message:c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})};break;case"followIndexPatternPrefix":o=(e=>{if(!e||!e.trim())return null;if(Se(e))return Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.beginsWithPeriod",defaultMessage:"The prefix can't begin with a period."});const t=_e(e);return t.length?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the prefix.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):Te(e)?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the prefix."}):null})(s);break;case"followIndexPatternSuffix":o=(e=>{if(!e||!e.trim())return null;const t=_e(e);return t.length?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the suffix.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):Te(e)?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the suffix."}):null})(s)}t[r]=o})),t};class auto_follow_pattern_request_flyout_AutoFollowPatternRequestFlyout extends o.PureComponent{render(){const{name:e,autoFollowPattern:t,close:s,isNew:o}=this.props,r=`PUT /_ccr/auto_follow/${e||"<autoFollowPatternName>"}\n${JSON.stringify((({remoteCluster:e,leaderIndexPatterns:t,followIndexPattern:s})=>({remote_cluster:e,leader_index_patterns:t,follow_index_pattern:s}))(t),null,2)}`;return Object(Ce.jsx)(b.EuiFlyout,{maxWidth:480,onClose:s},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,null,Object(Ce.jsx)("h2",null,e?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.namedTitle",defaultMessage:"Request for '{name}'",values:{name:e}}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.unnamedTitle",defaultMessage:"Request"})))),Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,o?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.createDescriptionText",defaultMessage:"This Elasticsearch request will create this auto-follow pattern."}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.editDescriptionText",defaultMessage:"This Elasticsearch request will update this auto-follow pattern."}))),Object(Ce.jsx)(b.EuiSpacer,null),Object(Ce.jsx)(b.EuiCodeBlock,{language:"json",isCopyable:!0},r)),Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",onClick:s,flush:"left"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}const ke=Me.indexPatterns.ILLEGAL_CHARACTERS_VISIBLE.join(" "),Ae=l.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" "),De=(e,t)=>({fieldsErrors:{...t,...e}});class auto_follow_pattern_form_AutoFollowPatternForm extends o.PureComponent{constructor(e){super(e),w()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),w()(this,"onFieldsChange",(e=>{this.setState((({autoFollowPattern:t})=>({autoFollowPattern:{...t,...e}})));const t=Le(e);this.onFieldsErrorChange(t)})),w()(this,"onFieldsErrorChange",(e=>this.setState((({fieldsErrors:t})=>De(e,t))))),w()(this,"onClusterChange",(e=>{this.onFieldsChange({remoteCluster:e})})),w()(this,"onCreateLeaderIndexPattern",(e=>{const t=(e=>{if(e){const t=Me.indexPatterns.validate(e);if(t[Me.indexPatterns.ILLEGAL_CHARACTERS_KEY])return{message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the index pattern.",values:{characterList:Object(Ce.jsx)("strong",null,t[Me.indexPatterns.ILLEGAL_CHARACTERS_KEY].join(" ")),characterListLength:t[Me.indexPatterns.ILLEGAL_CHARACTERS_KEY].length}})};if(t[Me.indexPatterns.CONTAINS_SPACES_KEY])return{message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the index pattern."})}}return e&&e.trim()?null:{message:c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})}})(e);if(t){const e={leaderIndexPatterns:{...t,alwaysVisible:!0}};return this.setState((({fieldsErrors:t})=>De(e,t))),!1}const{autoFollowPattern:{leaderIndexPatterns:s}}=this.state,o=[...s,e];this.onFieldsChange({leaderIndexPatterns:o})})),w()(this,"onLeaderIndexPatternChange",(e=>{this.onFieldsChange({leaderIndexPatterns:e.map((({label:e})=>e))})})),w()(this,"onLeaderIndexPatternInputChange",(e=>{const t=!e||!e.trim(),{autoFollowPattern:{leaderIndexPatterns:s}}=this.state;if(!t&&s.includes(e)){const e={leaderIndexPatterns:{message:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.leaderIndexPatternError.duplicateMessage",{defaultMessage:"Duplicate leader index pattern aren't allowed."}),alwaysVisible:!0}};this.setState((({fieldsErrors:t})=>De(e,t)))}else this.setState((({fieldsErrors:t,autoFollowPattern:{leaderIndexPatterns:s}})=>{const o=Boolean(s.length)?Le({leaderIndexPatterns:s}):Le({leaderIndexPatterns:[e]});return De(o,t)}))})),w()(this,"getFields",(()=>{const{autoFollowPattern:e}=this.state,{followIndexPatternPrefix:t,followIndexPatternSuffix:s,...o}=e;return{...o,followIndexPattern:`${t}{{leader_index}}${s}`}})),w()(this,"sendForm",(()=>{if(!this.isFormValid())return void this.setState({areErrorsVisible:!0});this.setState({areErrorsVisible:!1});const{name:e,...t}=this.getFields();this.props.saveAutoFollowPattern(e,t)})),w()(this,"cancelForm",(()=>{E.navigate("/auto_follow_patterns")})),w()(this,"renderForm",(()=>{const{autoFollowPattern:{name:e,remoteCluster:t,leaderIndexPatterns:s,followIndexPatternPrefix:r,followIndexPatternSuffix:a},isNew:n,areErrorsVisible:l,fieldsErrors:i}=this.state;return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiForm,{"data-test-subj":"autoFollowPatternForm"},(()=>{const t=l&&!!i.name;return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameTitle",defaultMessage:"Name"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameDescription",defaultMessage:"A unique name for the auto-follow pattern."}),fullWidth:!0},Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPatternName.fieldNameLabel",defaultMessage:"Name"}),error:i.name,isInvalid:t,fullWidth:!0},Object(Ce.jsx)(b.EuiFieldText,{isInvalid:t,value:e,onChange:e=>this.onFieldsChange({name:e.target.value}),fullWidth:!0,disabled:!n,"data-test-subj":"nameInput"})))})(),(()=>{const{remoteClusters:e,currentUrl:s}=this.props,o={noClusterFound:()=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Auto-follow patterns capture indices on remote clusters."}),remoteClusterNotConnectedNotEditable:e=>({title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Can't edit auto-follow pattern because remote cluster '{name}' is not connected",values:{name:e}}),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"You can address this by editing the remote cluster."})}),remoteClusterDoesNotExist:e=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotFoundCallOutDescription",defaultMessage:"To edit this auto-follow pattern, you must add a remote cluster named '{name}'.",values:{name:e}})};return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterDescription",defaultMessage:"The remote cluster to replicate leader indices from."}),fullWidth:!0},Object(Ce.jsx)(remote_clusters_form_field_RemoteClustersFormField,{selected:t||null,remoteClusters:e,currentUrl:s,isEditable:n,areErrorsVisible:l,onChange:this.onClusterChange,onError:e=>this.onFieldsErrorChange({remoteCluster:e}),errorMessages:o}))})(),(()=>{const e=!(!i.leaderIndexPatterns||!i.leaderIndexPatterns.message)&&(i.leaderIndexPatterns.alwaysVisible||l),t=s.map((e=>({label:e})));return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsTitle",defaultMessage:"Leader indices"}))),description:Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription1",defaultMessage:"One or more index patterns that identify the indices you want to replicate from the remote cluster. As new indices matching these patterns are created, they are replicated to follower indices on the local cluster."})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2",defaultMessage:"{note} Indices that already exist are not replicated.",values:{note:Object(Ce.jsx)("strong",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2.noteLabel",defaultMessage:"Note:"}))}}))),fullWidth:!0},Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsLabel",defaultMessage:"Index patterns"}),helpText:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,ke)}}),isInvalid:e,error:i.leaderIndexPatterns&&i.leaderIndexPatterns.message,fullWidth:!0},Object(Ce.jsx)(b.EuiComboBox,{noSuggestions:!0,placeholder:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsPlaceholder",{defaultMessage:"Type and then hit ENTER"}),selectedOptions:t,onCreateOption:this.onCreateLeaderIndexPattern,onChange:this.onLeaderIndexPatternChange,onSearchChange:this.onLeaderIndexPatternInputChange,fullWidth:!0,"data-test-subj":"indexPatternInput"})))})(),(()=>{const e=l&&!!i.followIndexPatternPrefix,t=l&&!!i.followIndexPatternSuffix;return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternTitle",defaultMessage:"Follower indices (optional)"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternDescription",defaultMessage:"A custom prefix or suffix to apply to the names of the follower indices so you can more easily identify replicated indices. By default, a follower index has the same name as the leader index."}),fullWidth:!0},Object(Ce.jsx)(b.EuiFlexGroup,{gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldPrefixLabel",defaultMessage:"Prefix"}),error:i.followIndexPatternPrefix,isInvalid:e,fullWidth:!0},Object(Ce.jsx)(b.EuiFieldText,{isInvalid:e,value:r,onChange:e=>this.onFieldsChange({followIndexPatternPrefix:e.target.value}),fullWidth:!0,"data-test-subj":"prefixInput"}))),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldSuffixLabel",defaultMessage:"Suffix"}),error:i.followIndexPatternSuffix,isInvalid:t,fullWidth:!0},Object(Ce.jsx)(b.EuiFieldText,{isInvalid:t,value:a,onChange:e=>this.onFieldsChange({followIndexPatternSuffix:e.target.value}),fullWidth:!0,"data-test-subj":"suffixInput"})))),Object(Ce.jsx)(b.EuiFormHelpText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldFollowerIndicesHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,Ae)}})),!!s.length&&Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),Object(Ce.jsx)(ve,{prefix:r,suffix:a,leaderIndexPatterns:s})))})()),Object(Ce.jsx)(b.EuiSpacer,null),(()=>{const{areErrorsVisible:e}=this.state,t=this.isFormValid();return!e||t?null:Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiCallOut,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))})(),this.renderApiErrors(),(()=>{const{apiStatus:e,saveButtonLabel:t}=this.props,{areErrorsVisible:s,isRequestVisible:o}=this.state;if(e===I.a.SAVING)return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiLoadingSpinner,{size:"l"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.actions.savingText",defaultMessage:"Saving"}))));const r=s&&!this.isFormValid();return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButton,{color:"success",iconType:"check",onClick:this.sendForm,fill:!0,disabled:r,"data-test-subj":"submitButton"},t)),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{color:"primary",onClick:this.cancelForm},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.cancelButtonLabel",defaultMessage:"Cancel","data-test-subj":"cancelButton"})))),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{onClick:this.toggleRequest},o?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternFormm.showRequestButtonLabel",defaultMessage:"Show request"}))))})())})),w()(this,"renderLoading",(()=>{const{apiStatus:e}=this.props;return e===I.a.SAVING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}));const t=void 0===this.props.autoFollowPattern,{route:{location:{search:s}}}=E.reactRouter,r=Object(l.extractQueryParams)(s),a=Ie(this.props.remoteClusters,r.cluster),n=t?((e="")=>({name:"",remoteCluster:e,leaderIndexPatterns:[],followIndexPatternPrefix:"",followIndexPatternSuffix:""}))(a):{...this.props.autoFollowPattern};this.state={autoFollowPattern:n,fieldsErrors:Le(n),areErrorsVisible:!1,isNew:t,isRequestVisible:!1}}isFormValid(){return Object.values(this.state.fieldsErrors).every((e=>null==e))}renderApiErrors(){const{apiError:e}=this.props;if(e){const t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.savingErrorTitle",{defaultMessage:"Can't create auto-follow pattern"});return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(Ee,{title:t,error:e,"data-test-subj":"apiError"}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))}return null}render(){const{autoFollowPattern:e,isRequestVisible:t,isNew:s}=this.state;return Object(Ce.jsx)(o.Fragment,null,this.renderForm(),this.renderLoading(),t?Object(Ce.jsx)(auto_follow_pattern_request_flyout_AutoFollowPatternRequestFlyout,{name:e.name,autoFollowPattern:this.getFields(),isNew:s,close:()=>this.setState({isRequestVisible:!1})}):null)}}var Ne=s(3);class auto_follow_pattern_delete_provider_AutoFollowPatternDeleteProviderUi extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,ids:null}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"deleteAutoFollowPattern",(e=>{this.setState({isModalOpen:!0,ids:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.deleteAutoFollowPattern(this.state.ids),this.setState({isModalOpen:!1,ids:null})})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{ids:e}=this.state,t=1===e.length,s=t?c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteSingleTitle",{defaultMessage:"Remove auto-follow pattern '{name}'?",values:{name:e[0]}}):c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteMultipleTitle",{defaultMessage:"Remove {count} auto-follow patterns?",values:{count:e.length}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:s,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.confirmButtonText",{defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"deleteAutoFollowPatternConfirmation"},!t&&Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these auto-follow patterns:"})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e},e))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(o.Fragment,null,e(this.deleteAutoFollowPattern),t&&this.renderModal())}}const Be=Object(n.connect)(void 0,(e=>({deleteAutoFollowPattern:t=>e((e=>ce({label:J,scope:`${ue}-delete`,status:I.a.DELETING,handler:async()=>Object(M.c)(e),onSuccess(e,t,s){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} auto-follow patterns",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing the '{name}' auto-follow pattern",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsDeleted.length){const o=e.itemsDeleted.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were removed",values:{count:e.itemsDeleted.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was removed",values:{name:e.itemsDeleted[0]}});Object(g.b)().addSuccess(o);const r=D("detail")(s());e.itemsDeleted.includes(r)&&t(de(null))}}}))(t))})))(auto_follow_pattern_delete_provider_AutoFollowPatternDeleteProviderUi),qe=({title:e})=>Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Ce.jsx)("span",{"data-test-subj":"pageTitle"},e),rightSideItems:[Object(Ce.jsx)(b.EuiButtonEmpty,{size:"s",flush:"right",href:f.apis.createAutoFollowPattern,target:"_blank",iconType:"help","data-test-subj":"docsButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.readDocsAutoFollowPatternButtonLabel",defaultMessage:"Auto-follow pattern docs"}))]}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}));var ze=s(5);class follower_index_pause_provider_FollowerIndexPauseProviderUi extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,indices:[]}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"pauseFollowerIndex",(e=>{this.setState({isModalOpen:!0,indices:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.pauseFollowerIndex(this.state.indices.map((e=>e.name))),this.setState({isModalOpen:!1,indices:[]}),this.props.onConfirm&&this.props.onConfirm()})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{indices:e}=this.state,t=1===e.length,s=t?c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.pauseSingleTitle",{defaultMessage:"Pause replication to follower index '{name}'?",values:{name:e[0].name}}):c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.pauseMultipleTitle",{defaultMessage:"Pause replication to {count} follower indices?",values:{count:e.length}}),r=e.some((e=>!Object(ze.a)(e)));return Object(Ce.jsx)(b.EuiConfirmModal,{title:s,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:r?"danger":"primary",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.confirmButtonText",{defaultMessage:"Pause replication"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"pauseReplicationConfirmation"},r&&Object(Ce.jsx)("p",null,t?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.singlePauseDescriptionWithSettingWarning",defaultMessage:"Pausing replication to this follower index clears its custom advanced settings."}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.multiplePauseDescriptionWithSettingWarning",defaultMessage:"Pausing replication to a follower index clears its custom advanced settings."})),!t&&Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.multiplePauseDescription",defaultMessage:"Replication will pause on these follower indices:"})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e.name},e.name))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(o.Fragment,null,e(this.pauseFollowerIndex),t&&this.renderModal())}}const Ue=Object(n.connect)(void 0,(e=>({pauseFollowerIndex:t=>e((e=>ce({label:"FOLLOWER_INDEX_PAUSE",status:I.a.SAVING,scope:me,handler:async()=>Object(M.m)(e),onSuccess(e,t){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.errorMultipleNotificationTitle",{defaultMessage:"Error pausing {count} follower indices",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.errorSingleNotificationTitle",{defaultMessage:"Error pausing follower index '{name}'",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsPaused.length){const s=e.itemsPaused.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.successMultipleNotificationTitle",{defaultMessage:"{count} follower indices were paused",values:{count:e.itemsPaused.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.successSingleNotificationTitle",{defaultMessage:"Follower index '{name}' was paused",values:{name:e.itemsPaused[0]}});Object(g.b)().addSuccess(s),t(be(!0))}}}))(t))})))(follower_index_pause_provider_FollowerIndexPauseProviderUi);class follower_index_resume_provider_FollowerIndexResumeProviderUi extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,ids:null}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"resumeFollowerIndex",(e=>{this.setState({isModalOpen:!0,ids:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.resumeFollowerIndex(this.state.ids),this.setState({isModalOpen:!1,ids:null}),this.props.onConfirm&&this.props.onConfirm()})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{ids:e}=this.state,t=1===e.length,s=t?c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.resumeSingleTitle",{defaultMessage:"Resume replication to follower index '{name}'?",values:{name:e[0]}}):c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.resumeMultipleTitle",{defaultMessage:"Resume replication to {count} follower indices?",values:{count:e.length}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:s,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"primary",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.confirmButtonText",{defaultMessage:"Resume replication"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"resumeReplicationConfirmation"},t?Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.singleResumeDescription",defaultMessage:"Replication resumes using the default advanced settings. To use custom advanced settings, {editLink}.",values:{editLink:Object(Ce.jsx)(b.EuiLink,Oe()({},Object(i.reactRouterNavigate)(E._reactRouter.history,E.getFollowerIndexPath(e[0])),{"data-test-subj":"editLink"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.singleResumeEditLink",defaultMessage:"edit the follower index"}))}})):Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.multipleResumeDescriptionWithSettingWarning",defaultMessage:"Replication resumes using the default advanced settings."})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.multipleResumeDescription",defaultMessage:"Replication will resume on these follower indices:"})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e},e))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(o.Fragment,null,e(this.resumeFollowerIndex),t&&this.renderModal())}}const We=Object(n.connect)(void 0,(e=>({resumeFollowerIndex:t=>e((e=>ce({label:"FOLLOWER_INDEX_RESUME",status:I.a.SAVING,scope:me,handler:async()=>Object(M.o)(e),onSuccess(e,t){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.errorMultipleNotificationTitle",{defaultMessage:"Error resuming {count} follower indices",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.errorSingleNotificationTitle",{defaultMessage:"Error resuming follower index '{name}'",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsResumed.length){const t=e.itemsResumed.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.successMultipleNotificationTitle",{defaultMessage:"{count} follower indices were resumed",values:{count:e.itemsResumed.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.successSingleNotificationTitle",{defaultMessage:"Follower index '{name}' was resumed",values:{name:e.itemsResumed[0]}});Object(g.b)().addSuccess(t)}t(be(!0))}}))(t))})))(follower_index_resume_provider_FollowerIndexResumeProviderUi);class follower_index_unfollow_provider_FollowerIndexUnfollowProviderUi extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,ids:null}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"unfollowLeaderIndex",(e=>{this.setState({isModalOpen:!0,ids:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.unfollowLeaderIndex(this.state.ids),this.setState({isModalOpen:!1,ids:null}),this.props.onConfirm&&this.props.onConfirm()})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{ids:e}=this.state,t=1===e.length,s=t?c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.unfollowSingleTitle",{defaultMessage:"Unfollow leader index of '{name}'?",values:{name:e[0]}}):c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.unfollowMultipleTitle",{defaultMessage:"Unfollow {count} leader indices?",values:{count:e.length}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:s,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.confirmButtonText",{defaultMessage:"Unfollow leader"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"unfollowLeaderConfirmation"},t?Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.singleUnfollowDescription",defaultMessage:"The follower index will be converted to a standard index. It will no longer appear in Cross-Cluster Replication, but you can manage it in Index Management. You can't undo this operation."}))):Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.multipleUnfollowDescription",defaultMessage:"The follower indices will be converted to standard indices. They will no longer appear in Cross-Cluster Replication, but you can manage them in Index Management. You can't undo this operation."})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e},e))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(o.Fragment,null,e(this.unfollowLeaderIndex),t&&this.renderModal())}}const Ve=Object(n.connect)(void 0,(e=>({unfollowLeaderIndex:t=>e((e=>ce({label:ae,status:I.a.DELETING,scope:`${me}-delete`,handler:async()=>Object(M.q)(e),onSuccess(e,t,s){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.errorMultipleNotificationTitle",{defaultMessage:"Error unfollowing leader index of {count} follower indices",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.errorSingleNotificationTitle",{defaultMessage:"Error unfollowing leader index of follower index '{name}'",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsUnfollowed.length){const t=e.itemsUnfollowed.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.successMultipleNotificationTitle",{defaultMessage:"Leader indices of {count} follower indices were unfollowed",values:{count:e.itemsUnfollowed.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.successSingleNotificationTitle",{defaultMessage:"Leader index of follower index '{name}' was unfollowed",values:{name:e.itemsUnfollowed[0]}});Object(g.b)().addSuccess(t)}if(e.itemsNotOpen.length){const t=e.itemsNotOpen.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.notOpenWarningMultipleNotificationTitle",{defaultMessage:"{count} indices could not be re-opened",values:{count:e.itemsNotOpen.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.notOpenWarningSingleNotificationTitle",{defaultMessage:"Index '{name}' could not be re-opened",values:{name:e.itemsNotOpen[0]}});Object(g.b)().addWarning(t)}const o=U("detail")(s());e.itemsUnfollowed.includes(o)&&t(je(null))}}))(t))})))(follower_index_unfollow_provider_FollowerIndexUnfollowProviderUi),$e=e=>Object(Ce.jsx)(Ue,null,(t=>Object(Ce.jsx)(We,null,(s=>Object(Ce.jsx)(Ve,null,(o=>{const{children:r}=e;return r((()=>({pauseFollowerIndex:t,resumeFollowerIndex:s,unfollowLeaderIndex:o})))}))))));var Ge=s(9);const He=e=>!e||!e.trim().length,Ye=e=>"string"==typeof e&&e.includes(" "),Xe=e=>l.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce(((t,s)=>(e.includes(s)&&t.push(s),t)),[]),Ke=e=>{if(He(e))return[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameMissingMessage",defaultMessage:"Name is required."})];if((e=>"."===e[0])(e))return[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameBeginsWithPeriodMessage",defaultMessage:"Name can't begin with a period."})];const t=Xe(e);return t.length?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameIllegalCharactersMessage",defaultMessage:"Remove the characters {characterList} from your name.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" "))}})]:Ye(e)?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.indexNameValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the name."})]:void 0},Qe=e=>{if(He(e))return[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.leaderIndexMissingMessage",defaultMessage:"Leader index is required."})];const t=Xe(e);return t.length?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.leaderIndexIllegalCharactersMessage",defaultMessage:"Remove the characters {characterList} from your leader index.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" "))}})]:Ye(e)?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.leaderIndexValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the leader index."})]:void 0};class form_entry_row_FormEntryRow extends o.PureComponent{constructor(...e){super(...e),w()(this,"onFieldChange",(e=>{const{field:t,onValueUpdate:s,type:o}=this.props;let r=e;"number"===o&&(r=e?Math.max(0,parseInt(e,10)):e),s({[t]:r})})),w()(this,"renderField",(e=>{const{value:t,type:s,disabled:o,isLoading:r,testSubj:a}=this.props;return"number"===s?Object(Ce.jsx)(b.EuiFieldNumber,{isInvalid:e,value:t,onChange:e=>this.onFieldChange(e.target.value),disabled:!0===o,isLoading:r,fullWidth:!0,"data-test-subj":a}):Object(Ce.jsx)(b.EuiFieldText,{isInvalid:e,value:t,onChange:e=>this.onFieldChange(e.target.value),disabled:!0===o,isLoading:r,fullWidth:!0,"data-test-subj":a})}))}render(){const{field:e,error:t,title:s,label:r,description:a,helpText:n,areErrorsVisible:l,value:i,defaultValue:c}=this.props,u=!!t&&(t.alwaysVisible||l),d=void 0!==c,p=i!==c,x=Object(Ce.jsx)(o.Fragment,null,n,d&&p&&Object(Ce.jsx)("p",null,Object(Ce.jsx)(b.EuiLink,{onClick:()=>this.onFieldChange(c)},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.resetFieldButtonLabel",defaultMessage:"Reset to default"}))));return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:s,description:a,fullWidth:!0,key:e},Object(Ce.jsx)(b.EuiFormRow,{label:r,helpText:x,error:t&&t.message?t.message:t,isInvalid:u,fullWidth:!0},this.renderField(u)))}}const Je=e=>{const t=Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.byteUnitsHelpText",defaultMessage:"Example values: 10b, 1024kb, 1mb, 5gb, 2tb, 1pb. {link}",values:{link:Object(Ce.jsx)(b.EuiLink,{href:e.apis.byteSizeUnits,target:"_blank"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.byteUnitsHelpTextLinkMessage",defaultMessage:"Learn more"}))}}),s=Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.timeUnitsHelpText",defaultMessage:"Example values: 2d, 24h, 20m, 30s, 500ms, 10000micros, 80000nanos. {link}",values:{link:Object(Ce.jsx)(b.EuiLink,{href:e.apis.timeUnits,target:"_blank"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.timeUnitsHelpTextLinkMessage",defaultMessage:"Learn more"}))}});return[{field:"maxReadRequestOperationCount",testSubject:"maxReadRequestOperationCountInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountTitle",{defaultMessage:"Max read request operation count"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountDescription",{defaultMessage:"The maximum number of operations to pull per read from the remote cluster."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountLabel",{defaultMessage:"Max read request operation count"}),defaultValue:Object(ze.b)("maxReadRequestOperationCount"),type:"number"},{field:"maxOutstandingReadRequests",testSubject:"maxOutstandingReadRequestsInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsTitle",{defaultMessage:"Max outstanding read requests"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsDescription",{defaultMessage:"The maximum number of outstanding read requests from the remote cluster."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsLabel",{defaultMessage:"Max outstanding read requests"}),defaultValue:Object(ze.b)("maxOutstandingReadRequests"),type:"number"},{field:"maxReadRequestSize",testSubject:"maxReadRequestSizeInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeTitle",{defaultMessage:"Max read request size"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeDescription",{defaultMessage:"The maximum size in bytes of per read of a batch of operations pulled from the remote cluster."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeLabel",{defaultMessage:"Max read request size"}),defaultValue:Object(ze.b)("maxReadRequestSize"),helpText:t},{field:"maxWriteRequestOperationCount",testSubject:"maxWriteRequestOperationCountInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountTitle",{defaultMessage:"Max write request operation count"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountDescription",{defaultMessage:"The maximum number of operations per bulk write request executed on the follower."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountLabel",{defaultMessage:"Max write request operation count"}),defaultValue:Object(ze.b)("maxWriteRequestOperationCount"),type:"number"},{field:"maxWriteRequestSize",testSubject:"maxWriteRequestSizeInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeTitle",{defaultMessage:"Max write request size"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeDescription",{defaultMessage:"The maximum total bytes of operations per bulk write request executed on the follower."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeLabel",{defaultMessage:"Max write request size"}),defaultValue:Object(ze.b)("maxWriteRequestSize"),helpText:t},{field:"maxOutstandingWriteRequests",testSubject:"maxOutstandingWriteRequestsInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsTitle",{defaultMessage:"Max outstanding write requests"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsDescription",{defaultMessage:"The maximum number of outstanding write requests on the follower."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsLabel",{defaultMessage:"Max outstanding write requests"}),defaultValue:Object(ze.b)("maxOutstandingWriteRequests"),type:"number"},{field:"maxWriteBufferCount",testSubject:"maxWriteBufferCountInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountTitle",{defaultMessage:"Max write buffer count"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountDescription",{defaultMessage:"The maximum number of operations that can be queued for writing; when this limit is reached, reads from the remote cluster will be deferred until the number of queued operations goes below the limit."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountLabel",{defaultMessage:"Max write buffer count"}),defaultValue:Object(ze.b)("maxWriteBufferCount"),type:"number"},{field:"maxWriteBufferSize",testSubject:"maxWriteBufferSizeInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeTitle",{defaultMessage:"Max write buffer size"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeDescription",{defaultMessage:"The maximum total bytes of operations that can be queued for writing; when this limit is reached, reads from the remote cluster will be deferred until the total bytes of queued operations goes below the limit."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeLabel",{defaultMessage:"Max write buffer size"}),defaultValue:Object(ze.b)("maxWriteBufferSize"),helpText:t},{field:"maxRetryDelay",testSubject:"maxRetryDelayInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayTitle",{defaultMessage:"Max retry delay"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayDescription",{defaultMessage:"The maximum time to wait before retrying an operation that failed exceptionally; an exponential backoff strategy is employed when retrying."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayLabel",{defaultMessage:"Max retry delay"}),defaultValue:Object(ze.b)("maxRetryDelay"),helpText:s},{field:"readPollTimeout",testSubject:"readPollTimeoutInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutTitle",{defaultMessage:"Read poll timeout"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutDescription",{defaultMessage:"The maximum time to wait for new operations on the remote cluster when the follower index is synchronized with the leader index; when the timeout has elapsed, the poll for operations will return to the follower so that it can update some statistics, and then the follower will immediately attempt to read from the leader again."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutLabel",{defaultMessage:"Read poll timeout"}),defaultValue:Object(ze.b)("readPollTimeout"),helpText:s}]},Ze=e=>Je(e).reduce(((e,t)=>{const{field:s,defaultValue:o}=t;return{...e,[s]:o}}),{}),et=({maxReadRequestOperationCount:e,maxOutstandingReadRequests:t,maxReadRequestSize:s,maxWriteRequestOperationCount:o,maxWriteRequestSize:r,maxOutstandingWriteRequests:a,maxWriteBufferCount:n,maxWriteBufferSize:l,maxRetryDelay:i,readPollTimeout:c})=>({max_read_request_operation_count:e,max_outstanding_read_requests:t,max_read_request_size:s,max_write_request_operation_count:o,max_write_request_size:r,max_outstanding_write_requests:a,max_write_buffer_count:n,max_write_buffer_size:l,max_retry_delay:i,read_poll_timeout:c});class follower_index_request_flyout_FollowerIndexRequestFlyout extends o.PureComponent{render(){const{name:e,followerIndex:t,close:s}=this.props,o=`PUT /${e||"<followerIndexName>"}/_ccr/follow`,r=JSON.stringify((e=>({remote_cluster:e.remoteCluster,leader_index:e.leaderIndex,...et(e)}))(t),null,2),a=`${o}\n${r}`;return Object(Ce.jsx)(b.EuiFlyout,{maxWidth:480,onClose:s},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,null,Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.title",defaultMessage:"Request"})))),Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create this follower index."}))),Object(Ce.jsx)(b.EuiSpacer,null),Object(Ce.jsx)(b.EuiCodeBlock,{language:"json",isCopyable:!0},a)),Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",onClick:s,flush:"left"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}const tt=l.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" "),st=(e="")=>({name:"",remoteCluster:e,leaderIndex:"",...Ze(f)}),ot=e=>({fieldsErrors:t})=>({fieldsErrors:{...t,...e}});class follower_index_form_FollowerIndexForm extends o.PureComponent{constructor(e){super(e),w()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),w()(this,"onFieldsChange",(e=>{this.setState((e=>({followerIndex:t})=>({followerIndex:{...t,...e}}))(e));const t={...this.state.fields,...e};this.setState(ot(this.getFieldsErrors(t))),this.props.apiError&&this.props.clearApiError()})),w()(this,"getFieldsErrors",(e=>Object.keys(e).reduce(((t,s)=>{const o=(r=Je(f),r.reduce(((e,t)=>{const{field:s,validator:o}=t;return e[s]=o,e}),{name:Ke,leaderIndex:Qe}))[s];var r;const a=e[s];if(o){const e=o(a);t[s]=e}return t}),{}))),w()(this,"onIndexNameChange",(({name:e})=>{this.onFieldsChange({name:e}),Ke(e)||(e&&e.trim()?(this.setState({isValidatingIndexName:!0}),this.validateIndexName(e)):this.setState({isValidatingIndexName:!1}))})),w()(this,"validateIndexName",(async e=>{try{if((await Object(M.i)()).some((t=>t.name===e))){const e={message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexAlreadyExistError",defaultMessage:"An index with the same name already exists."}),alwaysVisible:!0};this.setState(ot({name:e}))}this.setState({isValidatingIndexName:!1})}catch(e){if(e){if("AbortError"===e.name)return;if(e.body)return this.setState({isValidatingIndexName:!1})}Object(g.a)().add(e,c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.indexNameValidationFatalErrorTitle",{defaultMessage:"Follower Index Form index name validation"}))}})),w()(this,"onClusterChange",(e=>{this.onFieldsChange({remoteCluster:e})})),w()(this,"getFields",(()=>this.state.followerIndex)),w()(this,"toggleAdvancedSettings",(e=>{if(e.target.checked)return this.onFieldsChange(this.cachedAdvancedSettings),this.cachedAdvancedSettings={},this.setState({areAdvancedSettingsVisible:!0});this.onFieldsChange(Ze(f));const t=this.getFields();this.cachedAdvancedSettings=Je(f).reduce(((e,{field:s})=>{const o=t[s];return""!==o&&(e[s]=o),e}),{}),this.setState({areAdvancedSettingsVisible:!1})})),w()(this,"sendForm",(()=>{const e=this.isFormValid();if(this.setState({areErrorsVisible:!e}),!e)return;const{name:t,...s}=this.getFields();this.props.saveFollowerIndex(t,s)})),w()(this,"cancelForm",(()=>{E.navigate("/follower_indices")})),w()(this,"renderForm",(()=>{const{followerIndex:e,isNew:t,areErrorsVisible:s,areAdvancedSettingsVisible:r,fieldsErrors:a,isValidatingIndexName:n}=this.state,l=Object(Ce.jsx)(o.Fragment,null,n&&Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexNameValidatingLabel",defaultMessage:"Checking availability…"})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexNameHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,tt)}}))),i=c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.sectionFollowerIndexNameTitle",{defaultMessage:"Follower index"}),u=c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexTitle",{defaultMessage:"Leader index"});return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiForm,{"data-test-subj":"followerIndexForm"},(()=>{const{remoteClusters:o,currentUrl:r}=this.props,a={noClusterFound:()=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Replication requires a leader index on a remote cluster."}),remoteClusterNotConnectedNotEditable:e=>({title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Can't edit follower index because remote cluster '{name}' is not connected",values:{name:e}}),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"You can address this by editing the remote cluster."})}),remoteClusterDoesNotExist:e=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotFoundCallOutDescription",defaultMessage:"To edit this follower index, you must add a remote cluster named '{name}'.",values:{name:e}})};return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionRemoteClusterDescription",defaultMessage:"The cluster that contains the index to replicate."}),fullWidth:!0},Object(Ce.jsx)(remote_clusters_form_field_RemoteClustersFormField,{selected:e.remoteCluster?e.remoteCluster:null,remoteClusters:o||[],currentUrl:r,isEditable:t,areErrorsVisible:s,onChange:this.onClusterChange,onError:e=>{this.setState(ot({remoteCluster:e}))},errorMessages:a}))})(),(()=>Object(Ce.jsx)(form_entry_row_FormEntryRow,{field:"leaderIndex",value:e.leaderIndex,error:a.leaderIndex,title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,u)),label:u,description:Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription",defaultMessage:"The index on the remote cluster to replicate to the follower index."})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription2",defaultMessage:"{note} The leader index must already exist.",values:{note:Object(Ce.jsx)("strong",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription2.noteLabel",defaultMessage:"Note:"}))}}))),helpText:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexNameHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,tt)}}),disabled:!t,areErrorsVisible:s,onValueUpdate:this.onFieldsChange,testSubj:"leaderIndexInput"}))(),(()=>Object(Ce.jsx)(form_entry_row_FormEntryRow,{field:"name",value:e.name,error:a.name,title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,i)),label:i,description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.sectionFollowerIndexNameDescription",{defaultMessage:"A unique name for your index."}),helpText:l,isLoading:n,disabled:!t,areErrorsVisible:s,onValueUpdate:this.onIndexNameChange,testSubj:"followerIndexInput"}))(),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),(()=>Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiHorizontalRule,null),Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettingsTitle",defaultMessage:"Advanced settings (optional)"}))),description:Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettingsDescription",defaultMessage:"Advanced settings control the rate of replication. You can customize these settings or use the default values."})),Object(Ce.jsx)(b.EuiSwitch,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.advancedSettingsForm.showSwitchLabel",defaultMessage:"Customize advanced settings"}),checked:r,onChange:this.toggleAdvancedSettings,"data-test-subj":"advancedSettingsToggle"})),fullWidth:!0},Object(Ce.jsx)(o.Fragment,null)," "),r&&Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Je(f).map((t=>{const{field:o,testSubject:r,title:n,description:l,label:i,helpText:c,defaultValue:u,type:d}=t;return Object(Ce.jsx)(form_entry_row_FormEntryRow,{key:o,field:o,value:e[o],defaultValue:u,error:a[o],title:Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)("h3",null,n)),description:l,label:i,helpText:c,type:d,areErrorsVisible:s,onValueUpdate:this.onFieldsChange,testSubj:r})}))),Object(Ce.jsx)(b.EuiHorizontalRule,null)))()),(()=>{const{areErrorsVisible:e}=this.state,t=this.isFormValid();return!e||t?null:Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiCallOut,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))})(),this.renderApiErrors(),(()=>{const{apiStatus:e,saveButtonLabel:t}=this.props,{areErrorsVisible:s,isRequestVisible:o}=this.state;if(e===I.a.SAVING)return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiLoadingSpinner,{size:"l"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.actions.savingText",defaultMessage:"Saving"}))));const r=s&&!this.isFormValid();return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButton,{color:"success",iconType:"check",onClick:this.sendForm,fill:!0,disabled:r,"data-test-subj":"submitButton"},t)),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{color:"primary",onClick:this.cancelForm,"data-test-subj":"cancelButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.cancelButtonLabel",defaultMessage:"Cancel"})))),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{onClick:this.toggleRequest},o?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.showRequestButtonLabel",defaultMessage:"Show request"}))))})())})),w()(this,"renderLoading",(()=>{const{apiStatus:e}=this.props;return e===I.a.SAVING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}));const{route:{location:{search:t}}}=E.reactRouter,s=Object(l.extractQueryParams)(t),r=void 0===this.props.followerIndex,a=Ie(this.props.remoteClusters,s.cluster),n=r?st(a):{...st(),...this.props.followerIndex},i=!r&&(u=n,!!Je(d=f).some((e=>{const{field:t}=e;return u[t]!==Ze(d)[t]})));var u,d;const p=this.getFieldsErrors(n);this.state={isNew:r,followerIndex:n,fieldsErrors:p,areErrorsVisible:!1,areAdvancedSettingsVisible:i,isValidatingIndexName:!1,isRequestVisible:!1},this.cachedAdvancedSettings={},this.validateIndexName=Object(Ge.debounce)(this.validateIndexName,500,{trailing:!0})}isFormValid(){return Object.values(this.state.fieldsErrors).every((e=>null==e))}renderApiErrors(){const{apiError:e}=this.props;if(e){const t=c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.savingErrorTitle",{defaultMessage:"Can't create follower index"}),{leaderIndex:s}=this.state.followerIndex,r=404===e.status?{data:{message:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.leaderIndexNotFoundError",{defaultMessage:"The leader index '{leaderIndex}' does not exist.",values:{leaderIndex:s}})}}:e;return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(Ee,{title:t,error:r}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))}return null}render(){const{followerIndex:e,isRequestVisible:t}=this.state;return Object(Ce.jsx)(o.Fragment,null,this.renderForm(),this.renderLoading(),t?Object(Ce.jsx)(follower_index_request_flyout_FollowerIndexRequestFlyout,{name:e.name,followerIndex:this.getFields(),close:()=>this.setState({isRequestVisible:!1})}):null)}}const rt=({title:e})=>Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Ce.jsx)("span",{"data-test-subj":"pageTitle"},e),rightSideItems:[Object(Ce.jsx)(b.EuiButtonEmpty,{size:"s",flush:"right",href:f.apis.createFollower,target:"_blank",iconType:"help","data-test-subj":"docsButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.readDocsFollowerIndexButtonLabel",defaultMessage:"Follower index docs"}))]}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"})),at=c.i18n.translate("xpack.crossClusterReplication.autoFollowActionMenu.autoFollowPatternActionMenuButtonAriaLabel",{defaultMessage:"Auto-follow pattern options"}),nt=({patterns:e,deleteAutoFollowPattern:t,pauseAutoFollowPattern:s,resumeAutoFollowPattern:r,arrowDirection:a,edit:n})=>{const[l,i]=Object(o.useState)(!1),u=(e=>{if(!e.length)return!1;const[t,...s]=e;for(const e of s)if(t!==e)return!1;return!0})(e.filter(Boolean).map((({active:e})=>e))),d=()=>{i(!1)},p=[u?e[0].active?{name:c.i18n.translate("xpack.crossClusterReplication.pauseAutoFollowPatternsLabel",{defaultMessage:"Pause {total, plural, one {replication} other {replications}}",values:{total:e.length}}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"pause"}),onClick:()=>{s(e.map((({name:e})=>e))),d()}}:{name:c.i18n.translate("xpack.crossClusterReplication.resumeAutoFollowPatternsLabel",{defaultMessage:"Resume {total, plural, one {replication} other {replications}}",values:{total:e.length}}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"play"}),onClick:()=>{r(e.map((({name:e})=>e))),d()}}:null,n&&1===e.length?{name:c.i18n.translate("xpack.crossClusterReplication.editAutoFollowPatternButtonLabel",{defaultMessage:"Edit pattern"}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"pencil"}),onClick:()=>{E.navigate(E.getAutoFollowPatternPath(e[0].name))}}:null,{name:c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPatternButtonLabel",{defaultMessage:"Delete {total, plural, one {pattern} other {patterns}}",values:{total:e.length}}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"trash"}),onClick:()=>{t(e.map((({name:e})=>e))),d()}}].filter(Boolean),x=Object(Ce.jsx)(b.EuiButton,{"data-test-subj":"autoFollowPatternActionMenuButton","aria-label":at,onClick:()=>i(!l),iconType:"up"===a?"arrowUp":"arrowDown",iconSide:"right",fill:!0},c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternActionMenu.buttonLabel",{defaultMessage:"Manage {patterns, plural, one {pattern} other {patterns}}",values:{patterns:e.length}}));return Object(Ce.jsx)(b.EuiPopover,{isOpen:l,closePopover:()=>i(!1),button:x,panelPaddingSize:"none",repositionOnScroll:!0},Object(Ce.jsx)(b.EuiContextMenu,{initialPanelId:0,"data-test-subj":"autoFollowPatternActionContextMenu",panels:[{id:0,title:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternActionMenu.panelTitle",{defaultMessage:"Pattern options"}),items:p}]}))},lt=Object(n.connect)(null,(e=>({pauseAutoFollowPattern:t=>{e(xe(t))},resumeAutoFollowPattern:t=>{e(fe(t))}})))((e=>Object(Ce.jsx)(Be,null,(t=>Object(Ce.jsx)(nt,Oe()({},e,{deleteAutoFollowPattern:t})))))),it={pause:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionPauseDescription",{defaultMessage:"Pause replication"}),resume:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionResumeDescription",{defaultMessage:"Resume replication"}),edit:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionEditDescription",{defaultMessage:"Edit auto-follow pattern"}),delete:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionDeleteDescription",{defaultMessage:"Delete auto-follow pattern"})},ct=(e,t)=>{if(t){const s=t.toLowerCase();return e.filter((e=>{const{name:t="",remoteCluster:o="",followIndexPatternPrefix:r="",followIndexPatternSuffix:a=""}=e,n=t.toLowerCase().includes(s),l=o.toLowerCase().includes(s),i=r.toLowerCase().includes(s),c=a.toLowerCase().includes(s);return n||l||i||c}))}return e};class auto_follow_pattern_table_AutoFollowPatternTable extends o.PureComponent{static getDerivedStateFromProps(e,t){const{autoFollowPatterns:s}=e,{prevAutoFollowPatterns:o,queryText:r}=t;return o!==s?{prevAutoFollowPatterns:s,filteredAutoFollowPatterns:ct(s,r)}:null}constructor(e){super(e),w()(this,"onSearch",(({query:e})=>{const{autoFollowPatterns:t}=this.props,{text:s}=e;this.setState({queryText:s,filteredAutoFollowPatterns:ct(t,s)})})),w()(this,"renderLoading",(()=>{const{apiStatusDelete:e}=this.props;return e===I.a.DELETING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null})),this.state={prevAutoFollowPatterns:e.autoFollowPatterns,selectedItems:[],filteredAutoFollowPatterns:e.autoFollowPatterns,queryText:""}}getTableColumns(e){const{selectAutoFollowPattern:t}=this.props;return[{field:"name",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:e=>Object(Ce.jsx)(b.EuiLink,{onClick:()=>{Object(Fe.c)("click",I.l),t(e)},"data-test-subj":"autoFollowPatternLink"},e)},{field:"active",dataType:"boolean",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTitle",{defaultMessage:"Status"}),render:e=>{const t=e?c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTextActive",{defaultMessage:"Active"}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTextPaused",{defaultMessage:"Paused"});return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiHealth,{color:e?"success":"subdued"})," ",t)},sortable:!0},{field:"remoteCluster",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.clusterColumnTitle",{defaultMessage:"Remote cluster"}),truncateText:!0,sortable:!0},{field:"leaderIndexPatterns",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.leaderPatternsColumnTitle",{defaultMessage:"Leader patterns"}),render:e=>e.join(", ")},{field:"followIndexPatternPrefix",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.prefixColumnTitle",{defaultMessage:"Follower index prefix"}),sortable:!0},{field:"followIndexPatternSuffix",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.suffixColumnTitle",{defaultMessage:"Follower index suffix"}),sortable:!0},{name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:[{name:it.pause,description:it.pause,icon:"pause",onClick:e=>this.props.pauseAutoFollowPattern(e.name),available:e=>e.active,"data-test-subj":"contextMenuPauseButton"},{name:it.resume,description:it.resume,icon:"play",onClick:e=>this.props.resumeAutoFollowPattern(e.name),available:e=>!e.active,"data-test-subj":"contextMenuResumeButton"},{name:it.edit,description:it.edit,icon:"pencil",onClick:e=>E.navigate(E.getAutoFollowPatternPath(e.name)),"data-test-subj":"contextMenuEditButton"},{name:it.delete,description:it.delete,icon:"trash",onClick:t=>e(t.name),"data-test-subj":"contextMenuDeleteButton"}],width:"100px"}]}render(){const{selectedItems:e,filteredAutoFollowPatterns:t}=this.state,s={sort:{field:"name",direction:"asc"}},o={initialPageSize:20,pageSizeOptions:[10,20,50]},a={onSelectionChange:e=>this.setState({selectedItems:e.map((({name:e})=>e))})},n={toolsLeft:e.length?Object(Ce.jsx)(lt,{arrowDirection:"down",patterns:this.state.selectedItems.map((e=>t.find((t=>t.name===e))))}):void 0,toolsRight:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(E._reactRouter.history,"/auto_follow_patterns/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createAutoFollowPatternButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.addAutoFollowPatternButtonLabel",defaultMessage:"Create an auto-follow pattern"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"autoFollowPatternSearch"}};return Object(Ce.jsx)(Be,null,(e=>Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiInMemoryTable,{items:t,itemId:"name",columns:this.getTableColumns(e),search:n,pagination:o,sorting:s,selection:a,isSelectable:!0,rowProps:()=>({"data-test-subj":"row"}),cellProps:(e,t)=>({"data-test-subj":`cell_${t.field}`}),"data-test-subj":"autoFollowPatternListTable"}),this.renderLoading())))}}const ut=I.b.AUTO_FOLLOW_PATTERN,dt=Object(n.connect)((e=>({apiStatusDelete:S(`${ut}-delete`)(e)})),(e=>({selectAutoFollowPattern:t=>e(de(t)),pauseAutoFollowPattern:t=>e(xe(t)),resumeAutoFollowPattern:t=>e(fe(t))})))(auto_follow_pattern_table_AutoFollowPatternTable);var pt=s(26);class detail_panel_DetailPanel extends o.Component{renderAutoFollowPattern({followIndexPatternPrefix:e,followIndexPatternSuffix:t,remoteCluster:s,leaderIndexPatterns:o,active:a}){return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)("section",null,Object(Ce.jsx)(b.EuiDescriptionList,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusLabel",defaultMessage:"Status"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"status"},a?Object(Ce.jsx)(b.EuiHealth,{color:"success"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.activeStatus",defaultMessage:"Active"})):Object(Ce.jsx)(b.EuiHealth,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.pausedStatus",defaultMessage:"Paused"}))))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)("section",{"aria-labelledby":"ccrAutoFollowPatternDetailSettingsTitle","data-test-subj":"settingsSection"},Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h3",{id:"ccrAutoFollowPatternDetailSettingsTitle"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusTitle",defaultMessage:"Settings"}))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiDescriptionList,{"data-test-subj":"settingsValues"},Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"remoteCluster"},s)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.leaderPatternsLabel",defaultMessage:"Leader patterns"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"leaderIndexPatterns"},o.join(", ")))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixLabel",defaultMessage:"Prefix"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"patternPrefix"},e||Object(Ce.jsx)("em",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixEmptyValue",defaultMessage:"No prefix"})))),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixLabel",defaultMessage:"Suffix"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"patternSuffix"},t||Object(Ce.jsx)("em",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixEmptyValue",defaultMessage:"No suffix"}))))))))}renderIndicesPreview(e,t,s){return Object(Ce.jsx)("section",{"data-test-subj":"indicesPreviewSection"},Object(Ce.jsx)(ve,{prefix:e,suffix:t,leaderIndexPatterns:s}))}renderAutoFollowPatternNotFound(){return Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiIcon,{size:"m",type:"alert",color:"danger"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(b.EuiTextColor,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.notFoundLabel",defaultMessage:"Auto-follow pattern not found"}))))))}renderAutoFollowPatternErrors(e){return e.errors.length?Object(Ce.jsx)("section",{"data-test-subj":"errors"},Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiIcon,{type:"alert",color:"danger"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiTitle,{size:"s","data-test-subj":"titleErrors"},Object(Ce.jsx)("h3",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.recentErrorsTitle",defaultMessage:"Recent errors"}))))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("ul",null,e.errors.map(((e,t)=>Object(Ce.jsx)("li",{key:t,"data-test-subj":"recentError"},Object(Ce.jsx)("strong",null,Re()(e.timestamp).format("MMMM Do, YYYY h:mm:ss A")),":"," ",e.autoFollowException.reason)))))):null}renderFlyoutBody(){const{autoFollowPattern:e}=this.props;if(!e)return this.renderAutoFollowPatternNotFound();const{followIndexPatternPrefix:t,followIndexPatternSuffix:s,leaderIndexPatterns:o}=e;let r;t?r=`name:${t}`:s&&(r=`name:${s}`);const a=Object(pt.getIndexListUri)(r);return Object(Ce.jsx)(b.EuiFlyoutBody,null,this.renderAutoFollowPattern(e),Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),this.renderIndicesPreview(t,s,o),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(b.EuiLink,{href:E._reactRouter.getUrlForApp("management",{path:`data/index_management${a}`}),"data-test-subj":"viewIndexManagementLink"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.viewIndicesLink",defaultMessage:"View your follower indices in Index Management"})),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),this.renderAutoFollowPatternErrors(e))}renderFlyoutFooter(){const{autoFollowPattern:e,closeDetailPanel:t}=this.props;return Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:t,"data-test-subj":"closeFlyoutButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),e&&Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiFlexGroup,{alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(lt,{edit:!0,arrowDirection:"up",patterns:[e]}))))))}render(){const{autoFollowPatternId:e,closeDetailPanel:t}=this.props;return Object(Ce.jsx)(b.EuiFlyout,{"data-test-subj":"autoFollowPatternDetail",onClose:t,"aria-labelledby":"autoFollowPatternDetailsFlyoutTitle",size:"m",maxWidth:400},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,{size:"m",id:"autoFollowPatternDetailsFlyoutTitle","data-test-subj":"title"},Object(Ce.jsx)("h2",null,e))),this.renderFlyoutBody(),this.renderFlyoutFooter())}}const xt=I.b.AUTO_FOLLOW_PATTERN,ft=Object(n.connect)((e=>({autoFollowPatternId:D("detail")(e),autoFollowPattern:N("detail")(e),apiStatus:S(xt)(e)})))(detail_panel_DetailPanel);class auto_follow_pattern_list_AutoFollowPatternList extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastAutoFollowPatternId:null,isDetailPanelOpen:!1})}static getDerivedStateFromProps({autoFollowPatternId:e},{lastAutoFollowPatternId:t}){return e!==t?{lastAutoFollowPatternId:e,isDetailPanelOpen:!!e}:null}componentDidMount(){const{loadAutoFollowPatterns:e,loadAutoFollowStats:t,selectAutoFollowPattern:s,history:o}=this.props;Object(Fe.c)(Fe.a.LOADED,I.g),e(),t(),s((({location:{search:e}})=>{const{pattern:t}=Object(l.extractQueryParams)(e);return t?decodeURIComponent(t):null})(o)),this.interval=setInterval((()=>e(!0)),3e4)}componentDidUpdate(e,t){const{history:s,loadAutoFollowStats:o}=this.props,{lastAutoFollowPatternId:r}=this.state;r!==t.lastAutoFollowPatternId&&(r?(s.replace({search:`?pattern=${encodeURIComponent(r)}`}),o()):s.replace({search:""}))}componentWillUnmount(){clearInterval(this.interval)}renderEmpty(){return Object(Ce.jsx)(b.EuiPageContent,{hasShadow:!1,paddingSize:"none",verticalPosition:"center",horizontalPosition:"center"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyPrompt",title:Object(Ce.jsx)("h1",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptTitle",defaultMessage:"Create your first auto-follow pattern"})),body:Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptDescription",defaultMessage:"Use an auto-follow pattern to automatically replicate indices from a remote cluster."})),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/auto_follow_patterns/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createAutoFollowPatternButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.addAutoFollowPatternButtonLabel",defaultMessage:"Create auto-follow pattern"}))}))}renderList(){const{selectAutoFollowPattern:e,autoFollowPatterns:t}=this.props,{isDetailPanelOpen:s}=this.state;return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsDescription",defaultMessage:"An auto-follow pattern replicates leader indices from a remote cluster and copies them to follower indices on the local cluster."}))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(dt,{autoFollowPatterns:t}),s&&Object(Ce.jsx)(ft,{closeDetailPanel:()=>e(null)}))}render(){const{autoFollowPatterns:e,apiError:t,apiStatus:s,isAuthorized:o}=this.props,r=s===I.a.IDLE&&!e.length;if(!o)return Object(Ce.jsx)(l.PageError,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.permissionErrorTitle",defaultMessage:"Permission error"}),error:{error:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.noPermissionText",defaultMessage:"You do not have permission to view or add auto-follow patterns."})}});if(t){const e=c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.loadingErrorTitle",{defaultMessage:"Error loading auto-follow patterns"});return Object(Ce.jsx)(l.PageError,{title:e,error:t.body})}return r?this.renderEmpty():s===I.a.LOADING?Object(Ce.jsx)(l.PageLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.loadingTitle",defaultMessage:"Loading auto-follow patterns..."})):this.renderList()}}const mt=I.b.AUTO_FOLLOW_PATTERN,jt=Object(n.connect)((e=>({autoFollowPatterns:B(e),autoFollowPatternId:D("detail")(e),apiStatus:S(mt)(e),apiError:_(mt)(e),isAuthorized:T(mt)(e)})),(e=>({loadAutoFollowPatterns:t=>e(((e=!1)=>ce({label:K,scope:ue,status:e?I.a.UPDATING:I.a.LOADING,handler:async()=>await Object(M.f)(e)}))(t)),selectAutoFollowPattern:t=>e(de(t)),loadAutoFollowStats:()=>e(ce({label:ne,scope:he,handler:async()=>await Object(M.g)()}))})))(auto_follow_pattern_list_AutoFollowPatternList);class context_menu_ContextMenu extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{isPopoverOpen:!1}),w()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),w()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),w()(this,"editFollowerIndex",(e=>{const t=E.getFollowerIndexPath(e);E.navigate(t)}))}render(){const{followerIndices:e}=this.props,t=e.length,s=e.map((e=>e.name)),{iconSide:r="right",iconType:a="arrowDown",anchorPosition:n="rightUp",label:l=Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.buttonLabel",defaultMessage:"Manage follower {followerIndicesLength, plural, one {index} other {indices}}",values:{followerIndicesLength:t}}),testSubj:i}=this.props,c=Object(Ce.jsx)(b.EuiButton,{"data-test-subj":i,iconSide:r,onClick:this.onButtonClick,iconType:a,fill:!0},l),u=e.filter((({isPaused:e})=>e)).map((e=>e.name)),d=e.filter((({isPaused:e})=>!e));return Object(Ce.jsx)(b.EuiPopover,{button:c,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:n,repositionOnScroll:!0},Object(Ce.jsx)(b.EuiPopoverTitle,{paddingSize:"s"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.title",defaultMessage:"Follower {followerIndicesLength, plural, one {index} other {indices}} options",values:{followerIndicesLength:t}})),Object(Ce.jsx)(b.EuiContextMenuPanel,{"data-test-subj":"contextMenu"},d.length?Object(Ce.jsx)(Ue,{onConfirm:this.closePopover},(e=>Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"pause",onClick:()=>e(d),"data-test-subj":"pauseButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.pauseLabel",defaultMessage:"Pause replication"})))):null,u.length?Object(Ce.jsx)(We,{onConfirm:this.closePopover},(e=>Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"play",onClick:()=>e(u),"data-test-subj":"resumeButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.resumeLabel",defaultMessage:"Resume replication"})))):null,1===s.length&&Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"pencil",onClick:()=>this.editFollowerIndex(s[0]),"data-test-subj":"editButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.editLabel","data-test-subj":"editButton",defaultMessage:"Edit follower index"}))),Object(Ce.jsx)(Ve,{onConfirm:this.closePopover},(e=>Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"indexFlush",onClick:()=>e(s),"data-test-subj":"unfollowButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.unfollowLabel",defaultMessage:"Unfollow leader {followerIndicesLength, plural, one {index} other {indices}}",values:{followerIndicesLength:t}}))))))}}const bt={pause:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionPauseDescription",{defaultMessage:"Pause replication"}),resume:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionResumeDescription",{defaultMessage:"Resume replication"}),edit:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionEditDescription",{defaultMessage:"Edit follower index"}),unfollow:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionUnfollowDescription",{defaultMessage:"Unfollow leader index"})},gt=(e,t)=>{if(t){const s=t.toLowerCase();return e.filter((e=>{const{name:t="",remoteCluster:o="",leaderIndex:r=""}=e;return!!t.toLowerCase().includes(s)||!!r.toLowerCase().includes(s)||!!o.toLowerCase().includes(s)}))}return e};class follower_indices_table_FollowerIndicesTable extends o.PureComponent{static getDerivedStateFromProps(e,t){const{followerIndices:s}=e,{prevFollowerIndices:o,queryText:r}=t;return o!==s?{prevFollowerIndices:s,filteredIndices:gt(s,r)}:null}constructor(e){super(e),w()(this,"onSearch",(({query:e})=>{const{followerIndices:t}=this.props,{text:s}=e;this.setState({queryText:s,filteredIndices:gt(t,s)})})),w()(this,"editFollowerIndex",(e=>{const t=E.getFollowerIndexPath(e);E.navigate(t)})),w()(this,"renderLoading",(()=>{const{apiStatusDelete:e}=this.props;return e===I.a.DELETING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null})),this.state={prevFollowerIndices:e.followerIndices,selectedItems:[],filteredIndices:e.followerIndices,queryText:""}}getTableColumns(e){const{selectFollowerIndex:t}=this.props,s=[{name:bt.pause,description:bt.pause,icon:"pause",onClick:t=>e.pauseFollowerIndex(t),available:e=>!e.isPaused,"data-test-subj":"pauseButton"},{name:bt.resume,description:bt.resume,icon:"play",onClick:t=>e.resumeFollowerIndex(t.name),available:e=>e.isPaused,"data-test-subj":"resumeButton"},{name:bt.edit,description:bt.edit,onClick:e=>this.editFollowerIndex(e.name),icon:"pencil","data-test-subj":"editButton"},{name:bt.unfollow,description:bt.unfollow,onClick:t=>e.unfollowLeaderIndex(t.name),icon:"indexFlush","data-test-subj":"unfollowButton"}];return[{field:"name",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:e=>Object(Ce.jsx)(b.EuiLink,{onClick:()=>{Object(Fe.c)("click",I.t),t(e)},"data-test-subj":"followerIndexLink"},e)},{field:"isPaused",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.statusColumnTitle",{defaultMessage:"Status"}),truncateText:!0,sortable:!0,render:e=>e?Object(Ce.jsx)(b.EuiHealth,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.table.statusColumn.pausedLabel",defaultMessage:"Paused"})):Object(Ce.jsx)(b.EuiHealth,{color:"success"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.table.statusColumn.activeLabel",defaultMessage:"Active"}))},{field:"remoteCluster",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.clusterColumnTitle",{defaultMessage:"Remote cluster"}),truncateText:!0,sortable:!0},{field:"leaderIndex",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.leaderIndexColumnTitle",{defaultMessage:"Leader index"}),truncateText:!0,sortable:!0},{name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:s,width:"100px"}]}render(){const{selectedItems:e,filteredIndices:t}=this.state,s={sort:{field:"name",direction:"asc"}},o={initialPageSize:20,pageSizeOptions:[10,20,50]},a={onSelectionChange:e=>this.setState({selectedItems:e})},n={toolsLeft:e.length?Object(Ce.jsx)(context_menu_ContextMenu,{followerIndices:e,testSubj:"contextMenuButton"}):void 0,toolsRight:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(E._reactRouter.history,"/follower_indices/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createFollowerIndexButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.addFollowerButtonLabel",defaultMessage:"Create a follower index"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"followerIndexSearch"}};return Object(Ce.jsx)($e,null,(e=>{const l=e();return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiInMemoryTable,{items:t,itemId:"name",columns:this.getTableColumns(l),search:n,pagination:o,sorting:s,selection:a,isSelectable:!0,rowProps:()=>({"data-test-subj":"row"}),cellProps:(e,t)=>({"data-test-subj":`cell-${t.field}`}),"data-test-subj":"followerIndexListTable"}),this.renderLoading())}))}}const ht=I.b.FOLLOWER_INDEX,wt=Object(n.connect)((e=>({apiStatusDelete:S(`${ht}-delete`)(e)})),(e=>({selectFollowerIndex:t=>e(je(t))})))(follower_indices_table_FollowerIndicesTable);s(65),s(66);class detail_panel_detail_panel_DetailPanel extends o.Component{renderFollowerIndex(){const{followerIndex:{remoteCluster:e,leaderIndex:t,isPaused:s,shards:r,maxReadRequestOperationCount:a,maxOutstandingReadRequests:n,maxReadRequestSize:l,maxWriteRequestOperationCount:i,maxWriteRequestSize:c,maxOutstandingWriteRequests:u,maxWriteBufferCount:d,maxWriteBufferSize:p,maxRetryDelay:x,readPollTimeout:f}}=this.props;return Object(Ce.jsx)(o.Fragment,null,Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)("section",null,Object(Ce.jsx)(b.EuiDescriptionList,null,Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.statusLabel",defaultMessage:"Status"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"status"},s?Object(Ce.jsx)(b.EuiHealth,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.pausedStatus",defaultMessage:"Paused"})):Object(Ce.jsx)(b.EuiHealth,{color:"success"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.activeStatus",defaultMessage:"Active"}))))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"remoteCluster"},e)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.leaderIndexLabel",defaultMessage:"Leader index"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"leaderIndex"},t))))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)("section",{"aria-labelledby":"ccrFollowerIndexDetailSettingsTitle","data-test-subj":"settingsSection"},Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h3",{id:"ccrFollowerIndexDetailSettingsTitle"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.settingsTitle",defaultMessage:"Settings"}))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),s?Object(Ce.jsx)(b.EuiCallOut,{size:"s",title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.pausedFollowerCalloutTitle",defaultMessage:"A paused follower index does not have settings or shard statistics."})}):Object(Ce.jsx)(b.EuiDescriptionList,{"data-test-subj":"settingsValues"},Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountTitle",defaultMessage:"Max read request operation count"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxReadReqOpCount"},a)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsTitle",defaultMessage:"Max outstanding read requests"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxOutstandingReadReq"},n))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeTitle",defaultMessage:"Max read request size"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxReadReqSize"},l)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountTitle",defaultMessage:"Max write request operation count"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteReqOpCount"},i))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeTitle",defaultMessage:"Max write request size"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteReqSize"},c)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsTitle",defaultMessage:"Max outstanding write requests"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxOutstandingWriteReq"},u))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountTitle",defaultMessage:"Max write buffer count"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteBufferCount"},d)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeTitle",defaultMessage:"Max write buffer size"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteBufferSize"},p))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayTitle",defaultMessage:"Max retry delay"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxRetryDelay"},x)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutTitle",defaultMessage:"Read poll timeout"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"readPollTimeout"},f))))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)("section",{"data-test-subj":"shardsStatsSection"},r&&r.map(((e,t)=>Object(Ce.jsx)(o.Fragment,{key:t},Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)("h3",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.shardStatsTitle",defaultMessage:"Shard {id} stats",values:{id:e.id}}))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiCodeBlock,{language:"json","data-test-subj":"shardsStats"},JSON.stringify(e,null,2))))))))}renderContent(){const{apiStatus:e,followerIndex:t}=this.props;return e===I.a.LOADING?Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiLoadingSpinner,{size:"m"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(b.EuiTextColor,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.loadingLabel",defaultMessage:"Loading follower index…"})))))):t?this.renderFollowerIndex():Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiIcon,{size:"m",type:"alert",color:"danger"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(b.EuiTextColor,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.notFoundLabel",defaultMessage:"Follower index not found"}))))))}renderFooter(){const{followerIndexId:e,followerIndex:t,closeDetailPanel:s}=this.props,o=Object(pt.getIndexListUri)(`name:${e}`);return Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:s,"data-test-subj":"closeFlyoutButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButton,{href:E._reactRouter.getUrlForApp("management",{path:`data/index_management${o}`}),"data-test-subj":"viewIndexManagementButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.viewIndexLink",defaultMessage:"View in Index Management"}))),t&&Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(context_menu_ContextMenu,{iconSide:"left",iconType:"arrowUp",anchorPosition:"upRight",label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.manageButtonLabel",defaultMessage:"Manage"}),followerIndices:[t],testSubj:"manageButton"}))))))}render(){const{followerIndexId:e,closeDetailPanel:t}=this.props;return Object(Ce.jsx)(b.EuiFlyout,{"data-test-subj":"followerIndexDetail",onClose:t,"aria-labelledby":"followerIndexDetailsFlyoutTitle",size:"m",maxWidth:600},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,{size:"m",id:"followerIndexDetailsFlyoutTitle","data-test-subj":"title"},Object(Ce.jsx)("h2",null,e))),this.renderContent(),this.renderFooter())}}const Ot=I.b.FOLLOWER_INDEX,Ft=Object(n.connect)((e=>({followerIndexId:U("detail")(e),followerIndex:W("detail")(e),apiStatus:S(Ot)(e)})))(detail_panel_detail_panel_DetailPanel);class follower_indices_list_FollowerIndicesList extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastFollowerIndexId:null,isDetailPanelOpen:!1})}static getDerivedStateFromProps({followerIndexId:e},{lastFollowerIndexId:t}){return e!==t?{lastFollowerIndexId:e,isDetailPanelOpen:!!e}:null}componentDidMount(){const{loadFollowerIndices:e,selectFollowerIndex:t,history:s}=this.props;Object(Fe.c)(Fe.a.LOADED,I.o),e(),t((({location:{search:e}})=>{const{name:t}=Object(l.extractQueryParams)(e);return t?decodeURIComponent(t):null})(s)),this.interval=setInterval((()=>e(!0)),3e4)}componentDidUpdate(e,t){const{history:s}=this.props,{lastFollowerIndexId:o}=this.state;o!==t.lastFollowerIndexId&&(o?s.replace({search:`?name=${encodeURIComponent(o)}`}):s.replace({search:""}))}componentWillUnmount(){clearInterval(this.interval)}renderEmpty(){return Object(Ce.jsx)(b.EuiPageContent,{hasShadow:!1,paddingSize:"none",verticalPosition:"center",horizontalPosition:"center"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyPrompt",title:Object(Ce.jsx)("h1",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.emptyPromptTitle",defaultMessage:"Create your first follower index"})),body:Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.emptyPromptDescription",defaultMessage:"Use a follower index to replicate a leader index on a remote cluster."})),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/follower_indices/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createFollowerIndexButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.addFollowerButtonLabel",defaultMessage:"Create a follower index"}))}))}renderLoading(){return Object(Ce.jsx)(l.PageLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.loadingTitle",defaultMessage:"Loading follower indices..."}))}renderList(){const{selectFollowerIndex:e,followerIndices:t}=this.props,{isDetailPanelOpen:s}=this.state;return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.followerIndicesDescription",defaultMessage:"A follower index replicates a leader index on a remote cluster."}))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(wt,{followerIndices:t}),s&&Object(Ce.jsx)(Ft,{closeDetailPanel:()=>e(null)}))}render(){const{followerIndices:e,apiError:t,isAuthorized:s,apiStatus:o}=this.props,r=o===I.a.IDLE&&!e.length;if(!s)return Object(Ce.jsx)(l.PageError,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.permissionErrorTitle",defaultMessage:"Permission error"}),error:{error:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.noPermissionText",defaultMessage:"You do not have permission to view or add follower indices."})}});if(t){const e=c.i18n.translate("xpack.crossClusterReplication.followerIndexList.loadingErrorTitle",{defaultMessage:"Error loading follower indices"});return Object(Ce.jsx)(l.PageError,{title:e,error:t.body})}return r?this.renderEmpty():o===I.a.LOADING?this.renderLoading():this.renderList()}}const Ct=I.b.FOLLOWER_INDEX,Et=Object(n.connect)((e=>({followerIndices:V(e),followerIndexId:U("detail")(e),apiStatus:S(Ct)(e),apiError:_(Ct)(e),isAuthorized:T(Ct)(e)})),(e=>({loadFollowerIndices:t=>e(be(t)),selectFollowerIndex:t=>e(je(t))})))(follower_indices_list_FollowerIndicesList);class home_CrossClusterReplicationHome extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{activeSection:"follower_indices"}),w()(this,"tabs",[{id:"follower_indices",name:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.followerIndicesTitle",defaultMessage:"Follower indices"}),testSubj:"followerIndicesTab"},{id:"auto_follow_patterns",name:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsTitle",defaultMessage:"Auto-follow patterns"}),testSubj:"autoFollowPatternsTab"}]),w()(this,"onSectionChange",(e=>{u([d(`/${e}`)]),E.navigate(`/${e}`)}))}componentDidMount(){u([d()])}static getDerivedStateFromProps(e){const{match:{params:{section:t}}}=e;return{activeSection:t}}render(){return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Ce.jsx)("span",{"data-test-subj":"appTitle"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.crossClusterReplicationTitle",defaultMessage:"Cross-Cluster Replication"})),tabs:this.tabs.map((e=>({onClick:()=>this.onSectionChange(e.id),isSelected:e.id===this.state.activeSection,key:e.id,"data-test-subj":e.testSubj,label:e.name})))}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(m.Switch,null,Object(Ce.jsx)(m.Route,{exact:!0,path:"/follower_indices",component:Et}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/auto_follow_patterns",component:jt})))}}const Mt=Object(n.connect)((e=>({autoFollowPatterns:B(e),isAutoFollowApiAuthorized:T(I.b.AUTO_FOLLOW_PATTERN)(e),followerIndices:V(e),isFollowerIndexApiAuthorized:T(I.b.FOLLOWER_INDEX)(e)})),null)(home_CrossClusterReplicationHome);class auto_follow_pattern_add_AutoFollowPatternAdd extends o.PureComponent{componentDidMount(){u([d("/auto_follow_patterns"),p])}componentWillUnmount(){this.props.clearApiError()}render(){const{saveAutoFollowPattern:e,apiStatus:t,apiError:s,match:{url:o}}=this.props;return Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:r,error:a,remoteClusters:n})=>r?Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued","data-test-subj":"remoteClustersLoading"},Object(Ce.jsx)(l.SectionLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))):Object(Ce.jsx)(b.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(qe,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.addTitle",defaultMessage:"Add auto-follow pattern"})}),Object(Ce.jsx)(auto_follow_pattern_form_AutoFollowPatternForm,{apiStatus:t,apiError:s,currentUrl:o,remoteClusters:a?[]:n,saveAutoFollowPattern:e,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.saveButtonLabel",defaultMessage:"Create"})}))))}}const It=I.b.AUTO_FOLLOW_PATTERN,Pt=Object(n.connect)((e=>({apiStatus:S(`${It}-save`)(e),apiError:_(`${It}-save`)(e)})),(e=>({saveAutoFollowPattern:(t,s)=>e(pe(t,s)),clearApiError:()=>e(ie(It))})))(auto_follow_pattern_add_AutoFollowPatternAdd);class auto_follow_pattern_edit_AutoFollowPatternEdit extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastAutoFollowPatternId:void 0})}static getDerivedStateFromProps({autoFollowPatternId:e},{lastAutoFollowPatternId:t}){return t!==e?{lastAutoFollowPatternId:e}:null}componentDidMount(){const{match:{params:{id:e}},selectAutoFollowPattern:t}=this.props;t(decodeURIComponent(e)),u([d("/auto_follow_patterns"),x])}componentDidUpdate(e,t){const{autoFollowPattern:s,getAutoFollowPattern:o}=this.props;s||t.lastAutoFollowPatternId===this.state.lastAutoFollowPatternId||o(this.state.lastAutoFollowPatternId)}componentWillUnmount(){this.props.clearApiError()}renderGetAutoFollowPatternError(e){const{match:{params:{id:t}}}=this.props,s=404===e.body.statusCode?{error:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorMessage",{defaultMessage:"The auto-follow pattern '{name}' does not exist.",values:{name:t}})}:e;return Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"alert",title:Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorTitle",defaultMessage:"Error loading auto-follow pattern"})),body:Object(Ce.jsx)("p",null,s),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/auto_follow_patterns"),{color:"danger",flush:"left",iconType:"arrowLeft","data-test-subj":"viewAutoFollowPatternListButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.viewAutoFollowPatternsButtonLabel",defaultMessage:"View auto-follow patterns"}))}))}renderLoading(e){return Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(l.SectionLoading,null,e))}render(){const{saveAutoFollowPattern:e,apiStatus:t,apiError:s,autoFollowPattern:o,match:{url:r}}=this.props;return t.get!==I.a.LOADING&&o?s.get?this.renderGetAutoFollowPatternError(s.get):Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:a,error:n,remoteClusters:l})=>a?this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingRemoteClustersMessage",{defaultMessage:"Loading remote clusters…"})):Object(Ce.jsx)(b.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(qe,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.editTitle",defaultMessage:"Edit auto-follow pattern"})}),Object(Ce.jsx)(auto_follow_pattern_form_AutoFollowPatternForm,{apiStatus:t.save,apiError:s.save,currentUrl:r,remoteClusters:n?[]:l,autoFollowPattern:o,saveAutoFollowPattern:e,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.saveButtonLabel",defaultMessage:"Update"})})))):this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingTitle",{defaultMessage:"Loading auto-follow pattern…"}))}}const Rt=I.b.AUTO_FOLLOW_PATTERN,vt=Object(n.connect)((e=>({apiStatus:{get:S(`${Rt}-get`)(e),save:S(`${Rt}-save`)(e)},apiError:{get:_(`${Rt}-get`)(e),save:_(`${Rt}-save`)(e)},autoFollowPatternId:D("edit")(e),autoFollowPattern:N("edit")(e)})),(e=>({getAutoFollowPattern:t=>e((e=>ce({label:Q,scope:`${ue}-get`,handler:async()=>await Object(M.d)(e)}))(t)),selectAutoFollowPattern:t=>e((e=>({type:X,payload:e}))(t)),saveAutoFollowPattern:(t,s)=>{const{active:o,remoteCluster:r,leaderIndexPatterns:a,followIndexPattern:n}=s;e(pe(t,{active:o,remoteCluster:r,leaderIndexPatterns:a,followIndexPattern:n},!0))},clearApiError:()=>{e(ie(`${Rt}-get`)),e(ie(`${Rt}-save`))}})))(auto_follow_pattern_edit_AutoFollowPatternEdit);class follower_index_add_FollowerIndexAdd extends o.PureComponent{componentDidMount(){u([d("/follower_indices"),p])}componentWillUnmount(){this.props.clearApiError()}render(){const{saveFollowerIndex:e,clearApiError:t,apiStatus:s,apiError:o,match:{url:r}}=this.props;return Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:a,error:n,remoteClusters:i})=>a?Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued","data-test-subj":"remoteClustersLoading"},Object(Ce.jsx)(l.SectionLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexCreateForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))):Object(Ce.jsx)(b.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(rt,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.addTitle",defaultMessage:"Add follower index"})}),Object(Ce.jsx)(follower_index_form_FollowerIndexForm,{apiStatus:s,apiError:o,currentUrl:r,remoteClusters:n?[]:i,saveFollowerIndex:e,clearApiError:t,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexCreateForm.saveButtonLabel",defaultMessage:"Create"})}))))}}const yt=I.b.FOLLOWER_INDEX,St=Object(n.connect)((e=>({apiStatus:S(`${yt}-save`)(e),apiError:_(`${yt}-save`)(e)})),(e=>({saveFollowerIndex:(t,s)=>e(ge(t,s)),clearApiError:()=>e(ie(`${yt}-save`))})))(follower_index_add_FollowerIndexAdd);class follower_index_edit_FollowerIndexEdit extends o.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastFollowerIndexId:void 0,showConfirmModal:!1}),w()(this,"saveFollowerIndex",((e,t)=>{this.editedFollowerIndexPayload={name:e,followerIndex:t},this.showConfirmModal()})),w()(this,"confirmSaveFollowerIhdex",(()=>{const{name:e,followerIndex:t}=this.editedFollowerIndexPayload;this.props.saveFollowerIndex(e,t),this.closeConfirmModal()})),w()(this,"showConfirmModal",(()=>this.setState({showConfirmModal:!0}))),w()(this,"closeConfirmModal",(()=>this.setState({showConfirmModal:!1}))),w()(this,"renderConfirmModal",(()=>{const{followerIndexId:e,followerIndex:{isPaused:t}}=this.props,s=c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.confirmModal.title",{defaultMessage:"Update follower index '{id}'?",values:{id:e}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:s,onCancel:this.closeConfirmModal,onConfirm:this.confirmSaveFollowerIhdex,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:t?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.confirmAndResumeButtonText",defaultMessage:"Update and resume"}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.confirmButtonText",defaultMessage:"Update"})},Object(Ce.jsx)("p",null,t?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.resumeDescription",defaultMessage:"Updating a follower index resumes replication of its leader index."}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.description",defaultMessage:"The follower index is paused, then resumed. If the update fails, try manually resuming replication."})))}))}static getDerivedStateFromProps({followerIndexId:e},{lastFollowerIndexId:t}){return t!==e?{lastFollowerIndexId:e}:null}componentDidMount(){const{match:{params:{id:e}},selectFollowerIndex:t}=this.props;let s;try{s=decodeURI(e),s=decodeURIComponent(s)}catch(t){s=decodeURIComponent(e)}t(s),u([d("/follower_indices"),x])}componentDidUpdate(e,t){const{followerIndex:s,getFollowerIndex:o}=this.props;s||t.lastFollowerIndexId===this.state.lastFollowerIndexId||o(this.state.lastFollowerIndexId)}componentWillUnmount(){this.props.clearApiError()}renderLoading(e){return Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(l.SectionLoading,null,e))}renderGetFollowerIndexError(e){const{match:{params:{id:t}}}=this.props,s=404===e.body.statusCode?{error:c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.loadingErrorMessage",{defaultMessage:"The follower index '{name}' does not exist.",values:{name:t}})}:e;return Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"alert",title:Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.loadingErrorTitle",defaultMessage:"Error loading follower index"})),body:Object(Ce.jsx)("p",null,s),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/follower_indices"),{color:"danger",flush:"left",iconType:"arrowLeft"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.viewFollowerIndicesButtonLabel",defaultMessage:"View follower indices"}))}))}render(){const{clearApiError:e,apiStatus:t,apiError:s,followerIndex:o,match:{url:r}}=this.props,{showConfirmModal:a}=this.state,{shards:n,...l}=o||{};return t.get!==I.a.LOADING&&o?s.get?this.renderGetFollowerIndexError(s.get):Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:o,error:n,remoteClusters:i})=>o?this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.loadingRemoteClustersMessage",{defaultMessage:"Loading remote clusters…"})):Object(Ce.jsx)(b.EuiPageContentBody,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(rt,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.editTitle",defaultMessage:"Edit follower index"})}),Object(Ce.jsx)(follower_index_form_FollowerIndexForm,{followerIndex:l,apiStatus:t.save,apiError:s.save,currentUrl:r,remoteClusters:n?[]:i,saveFollowerIndex:this.saveFollowerIndex,clearApiError:e,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.saveButtonLabel",defaultMessage:"Update"})}),a&&this.renderConfirmModal()))):this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.loadingFollowerIndexTitle",{defaultMessage:"Loading follower index…"}))}}const _t=I.b.FOLLOWER_INDEX,Tt=Object(n.connect)((e=>({apiStatus:{get:S(`${_t}-get`)(e),save:S(`${_t}-save`)(e)},apiError:{get:_(`${_t}-get`)(e),save:_(`${_t}-save`)(e)},followerIndexId:U("edit")(e),followerIndex:W("edit")(e)})),(e=>({getFollowerIndex:t=>e((e=>ce({label:re,scope:`${me}-get`,handler:async()=>await Object(M.e)(e)}))(t)),selectFollowerIndex:t=>e((e=>({type:se,payload:e}))(t)),saveFollowerIndex:(t,s)=>e(ge(t,s,!0)),clearApiError:()=>{e(ie(`${_t}-get`)),e(ie(`${_t}-save`))}})))(follower_index_edit_FollowerIndexEdit);class app_AppComponent extends o.Component{constructor(e){super(e),this.registerRouter(),this.state={isFetchingPermissions:!1,fetchPermissionError:void 0,hasPermission:!1,missingClusterPrivileges:[]}}componentDidMount(){this.checkPermissions()}async checkPermissions(){this.setState({isFetchingPermissions:!0});try{const{hasPermission:e,missingClusterPrivileges:t}=await Object(M.j)();this.setState({isFetchingPermissions:!1,hasPermission:e,missingClusterPrivileges:t})}catch(e){if(e&&e.body)return this.setState({isFetchingPermissions:!1,fetchPermissionError:e});Object(g.a)().add(e,c.i18n.translate("xpack.crossClusterReplication.app.checkPermissionsFatalErrorTitle",{defaultMessage:"Cross-Cluster Replication app"}))}}registerRouter(){const{history:e,getUrlForApp:t}=this.props;E.reactRouter={history:e,route:{location:e.location},getUrlForApp:t}}render(){const{isFetchingPermissions:e,fetchPermissionError:t,hasPermission:s,missingClusterPrivileges:o}=this.state;return e?Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(l.SectionLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.permissionCheckTitle",defaultMessage:"Checking permissions…"}))):t?Object(Ce.jsx)(l.PageError,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.permissionCheckErrorTitle",defaultMessage:"Error checking permissions"}),error:t}):s?Object(Ce.jsx)(m.Router,{history:this.props.history},Object(Ce.jsx)(m.Switch,null,Object(Ce.jsx)(m.Redirect,{exact:!0,from:"/",to:"/follower_indices"}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/auto_follow_patterns/add",component:Pt}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/auto_follow_patterns/edit/:id",component:vt}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/follower_indices/add",component:St}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/follower_indices/edit/:id",component:Tt}),Object(Ce.jsx)(m.Route,{exact:!0,path:["/:section"],component:Mt}))):Object(Ce.jsx)(b.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"securityApp",title:Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.deniedPermissionTitle",defaultMessage:"You're missing cluster privileges"})),body:Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.deniedPermissionDescription",defaultMessage:"To use Cross-Cluster Replication, you must have {clusterPrivilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {clusterPrivileges}.",values:{clusterPrivileges:o.join(", "),clusterPrivilegesCount:o.length}}))}))}}const Lt=app_AppComponent;var kt=s(34),At=s(67),Dt=s.n(At);const Nt={status:{[I.b.AUTO_FOLLOW_PATTERN]:I.a.IDLE,[I.b.FOLLOWER_INDEX]:I.a.IDLE},error:{[I.b.AUTO_FOLLOW_PATTERN]:null,[I.b.FOLLOWER_INDEX]:null}},Bt={byId:{},selectedDetailId:null,selectedEditId:null},qt=e=>`${e}_SUCCESS`,zt=(e,t,s)=>{const o={...t};return e.forEach((e=>{o[e].active=s})),o},Ut=e=>{const{followIndexPatternPrefix:t,followIndexPatternSuffix:s}=(e=>{let t,s;const o="{{leader_index}}",r=e.indexOf(o);return r>=0&&(t=e.slice(0,r),s=e.slice(r+o.length)),{followIndexPatternPrefix:t,followIndexPatternSuffix:s}})(e.followIndexPattern);return{...e,followIndexPatternPrefix:t,followIndexPatternSuffix:s}},Wt={byId:{},selectedDetailId:null,selectedEditId:null},Vt=e=>`${e}_SUCCESS`,$t=e=>({...e,isPaused:"paused"===e.status}),Gt=e=>{if(!e.leaderIndex)return null;const{leaderIndex:t,autoFollowException:s,timestamp:o}=e;return{id:t.substring(0,t.lastIndexOf(":")),timestamp:o,leaderIndex:t,autoFollowException:s}},Ht=(e,t=5)=>e.map(Gt).filter((e=>null!==e)).reduce(((e,s)=>(e[s.id]||(e[s.id]=[]),e[s.id].length===t||e[s.id].push(s),e)),{}),Yt={autoFollow:null},Xt=Object(kt.combineReducers)({autoFollowPattern:(e=Bt,t)=>{switch(t.type){case qt(K):return{...e,byId:v(t.payload.patterns.map(Ut),"name")};case qt(Q):return{...e,byId:{...e.byId,[t.payload.name]:Ut(t.payload)}};case Y:return{...e,selectedDetailId:t.payload};case X:return{...e,selectedEditId:t.payload};case qt(J):{const s={...e.byId},{itemsDeleted:o}=t.payload;return o.forEach((e=>delete s[e])),{...e,byId:s}}case qt(Z):{const{itemsPaused:s}=t.payload;return{...e,byId:zt(s,e.byId,!1)}}case qt(ee):{const{itemsResumed:s}=t.payload;return{...e,byId:zt(s,e.byId,!0)}}default:return e}},followerIndex:(e=Wt,t)=>{switch(t.type){case Vt(oe):return{...e,byId:v(t.payload.indices.map($t),"name")};case Vt(re):return{...e,byId:{...e.byId,[t.payload.name]:$t(t.payload)}};case te:return{...e,selectedDetailId:t.payload};case se:return{...e,selectedEditId:t.payload};case Vt(ae):{const s={...e.byId},{itemsUnfollowed:o}=t.payload;return o.forEach((e=>delete s[e])),{...e,byId:s}}default:return e}},api:(e=Nt,t)=>{const s=t.payload||{},{scope:o,status:r,error:a}=s;switch(t.type){case $:return{...e,status:{...e.status,[o]:r}};case G:return{...e,status:{...e.status,[o]:I.a.IDLE}};case H:return{...e,error:{...e.error,[o]:a}};default:return e}},stats:(e=Yt,t)=>{if("AUTO_FOLLOW_STATS_LOAD_SUCCESS"===t.type){const{recentAutoFollowErrors:s,...o}=t.payload;return{...e,autoFollow:{...o,recentAutoFollowErrors:Ht(s)}}}return e}}),Kt=function(e={}){const t=[Object(kt.applyMiddleware)(Dt.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&t.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(kt.createStore)(Xt,e,Object(kt.compose)(...t))}(),Qt=({history:e,executionContext:t,getUrlForApp:s})=>(Object(i.useExecutionContext)(t,{type:"application",page:"crossClusterReplication"}),Object(Ce.jsx)(Lt,{history:e,getUrlForApp:s}));async function Jt({element:e,setBreadcrumbs:t,I18nContext:s,docLinks:o,history:r,getUrlForApp:l,theme$:c,executionContext:d}){return u=t,(e=>{f=e.links})(o),((e,t,s,o,r,l)=>(Object(a.render)(Object(Ce.jsx)(t,null,Object(Ce.jsx)(i.KibanaThemeProvider,{theme$:r},Object(Ce.jsx)(n.Provider,{store:Kt},Object(Ce.jsx)(Qt,{history:s,getUrlForApp:o,executionContext:l})))),e),()=>Object(a.unmountComponentAtNode)(e)))(e,s,r,l,c,d)}}])]);