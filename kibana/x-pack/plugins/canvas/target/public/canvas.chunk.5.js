/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[5],{103:function(t,e,n){"use strict";e.__esModule=!0,e.ACTION_TYPE_DELIMITER=e.DEFAULT_NAMESPACE=void 0,e.DEFAULT_NAMESPACE="/",e.ACTION_TYPE_DELIMITER="||"},104:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},105:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return p}));var r=n(60),o=n(19);const i="filters",c=["removeFilter"],u=[i,"selectFilter",...c],a=t=>t?`${t}`:"-",s=(t,e)=>{return Object(o.flowRight)((n=e,t=>Object.keys(t).reduce(((e,r)=>{var o;return{...e,[r]:{label:t[r].label,formattedValue:(null!==(o=t[r].formatter)&&void 0!==o?o:a)(n[r]),component:t[r].component}}}),{})),(t=>e=>Object.keys(e).reduce(((n,r)=>{const o=e[r];if("function"==typeof o){const e=o(t[r]);return{...n,...e}}return{...n,[r]:o}}),{}))(e))(t);var n},d=(t,e)=>{const n=Object(o.groupBy)(t,(t=>t[e]));return Object.keys(n).map((t=>{var r,o;return{name:null!==(r=n[t])&&void 0!==r&&null!==(o=r[0])&&void 0!==o&&o[e]?t:null,filters:n[t]}}))},f=(t,e)=>{const n=t.map((t=>Object(r.d)(t))),u=e.reduce(((t,e)=>{if(c.includes(e.function))return((t,e)=>{var n,r,i;const c=null!==(n=e.arguments.group)&&void 0!==n?n:[],u=null!==(r=null===(i=e.arguments.ungrouped)||void 0===i?void 0:i[0])&&void 0!==r&&r;return t.filter((t=>{const e=Object(o.get)(t,"chain[0].arguments.filterGroup",[]).filter((t=>""!==t)),n=!(e.length&&c.length&&c.includes(e[0])),r=u&&e.length||!u;return!(!c.length&&!u)&&r&&n}))})(t,e);const r=e.function===i;return((t,e,n=!1)=>{var r,i,c;const u=null!==(r=e.arguments.group)&&void 0!==r?r:[],a=null!==(i=null===(c=e.arguments.ungrouped)||void 0===c?void 0:c[0])&&void 0!==i&&i;return t.filter((t=>{const e=Object(o.get)(t,"chain[0].arguments.filterGroup",[]).filter((t=>""!==t)),r=e.length&&u.length&&u.includes(e[0]),i=a&&!e.length&&(!n||!u.length),c=!u.length&&!a;return i||r||c}))})(r?n:t,e,r)}),n);return u.map((t=>Object(r.h)(t)))},l=t=>Object(r.d)(t).chain.filter((t=>u.includes(t.function))),p=t=>Object(r.d)(t).chain.some((t=>u.includes(t.function)))},106:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return a}));var r=n(63);const o=Object(r.createAction)("createAsset",((t,e,n)=>({type:t,value:e,id:n}))),i=Object(r.createAction)("setAssetContent",((t,e)=>({id:t,value:e}))),c=Object(r.createAction)("removeAsset"),u=Object(r.createAction)("setAssets"),a=Object(r.createAction)("resetAssets")},115:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var r=n(19);function o(t,e){return Object(r.toPath)(e).concat(Object(r.toPath)(t))}function i(t,e){return Object(r.toPath)(t).concat(Object(r.toPath)(e))}function c(t){return Object(r.toPath)(t)}},116:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return"function"==typeof t}},117:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return"undefined"!=typeof Map&&t instanceof Map}},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return a}));var r=n(19),o=n(73),i=n(115);function c(t){return Object(r.get)(t,["transient","resolvedArgs"])}function u(t,e){return o.c(function(t,e){return Object(r.get)(t,Object(i.c)(e,["transient","resolvedArgs"]))}(t,e))}function a(t){return Object(r.get)(t,["transient","inFlight"],!1)}},119:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(71));function i(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var c="function"==typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function s(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function d(t,e){return function(){return e(t.apply(this,arguments))}}function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}e.__DO_NOT_USE__ActionTypes=a,e.applyMiddleware=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(i(15))},c={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},u=e.map((function(t){return t(c)}));return r=f.apply(void 0,u)(n.dispatch),o.default(o.default({},n),{},{dispatch:r})}}},e.bindActionCreators=function(t,e){if("function"==typeof t)return d(t,e);if("object"!=typeof t||null===t)throw new Error(i(16));var n={};for(var r in t){var o=t[r];"function"==typeof o&&(n[r]=d(o,e))}return n},e.combineReducers=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var c,u=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:a.INIT}))throw new Error(i(12));if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(t){c=t}return function(t,e){if(void 0===t&&(t={}),c)throw c;for(var r=!1,o={},a=0;a<u.length;a++){var s=u[a],d=n[s],f=t[s],l=d(f,e);if(void 0===l)throw e&&e.type,new Error(i(14));o[s]=l,r=r||l!==f}return(r=r||u.length!==Object.keys(t).length)?o:t}},e.compose=f,e.createStore=function t(e,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error(i(1));return r(t)(e,n)}if("function"!=typeof e)throw new Error(i(2));var u=e,d=n,f=[],l=f,p=!1;function b(){l===f&&(l=f.slice())}function g(){if(p)throw new Error(i(3));return d}function v(t){if("function"!=typeof t)throw new Error(i(4));if(p)throw new Error(i(5));var e=!0;return b(),l.push(t),function(){if(e){if(p)throw new Error(i(6));e=!1,b();var n=l.indexOf(t);l.splice(n,1),f=null}}}function h(t){if(!s(t))throw new Error(i(7));if(void 0===t.type)throw new Error(i(8));if(p)throw new Error(i(9));try{p=!0,d=u(d,t)}finally{p=!1}for(var e=f=l,n=0;n<e.length;n++)(0,e[n])();return t}function O(t){if("function"!=typeof t)throw new Error(i(10));u=t,h({type:a.REPLACE})}function j(){var t,e=v;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(i(11));function n(){t.next&&t.next(g())}return n(),{unsubscribe:e(n)}}})[c]=function(){return this},t}return h({type:a.INIT}),(o={dispatch:h,subscribe:v,getState:g,replaceReducer:O})[c]=j,o}},120:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"r",(function(){return f})),n.d(e,"q",(function(){return l})),n.d(e,"p",(function(){return p})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return g})),n.d(e,"n",(function(){return v})),n.d(e,"j",(function(){return h})),n.d(e,"s",(function(){return O})),n.d(e,"i",(function(){return j})),n.d(e,"h",(function(){return y})),n.d(e,"o",(function(){return m})),n.d(e,"k",(function(){return _}));const r=[NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN,NaN],o=[0,0,0,1],i=[1,0,0,1],c=[0,1,0,1],u=[-1,1,0,1],a=[1,1,0,1],s=[-1,-1,0,1],d=[1,-1,0,1],f=(t,e,n)=>[1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1],l=(t,e,n)=>[t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1],p=t=>{const e=Math.sin(t),n=Math.cos(t);return[n,-e,0,0,e,n,0,0,0,0,1,0,0,0,0,1]},b=(t,...e)=>e.reduce(((t,e)=>(([t,e,n,r,o,i,c,u,a,s,d,f,l,p,b,g],[v,h,O,j,y,m,A,_,w,x,E,I,M,S,N,P])=>[t*v+o*h+a*O+l*j,e*v+i*h+s*O+p*j,n*v+c*h+d*O+b*j,r*v+u*h+f*O+g*j,t*y+o*m+a*A+l*_,e*y+i*m+s*A+p*_,n*y+c*m+d*A+b*_,r*y+u*m+f*A+g*_,t*w+o*x+a*E+l*I,e*w+i*x+s*E+p*I,n*w+c*x+d*E+b*I,r*w+u*x+f*E+g*I,t*M+o*S+a*N+l*P,e*M+i*S+s*N+p*P,n*M+c*S+d*N+b*P,r*M+u*S+f*N+g*P])(t,e)),t),g=([t,e,n,r,o,i,c,u,a,s,d,f,l,p,b,g],[v,h,O,j])=>[t*v+o*h+a*O+l*j,e*v+i*h+s*O+p*j,n*v+c*h+d*O+b*j,r*v+u*h+f*O+g*j],v=([t,e,n,r])=>1===r?[t,e,n,r]:[t/r,e/r,n/r,1],h=([t,e,n,o,i,c,u,a,s,d,f,l,p,b,g,v])=>{const h=[c*f*v-c*l*g-d*u*v+d*a*g+b*u*l-b*a*f,-e*f*v+e*l*g+d*n*v-d*o*g-b*n*l+b*o*f,e*u*v-e*a*g-c*n*v+c*o*g+b*n*a-b*o*u,-e*u*l+e*a*f+c*n*l-c*o*f-d*n*a+d*o*u,-i*f*v+i*l*g+s*u*v-s*a*g-p*u*l+p*a*f,t*f*v-t*l*g-s*n*v+s*o*g+p*n*l-p*o*f,-t*u*v+t*a*g+i*n*v-i*o*g-p*n*a+p*o*u,t*u*l-t*a*f-i*n*l+i*o*f+s*n*a-s*o*u,i*d*v-i*l*b-s*c*v+s*a*b+p*c*l-p*a*d,-t*d*v+t*l*b+s*e*v-s*o*b-p*e*l+p*o*d,t*c*v-t*a*b-i*e*v+i*o*b+p*e*a-p*o*c,-t*c*l+t*a*d+i*e*l-i*o*d-s*e*a+s*o*c,-i*d*g+i*f*b+s*c*g-s*u*b-p*c*f+p*u*d,t*d*g-t*f*b-s*e*g+s*n*b+p*e*f-p*n*d,-t*c*g+t*u*b+i*e*g-i*n*b-p*e*u+p*n*c,t*c*f-t*u*d-i*e*f+i*n*d+s*e*u-s*n*c],O=t*h[0]+e*h[4]+n*h[8]+o*h[12];if(0===O)return r;{const t=1/O;for(let e=0;e<16;e++)h[e]*=t;return h}},O=t=>[1,0,0,0,0,1,0,0,0,0,1,0,t[12],t[13],t[14],1],j=([t,e,n,r,o,i,c,u,a,s,d,f,l,p,b,g])=>[t,e,n,r,o,i,c,u,a,s,d,f,0,0,0,g],y=([t,e,n,r],[o,i,c,u])=>[t*o,e*i,n*c,r*u],m=t=>1===t.length?t[0]:t.slice(1).reduce(((t,e)=>b(t,e)),t[0]),A=(t,e,n)=>Math.min(e,Math.max(t,n)),_=t=>{const e=Math.acos(A(-1,1,t[0]));return Math.asin(A(-1,1,t[1]))>0?e:-e}},144:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){void 0===e&&(e=i.default),(0,r.default)((0,o.default)(e)||(0,c.default)(e),"Expected payloadCreator to be a function, undefined or null");var u=(0,c.default)(e)||e===i.default?i.default:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t instanceof Error?t:e.apply(void 0,[t].concat(r))},a=(0,o.default)(n),s=t.toString(),d=function(){var e=u.apply(void 0,arguments),r={type:t};return e instanceof Error&&(r.error=!0),void 0!==e&&(r.payload=e),a&&(r.meta=n.apply(void 0,arguments)),r};return d.toString=function(){return s},d};var r=u(n(82)),o=u(n(116)),i=u(n(145)),c=u(n(302));function u(t){return t&&t.__esModule?t:{default:t}}},145:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return t}},146:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){if((0,o.default)(t))return Array.from(t.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(t);var e=Object.getOwnPropertyNames(t);return"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e};var r,o=(r=n(117))&&r.__esModule?r:{default:r}},147:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=n(319).createThunk},148:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>document.title=`${t} - Kibana`},149:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(63);Object(r.createAction)("undoHistory"),Object(r.createAction)("redoHistory");const o=Object(r.createAction)("restoreHistory")},150:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(81),o=n(72);const i=t=>{const e=Object(r.a)(t.map((t=>t.id)));return Object.keys(e).forEach((t=>e[t]=Object(o.a)(t.split("-")[0]))),t.map((t=>({...t,id:e[t.id],position:{...t.position,parent:t.position.parent?e[t.position.parent]:null}})))}},151:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return a}));var r=n(63),o=n(147),i=n(62);const c="updateEmbeddableExpression",u=Object(r.createAction)(c),a=Object(o.a)("fetchEmbeddableRenderable",(({dispatch:t,getState:e},n)=>{const r=e().persistent.workpad.pages.find((t=>void 0!==t.elements.find((t=>t.id===n))));if(r){const e=r.elements.find((t=>t.id===n));t(Object(i.g)(e))}}))},159:function(t,e,n){"use strict";n.d(e,"e",(function(){return wt})),n.d(e,"a",(function(){return xt})),n.d(e,"b",(function(){return Et})),n.d(e,"c",(function(){return It})),n.d(e,"d",(function(){return Mt}));var r=n(119),o=n(19),i=n(299),c=n.n(i),u=n(6),a=n(8),s=n(115),d=n(90);const f=t=>Object(s.b)(t).join("/"),l=(({loadingIndicator:t,pendingCache:e})=>({dispatch:n})=>r=>o=>{if(o.type===d.h){const t=f(o.payload.path);e.push(t),n(Object(d.c)())}else if(o.type===d.j){const t=f(o.payload.path),r=e.indexOf(t);r>=0&&e.splice(r,1),0===e.length&&n(Object(d.e)())}else o.type===d.d?t.show():o.type===d.f&&t.hide();r(o)})({loadingIndicator:a.b,pendingCache:[]});var p=n(83),b=n(62),g=n(75),v=n(59),h=n(148),O=n(74);const j=[Object(r.applyMiddleware)(c.a,(({dispatch:t,getState:e})=>n=>r=>{n(r);const o=e(),i=Object(v.e)(o),c=Object(v.a)(o).length,u=Object(v.d)(o),{ready:a,error:s}=u,d=c-a-s;!(c>0||i.total>0)||a===i.ready&&d===i.pending&&s===i.error&&c===i.total||t(Object(O.b)({total:c,ready:a,pending:d,error:s}))}),(({dispatch:t,getState:e})=>n=>r=>{const o=Object(v.a)(e()).map((t=>t.id));n(r);const i=Object(v.a)(e()).map((t=>t.id)),c=o.filter((t=>!i.includes(t)));c.length>0&&t(Object(d.b)(c))}),l,(({dispatch:t,getState:e})=>n=>r=>{const o=Object(v.C)(e()),i=Object(v.z)(e());if(n(r),Object(v.z)(e())!==i&&Object(h.a)(Object(v.z)(e())),r.type===p.b.toString()&&t(Object(b.e)()),r.type===g.m.toString()&&o!==Object(v.C)(e())){const t=Object(u.a)();"function"==typeof t.getSelection&&t.getSelection().collapse(document.querySelector("body"),0)}}))],y=(Object(u.a)().__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose)(...j);var m=n(324),A=n.n(m),_=n(63),w=n(214);const x=Object(_.handleActions)({[w.b]:t=>({...t,ready:!0}),[w.a]:(t,{payload:e})=>({...t,ready:e})},{});var E=n(76),I=n.n(E),M=n(149);const{set:S,del:N}=I.a,P=Object(_.handleActions)({[M.a]:t=>S(t,"resolvedArgs",{}),[b.k]:(t,{payload:{elementIds:e}})=>{const{selectedToplevelNodes:n}=t;return N({...t,selectedToplevelNodes:n.filter((t=>e.indexOf(t)<0))},["resolvedArgs",e])},[O.c]:(t,{payload:e})=>S(t,"isFirstLoad",Boolean(e)),[O.d]:(t,{payload:e})=>S(t,"fullscreen",Boolean(e)),[O.b]:(t,{payload:e})=>S(t,"elementStats",e),[O.a]:(t,{payload:e})=>({...t,selectedToplevelNodes:e}),[O.e]:(t,{payload:e})=>({...t,zoomScale:e||1}),[p.e]:t=>({...t,selectedToplevelNodes:[]}),[p.a]:t=>({...t,selectedToplevelNodes:[]}),[p.b]:t=>({...t,selectedToplevelNodes:[]}),[g.i]:(t,{payload:e})=>({...t,refresh:{interval:Number(e)||0}}),[g.b]:(t,{payload:e})=>S(t,"autoplay.enabled",Boolean(e)||!1),[g.f]:(t,{payload:e})=>S(t,"autoplay.interval",Number(e)||0)},{}),{set:T,del:C}=I.a;function R(t,e){return t?"error":Boolean(e)?"pending":"ready"}function k(t,e,n){return t||null==e?n&&n.value:e}function $(t,e=!1,n=null){const r=t instanceof Error;return{state:R(r,e),value:k(r,t,n),error:r?t:null}}function F(t){if(!Array.isArray(t)&&"string"!=typeof t)throw new Error(`Resolved argument path is invalid: ${t}`);return Object(s.c)(t,"resolvedArgs")}const L=Object(_.handleActions)({[d.g]:(t,{payload:e})=>{const{path:n,loading:r=!0}=e,i=F(n),c=Object(o.get)(t,i,null);return T(t,i,$(Object(o.get)(c,"value",null),r))},[d.i]:(t,{payload:e})=>{const{path:n,value:r}=e,i=F(n),c=Object(o.get)(t,i,null);return T(t,i,$(r,!1,c))},[d.k]:(t,{payload:e})=>e.reduce(((t,e)=>{const n=F(e.path),r=Object(o.get)(t,n,null);return T(t,n,$(e.value,!1,r))}),t),[d.a]:(t,{payload:e})=>{const{path:n}=e;return C(t,F(n))},[d.b]:(t,{payload:e})=>e.reduce(((t,e)=>C(t,F(e))),t),[d.c]:t=>T(t,"inFlight",!0),[d.e]:t=>T(t,"inFlight",!1),[b.h]:(t,{payload:e})=>C(t,F([e,"expressionContext"])),[b.i]:(t,{payload:e})=>{const{elementId:n,index:r}=e,i=Object(o.get)(t,F([n,"expressionContext"]));return i?Object.keys(i).reduce(((t,e)=>parseInt(e,10)>=r?C(t,F([n,"expressionContext",e])):t),t):t},[g.j]:(t,{})=>T(t,"resolvedArgs",{})},{});var B=n(57),D=n(92),W=n(0);const V=Object(_.handleActions)({[g.j]:(t,{payload:e})=>(B.pluginServices.getServices().platform.setRecentlyAccessed(`${W.j}/${e.id}`,e.name,e.id),e),[g.n]:(t,{payload:e})=>({...t,...e}),[g.g]:(t,{payload:e})=>({...t,colors:e}),[g.h]:(t,{payload:e})=>(B.pluginServices.getServices().platform.setRecentlyAccessed(`${W.j}/${t.id}`,e,t.id),{...t,name:e}),[g.m]:(t,{payload:e})=>({...t,isWriteable:Boolean(e)}),[g.k]:(t,{payload:e})=>({...t,css:e}),[g.l]:(t,{payload:e})=>({...t,variables:e}),[g.e]:()=>({...Object(D.d)()})},{});var U=n(150),z=n(72),Y=n(93);const{set:K,del:G,insert:Z}=I.a,q=(t,e)=>e<0||!t.pages[e]||Object(v.s)(t)===e?t:K(t,"page",e);function H(t,e){return t.pages.findIndex((t=>t.id===e))}function X(t,e,n=t.pages.length-1){return Z(t,"pages",e||Object(D.b)(),n+1)}const J=Object(_.handleActions)({[p.a]:(t,{payload:{gotoPage:e}})=>{const{page:n}=t,r=X(t,void 0,n),o=q(r,n+1);return e(o.page+1),o},[p.b]:(t,{payload:{gotoPage:e,id:n}})=>{const r=t.pages.find((t=>t.id===n));if(!r)return t;const o=t.pages.indexOf(r),i=o+1,c=X(t,function(t){const e=t.elements,n=t.groups||[],r=e.concat(n),o=Object(U.a)(r);return{...t,id:Object(z.a)("page"),groups:o.filter((t=>Object(Y.b)(t.id))),elements:o.filter((t=>!Object(Y.b)(t.id)))}}(r),o),u=q(c,i);return e(i+1),u},[p.e]:(t,{payload:e})=>q(t,e),[p.c]:(t,{payload:{gotoPage:e,...n}})=>{const{id:r,position:o}=n,i=H(t,r),c=i+o;if(i<0)return t;if(c<0||c>=t.pages.length)return t;const u={...t.pages[i]};let a=Z(G(t,`pages.${i}`),"pages",u,c);const s=t.pages[t.page].id,d=a.pages.findIndex((t=>t.id===s));return a=K(a,"page",d),e(a.page+1),a},[p.d]:(t,{payload:{id:e,gotoPage:n}})=>{const r=t.page,o=H(t,e);if(o>=0){let e=G(t,`pages.${o}`);const i=r===o,c=0===e.pages.length;return c&&(e=X(e)),c||0===r?(e=K(e,"page",0),n(1)):(i||o<r)&&(e=K(e,"page",r-1),n(r)),e}},[p.g]:(t,{payload:e})=>{const n=t.pages.findIndex((t=>t.id===e.pageId));return K(t,`pages.${n}.style`,e.style)},[p.f]:(t,{payload:e})=>{const n=t.pages.findIndex((t=>t.id===e.pageId));return K(t,`pages.${n}.transition`,e.transition)}},{}),{assign:Q,push:tt,del:et,set:nt}=I.a,rt=t=>"group"===t?"groups":"elements",ot=(t,e,n)=>n.indexOf(t)===e,it=(t,e,n)=>{const r=t.pages.find((t=>t.id===e));return(null==r?[]:r.groups||[]).find((t=>t.id===n))?"groups":"elements"};function ct(t,e){return Object(o.get)(t,"pages",[]).findIndex((t=>t.id===e))}function ut(t,e,n){return t[n].findIndex((t=>t.id===e))}function at(t,e,n,r){const i=ct(t,e),c=`pages.${i}.${it(t,e,n)}`,u=Object(o.get)(t,c,[]).findIndex((t=>t.id===n));return-1===i||-1===u?t:Q(t,`${c}.${u}`,r)}const st=({left:t,top:e,width:n,height:r,angle:o,parent:i})=>({left:t,top:e,width:n,height:r,angle:o,parent:i}),dt=({id:t,position:e,expression:n,filter:r})=>({id:t,position:st(e),..."group"!==e.type&&{expression:n},...void 0!==r&&{filter:r}}),ft=Object(_.handleActions)({[b.n]:(t,{payload:e})=>{const{expression:n,pageId:r,elementId:o}=e;return at(t,r,o,{expression:n})},[b.o]:(t,{payload:e})=>{const{filter:n,elementId:r}=e,o=((t,e)=>{const n=t.pages.find((t=>t.elements.map((t=>t.id)).includes(e)));if(n)return n.id})(t,r);return at(t,o,r,{filter:n})},[b.p]:(t,{payload:e})=>e.repositionedElements.reduce(((t,{position:e,pageId:n,elementId:r})=>at(t,n,r,{position:st(e)})),t),[b.d]:(t,{payload:{pageId:e,elementId:n,movement:r}})=>function(t,e,n,r,i){const c=ct(t,e),u=ut(t.pages[c],n,i),a=Object(o.get)(t,["pages",c,i]),s=u,d=function(){if(r<1/0&&r>-1/0)return u+r;if(r===1/0)return a.length-1;if(r===-1/0)return 0;throw new Error("Invalid element layer movement")}();if(d>a.length-1||d<0)return t;const f=a.slice(0);return f.splice(d,0,f.splice(s,1)[0]),nt(t,`pages.${c}.${i}`,f)}(t,e,n,r,it(t,e,n)),[b.b]:(t,{payload:{pageId:e,element:n}})=>{const r=ct(t,e);return r<0||t.pages[r][rt(n.position.type)].find((t=>t.id===n.id))?t:tt(t,`pages.${r}.${rt(n.position.type)}`,dt(n))},[b.j]:(t,{payload:{pageId:e,elements:n}})=>{const r=ct(t,e);return r<0?t:n.reduce(((t,e)=>tt(t,`pages.${r}.${rt(e.position.type)}`,dt(e))),t)},[b.k]:(t,{payload:{pageId:e,elementIds:n}})=>{const r=ct(t,e);return r<0?t:n.filter(ot).map((n=>{const o=it(t,e,n);return{location:o,index:ut(t.pages[r],n,o)}})).sort(((t,e)=>e.index-t.index)).reduce(((t,{location:e,index:n})=>et(t,`pages.${r}.${e}.${n}`)),t)}},{});var lt=n(106);const{set:pt,assign:bt,del:gt}=I.a,vt=Object(_.handleActions)({[lt.a]:(t,{payload:e})=>{const n={id:Object(z.a)("asset"),"@created":(new Date).toISOString(),...e};return pt(t,n.id,n)},[lt.d]:(t,{payload:e})=>{const{id:n,value:r}=e;if(!Object(o.get)(t,[n]))throw new Error(`Can not set asset data, id not found: ${n}`);return bt(t,n,{value:r})},[lt.b]:(t,{payload:e})=>gt(t,e),[Object(_.combineActions)(lt.e,lt.c)]:(t,{payload:e})=>e||{}},{}),ht=Object(_.handleActions)({[M.a]:(t,{payload:e})=>e},{});var Ot=n(60),jt=n(151);const yt=Object(_.handleActions)({[jt.a]:(t,{payload:e})=>{if(!e)return t;const{elementId:n,embeddableExpression:r}=e,o=t.pages.find((t=>void 0!==t.elements.find((t=>t.id===n))));if(!o)return t;const i=o.elements.find((t=>t.id===n));if(!i||i.expression===r)return t;const c=Object(Ot.d)(i.expression),u=Object(Ot.d)(r),a=u.chain[0].function,s=c.chain.find((t=>t.function===a));if(!s)return t;s.arguments=u.chain[0].arguments;const d=Object(Ot.h)(c);return at(t,o.id,n,{expression:d})}},{});var mt=n(215);const At=Object(_.handleActions)({[mt.a]:(t,{payload:e})=>({...t,sidebar:{...t.sidebar,groupFiltersByOption:e}})},{});let _t;function wt(){return _t}function xt(){const t=_t.getState();return _t=void 0,Et(t)}function Et(t){if(void 0!==_t)throw new Error("Redux store can only be initialized once");if(!Object(o.isPlainObject)(t))throw new Error("Initial state must be a plain object");const e=function(t){return Object(r.combineReducers)({assets:vt,app:x,transient:A()(P,L,At),persistent:A()(ht,Object(r.combineReducers)({workpad:A()(V,J,ft,yt),schemaVersion:(e=Object(o.get)(t,"persistent.schemaVersion"))=>e}))})}(t);return _t=Object(r.createStore)(e,t,y),_t}function It(){_t&&_t.replaceReducer((t=>t)),_t=void 0}function Mt(){return _t.getState()}},206:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return 0===t.length}},207:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return t.toString()}},208:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return"string"==typeof t}},209:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return null==t}},210:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,o=(r=n(306))&&r.__esModule?r:{default:r};e.default=function(t){return-1===t.indexOf("/")?(0,o.default)(t):t.split("/").map(o.default).join("/")}},211:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(103),o=c(n(146)),i=c(n(212));function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return function e(n,c,u,a){var s=void 0===c?{}:c,d=s.namespace,f=void 0===d?r.DEFAULT_NAMESPACE:d,l=s.prefix;return void 0===u&&(u={}),void 0===a&&(a=""),(0,o.default)(n).forEach((function(o){var c=function(t){return a||!l||l&&new RegExp("^"+l+f).test(t)?t:""+l+f+t}(function(t){var e;if(!a)return t;var n=t.toString().split(r.ACTION_TYPE_DELIMITER),o=a.split(r.ACTION_TYPE_DELIMITER);return(e=[]).concat.apply(e,o.map((function(t){return n.map((function(e){return""+t+f+e}))}))).join(r.ACTION_TYPE_DELIMITER)}(o)),s=(0,i.default)(o,n);t(s)?e(s,{namespace:f,prefix:l},u,c):u[c]=s})),u}}},212:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return(0,o.default)(e)?e.get(t):e[t]};var r,o=(r=n(117))&&r.__esModule?r:{default:r}},213:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){void 0===e&&(e=c.default);var f=(0,s.default)(t).split(d.ACTION_TYPE_DELIMITER);(0,r.default)(!(0,a.default)(n),"defaultState for reducer handling "+f.join(", ")+" should be defined"),(0,r.default)((0,o.default)(e)||(0,i.default)(e),"Expected reducer to be a function or object with next and throw reducers");var l=(0,o.default)(e)?[e,e]:[e.next,e.throw].map((function(t){return(0,u.default)(t)?c.default:t})),p=l[0],b=l[1];return function(t,e){void 0===t&&(t=n);var r=e.type;return r&&-1!==f.indexOf((0,s.default)(r))?(!0===e.error?b:p)(t,e):t}};var r=f(n(82)),o=f(n(116)),i=f(n(104)),c=f(n(145)),u=f(n(209)),a=f(n(314)),s=f(n(207)),d=n(103);function f(t){return t&&t.__esModule?t:{default:t}}},214:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return c}));var r=n(63);const o=Object(r.createAction)("appReady"),i=Object(r.createAction)("appError"),c=Object(r.createAction)("appUnload")},215:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(63);const o="setGroupFiltersByOption",i=Object(r.createAction)(o)},299:function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}e.__esModule=!0;var o=r();o.withExtraArgument=r,e.default=o},300:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,r.default)(l(e),"Expected action types to be strings, symbols, or action creators");var o=e.map(u.default).join(s.ACTION_TYPE_DELIMITER);return{toString:function(){return o}}};var r=d(n(82)),o=d(n(116)),i=d(n(301)),c=d(n(206)),u=d(n(207)),a=d(n(208)),s=n(103);function d(t){return t&&t.__esModule?t:{default:t}}function f(t){return(0,a.default)(t)||(0,o.default)(t)||(0,i.default)(t)}function l(t){return!(0,c.default)(t)&&t.every(f)}},301:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return"symbol"==typeof t||"object"==typeof t&&"[object Symbol]"===Object.prototype.toString.call(t)}},302:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return null===t}},303:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var c=(0,o.default)((0,d.default)(n))?n.pop():{};return(0,r.default)(n.every(a.default)&&((0,a.default)(t)||(0,o.default)(t)),"Expected optional object followed by string action types"),(0,a.default)(t)?A([t].concat(n),c):O({},y(t,c),A(n,c))};var r=h(n(82)),o=h(n(104)),i=h(n(116)),c=h(n(145)),u=h(n(304)),a=h(n(208)),s=h(n(209)),d=h(n(305)),f=h(n(210)),l=h(n(309)),p=h(n(310)),b=h(n(311)),g=h(n(144)),v=n(103);function h(t){return t&&t.__esModule?t:{default:t}}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){j(t,e,n[e])}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){var n=m((0,p.default)(t,e));return(0,b.default)(n,e)}function m(t,e){var n=void 0===e?{}:e,o=n.prefix,a=n.namespace,d=void 0===a?v.DEFAULT_NAMESPACE:a;return(0,l.default)(Object.keys(t),(function(e,n){var a,f=t[n];(0,r.default)(function(t){if((0,i.default)(t)||(0,s.default)(t))return!0;if((0,u.default)(t)){var e=t[0],n=void 0===e?c.default:e,r=t[1];return(0,i.default)(n)&&(0,i.default)(r)}return!1}(f),"Expected function, undefined, null, or array with payload and meta functions for "+n);var l=o?""+o+d+n:n,p=(0,u.default)(f)?g.default.apply(void 0,[l].concat(f)):(0,g.default)(l,f);return O({},e,((a={})[n]=p,a))}))}function A(t,e){var n=m((0,l.default)(t,(function(t,e){var n;return O({},t,((n={})[e]=c.default,n))})),e);return(0,l.default)(Object.keys(n),(function(t,e){var r;return O({},t,((r={})[(0,f.default)(e)]=n[e],r))}))}},304:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return Array.isArray(t)}},305:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return t[t.length-1]}},306:function(t,e,n){var r=n(307);t.exports=function(t){return r(t).replace(/\s(\w)/g,(function(t,e){return e.toUpperCase()}))}},307:function(t,e,n){var r=n(308);t.exports=function(t){return r(t).replace(/[\W_]+(.|$)/g,(function(t,e){return e?" "+e:""})).trim()}},308:function(t,e){t.exports=function(t){return n.test(t)?t.toLowerCase():r.test(t)?(function(t){return t.replace(i,(function(t,e){return e?" "+e:""}))}(t)||t).toLowerCase():o.test(t)?function(t){return t.replace(c,(function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")}))}(t).toLowerCase():t.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,o=/([a-z][A-Z]|[A-Z][a-z])/,i=/[\W_]+(.|$)/g,c=/(.)([A-Z]+)/g},309:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t,e){return t.reduce((function(t,n){return e(t,n)}),{})}},310:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=o(n(104));function o(t){return t&&t.__esModule?t:{default:t}}var i=(0,o(n(211)).default)(r.default);e.default=i},311:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=void 0===e?{}:e,c=n.namespace,u=void 0===c?r.DEFAULT_NAMESPACE:c,a=n.prefix;function s(e,n,r){var c=(0,i.default)(r.shift());(0,o.default)(r)?n[c]=t[e]:(n[c]||(n[c]={}),s(e,n[c],r))}var d={};return Object.getOwnPropertyNames(t).forEach((function(t){var e=a?t.replace(""+a+u,""):t;return s(t,d,e.split(u))})),d};var r=n(103),o=c(n(206)),i=c(n(210));function c(t){return t&&t.__esModule?t:{default:t}}},312:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=i(n(313)),o=i(n(144));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){return(0,r.default)((0,o.default)(t,e),e.length)}},313:function(t,e){t.exports=function(t,e){return function n(){null==e&&(e=t.length);var r=[].slice.call(arguments);return r.length>=e?t.apply(this,r):function(){return n.apply(this,r.concat([].slice.call(arguments)))}}}},314:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,e.default=function(t){return void 0===t}},315:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){void 0===n&&(n={}),(0,o.default)((0,i.default)(t)||(0,c.default)(t),"Expected handlers to be a plain object.");var f=(0,a.default)(t,n),l=(0,u.default)(f).map((function(t){return(0,s.default)(t,(0,d.default)(t,f),e)})),p=r.default.apply(void 0,l.concat([e]));return function(t,n){return void 0===t&&(t=e),p(t,n)}};var r=f(n(316)),o=f(n(82)),i=f(n(104)),c=f(n(117)),u=f(n(146)),a=f(n(317)),s=f(n(213)),d=f(n(212));function f(t){return t&&t.__esModule?t:{default:t}}},316:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="function"!=typeof e[e.length-1]&&e.pop(),o=e;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),c=2;c<n;c++)i[c-2]=arguments[c];var u=void 0===t,a=void 0===e;return u&&a&&r?r:o.reduce((function(t,n){return n.apply(void 0,[t,e].concat(i))}),u&&!a&&r?r:t)}},t.exports=e.default},317:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=c(n(104)),o=c(n(117)),i=c(n(318));function c(t){return t&&t.__esModule?t:{default:t}}var u=(0,c(n(211)).default)((function(t){return((0,r.default)(t)||(0,o.default)(t))&&!(0,i.default)(t)}));e.default=u},318:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=(0,o.default)(t),n=e.every((function(t){return"next"===t||"throw"===t}));return e.length&&e.length<=2&&n};var r,o=(r=n(146))&&r.__esModule?r:{default:r}},319:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(320);Object.defineProperty(e,"createThunk",{enumerable:!0,get:function(){return r.createThunk}})},320:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createThunk=function(t,e){var n=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(n,o){return e.apply(void 0,[{dispatch:n,getState:o,type:t}].concat(r))}};return n.toString=function(){return t.toString()},n}},321:function(t,e,n){var r=n(322),o=n(323);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var c=(t=t||{}).random||(t.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,e)for(var u=0;u<16;++u)e[i+u]=c[u];return e||o(c)}},322:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},323:function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},324:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="function"!=typeof e[0]&&e.shift(),o=e;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),c=2;c<n;c++)i[c-2]=arguments[c];var u=void 0===t,a=void 0===e;return u&&a&&r?r:o.reduce((function(t,n,r){if(void 0===n)throw new TypeError("An undefined reducer was passed in at index "+r);return n.apply(void 0,[t,e].concat(i))}),u&&!a&&r?r:t)}},t.exports=e.default},59:function(t,e,n){"use strict";n.d(e,"u",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"A",(function(){return l})),n.d(e,"y",(function(){return p})),n.d(e,"C",(function(){return b})),n.d(e,"s",(function(){return g})),n.d(e,"r",(function(){return v})),n.d(e,"l",(function(){return h})),n.d(e,"k",(function(){return O})),n.d(e,"z",(function(){return j})),n.d(e,"x",(function(){return y})),n.d(e,"B",(function(){return m})),n.d(e,"v",(function(){return A})),n.d(e,"w",(function(){return _})),n.d(e,"a",(function(){return w})),n.d(e,"d",(function(){return x})),n.d(e,"e",(function(){return E})),n.d(e,"h",(function(){return I})),n.d(e,"g",(function(){return N})),n.d(e,"t",(function(){return P})),n.d(e,"q",(function(){return T})),n.d(e,"p",(function(){return C})),n.d(e,"j",(function(){return k})),n.d(e,"c",(function(){return $})),n.d(e,"i",(function(){return F})),n.d(e,"o",(function(){return L})),n.d(e,"b",(function(){return B})),n.d(e,"m",(function(){return D})),n.d(e,"n",(function(){return W}));var r=n(19),o=n(60),i=n(115),c=n(91),u=n(105);const a="persistent.workpad",s=t=>({...t,ast:Object(o.g)(t.expression)});function d(t){return Object(r.get)(t,a)}function f(t){return{...d(t),assets:Object(c.c)(t)}}function l(t){const e=function(t){const e=d(t);return Object(r.get)(e,"variables",[])}(t);return 0===e.length?{}:e.reduce(((t,e)=>({...t,[e.name]:e.value})),{})}function p(t){return{...d(t),pages:void 0}}function b(t){return Object(r.get)(t,Object(i.a)(a,"isWriteable"),!0)}function g(t){return Object(r.get)(t,Object(i.a)(a,"page"))}function v(t){const e=g(t),n=h(t);return Object(r.get)(n,`[${e}].id`)}function h(t){return Object(r.get)(t,Object(i.a)(a,"pages"),[])}function O(t,e){return h(t).find((t=>t.id===e))}function j(t){return Object(r.get)(t,Object(i.a)(a,"name"))}function y(t){return Object(r.get)(t,Object(i.a)(a,"height"))}function m(t){return Object(r.get)(t,Object(i.a)(a,"width"))}function A(t){return h(t).reduce(((t,e)=>(e.elements.forEach((({position:e})=>{const{left:n,top:r,width:o,height:i}=e,c=n+o,u=r+i;n<t.left&&(t.left=n),r<t.top&&(t.top=r),c>t.right&&(t.right=c),u>t.bottom&&(t.bottom=u)})),t)),{left:0,right:m(t),top:0,bottom:y(t)})}function _(t){return Object(r.get)(t,Object(i.a)(a,"colors"))}function w(t){return h(t).reduce(((t,e)=>t.concat(e.elements)),[])}function x(t){const e=t.transient.resolvedArgs,n={ready:0,pending:0,error:0};return Object.values(e).filter((t=>void 0!==t)).forEach((t=>{const{expressionRenderable:e}=t;if(!e)return void n.pending++;const{value:r,state:o}=e;r&&"error"===r.as?n.error++:"ready"===o?n.ready++:n.pending++})),n}function E(t){return Object(r.get)(t,"transient.elementStats")}function I(t){return w(t).reduce(((t,e)=>null!=e.filter&&e.filter.length?t.concat(e.filter):t),[])}function M(t,e){return Object.keys(t).reduce(((n,r)=>"_"!==r&&"group"!==r?n:t[r].reduce(((n,o)=>n.concat(e(o,r,t)||[])),n)),[])}function S(t){if("expression"!==t.type)throw new Error("AST must be an expression");return t.chain.reduce(((t,e)=>{const{function:n,arguments:r}=e;return Object(u.e)(n)?t.concat(M(r,(t=>{if(null!==t&&"object"!=typeof t)return t}))):t.concat(M(r,(t=>{if(null!==t&&"object"==typeof t&&"expression"===t.type)return S(t)})))}),[])}function N(t){return w(t).reduce(((t,e)=>{if(null!=e.filter&&e.filter.length){const n=Object(o.d)(e.filter),i=Object(r.get)(n,"chain[0].arguments.filterGroup[0]");i&&""!==i&&!t.includes(String(i))&&t.push(String(i))}return null!=e.expression&&e.expression.length&&S(Object(o.d)(e.expression)).forEach((e=>{t.includes(String(e))||t.push(String(e))})),t}),[]).sort()}function P(t){return Object(r.get)(t,"transient.selectedToplevelNodes",[])}function T(t){const e=P(t);return 1===e.length?e[0]:null}function C(t){return $(t,T(t))}const R=t=>e=>({...e,position:{...e.position,type:t},..."group"===t&&{expression:'shape fill="rgba(255,255,255,0)" | render'}});function k(t,e,n=!0){const o=e||v(t);if(!o)return[];const i=O(t,o);return i?function(t,e){const n=(t=>{const e=Object(r.get)(t,"elements").map(R("element")),n=Object(r.get)(t,"groups",[]).map(R("group"));return e.concat(n)})(t);return n?e?n.map(s):n.map((t=>Object(r.omit)(t,["ast"]))):[]}(i,n):[]}function $(t,e,n){const o=function(t,e,n=!0){const o=e||v(t);if(!o)return[];const i=O(t,o),c=Object(r.get)(i,"elements");return c?n?c.map((t=>s(t))):c.map((t=>Object(r.omit)(t,["ast"]))):[]}(t,n,!0).find((t=>t.id===e));if(o)return s(o)}function F(t,e,n){const r=k(t,n,!0).find((t=>t.id===e));if(r)return s(r)}function L(t,e,n){if(!e)return;const o=Object(r.get)(t,["transient","resolvedArgs",e]);return n?Object(r.get)(o,n):o}function B(t,e,n){return function(t,e){const n=T(t);if(n)return L(t,n,e)}(t,["expressionContext",e,n-1])}function D(t){const e=h(t),n=t.transient.resolvedArgs,r=e.map((t=>{const{elements:e,...r}=t;return{...r,elements:e.map((t=>{const{id:e,position:r}=t,o=n[e];if(!o)return null;const{expressionRenderable:i}=o;return{id:e,position:r,expressionRenderable:i}}))}})),o=d(t),{pages:i,variables:c,...u}=o;return{pages:r,...u}}function W(t){const e=D(t),{pages:n}=e,r=[];return n.forEach((t=>t.elements.forEach((t=>{if(t&&t.expressionRenderable){const{value:e}=t.expressionRenderable;if(e){const{as:t}=e;r.includes(t)||r.push(t)}}})))),r}},62:function(t,e,n){"use strict";n.d(e,"d",(function(){return A})),n.d(e,"p",(function(){return _})),n.d(e,"h",(function(){return w})),n.d(e,"i",(function(){return x})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return M})),n.d(e,"e",(function(){return S})),n.d(e,"j",(function(){return N})),n.d(e,"k",(function(){return P})),n.d(e,"o",(function(){return T})),n.d(e,"n",(function(){return C})),n.d(e,"m",(function(){return k})),n.d(e,"l",(function(){return $})),n.d(e,"a",(function(){return F})),n.d(e,"c",(function(){return L})),n.d(e,"b",(function(){return B}));var r=n(63),o=n(76),i=n.n(o),c=n(19),u=n(60),a=n(147),s=n(59),d=n(118),f=n(92),l=n(54),p=n(81),b=n(57),g=n(74),v=n(90);const{actionsElements:h}=l.f,{set:O,del:j}=i.a;function y(t,e,n,r=["ast.chain"]){const o=[e,"expressionContext",...r,n],i=Object(d.c)(t,o);if(null!=i)return{index:n,context:i};const c=n-1;return c<0?{}:y(t,e,c,r)}function m(t,e=!1){const n=["position","expression","filter"];return e?Object(c.pick)(t,n.concat("id")):Object(c.cloneDeep)(Object(c.pick)(t,n))}const A=Object(r.createAction)("elementLayer"),_=Object(r.createAction)("setMultiplePosition",(t=>({repositionedElements:t}))),w=Object(r.createAction)("flushContext"),x=Object(r.createAction)("flushContextAfterIndex"),E=Object(a.a)("fetchContext",(({dispatch:t,getState:e},n,r,o=!1,i)=>{const u=[...i.split("."),"chain"],a=Object(c.get)(r,u),d=!a||n>=a.length;if(!r||!a||d)throw new Error(h.getInvalidArgIndexErrorMessage(n));const f=n-1,l=[r.id,"expressionContext",i,f];t(v.g({path:l}));const{index:p,context:g}=!0!==o?y(e(),r.id,f-1,[i]):{},j=a.filter(((t,e)=>null!=g?e>p&&e<n:e<n)),m=Object(s.A)(e()),{expressions:A}=b.pluginServices.getServices(),_=O(r,u,j);return A.interpretAst(_.ast,m,g).then((e=>{t(v.i({path:l,value:e}))}))})),I=Object(a.a)("fetchRenderableWithContext",(({dispatch:t,getState:e},n,r,o)=>{const i=[n.id,"expressionRenderable"];t(v.g({path:i}));const c=t=>v.i({path:i,value:t}),u=Object(s.A)(e()),{expressions:a,notify:d}=b.pluginServices.getServices();return a.runInterpreter(r,o,u,{castToRender:!0}).then((e=>{t(c(e))})).catch((e=>{d.error(e),t(c(e))}))})),M=Object(a.a)("fetchRenderable",(({dispatch:t},e)=>{const n=e.ast||Object(u.g)(e.expression);t(I(e,n,null))})),S=Object(a.a)("fetchAllRenderables",(({dispatch:t,getState:e},{onlyActivePage:n=!1}={})=>{const r=Object(s.l)(e()),o=r[Object(s.s)(e())],i=Object(c.without)(r,o);function a(n){const r=[];n.forEach((t=>{t.elements.forEach((t=>{r.push(t)}))}));const o=r.map((t=>{const n=t.ast||Object(u.g)(t.expression),r=[t.id,"expressionRenderable"],o=Object(s.A)(e()),{expressions:i,notify:c}=b.pluginServices.getServices();return i.runInterpreter(n,null,o,{castToRender:!0}).then((t=>({path:r,value:t}))).catch((t=>(c.error(t),{path:r,value:t})))}));return Promise.all(o).then((e=>{t(v.k(e))}))}t(v.c()),n?a([o]).then((()=>t(v.e()))):a([o]).then((()=>i.reduce(((t,e)=>t.then((()=>a([e])))),Promise.resolve()))).then((()=>t(v.e())))})),N=Object(a.a)("insertNodes",(({dispatch:t,type:e},n,o)=>{const i=Object(r.createAction)(e),u=n.map(c.cloneDeep);u.forEach((t=>{t.position.top=t.position.top+10,t.position.left=t.position.left+10})),t(i({pageId:o,elements:u})),n.some((t=>t.filter))?t(S()):u.forEach((e=>t(M(e))))})),P=Object(a.a)("removeElements",(({dispatch:t,getState:e},n,o)=>{const i=e(),c=Object(s.j)(i,o),u=n.map((t=>c.find((e=>t===e.id)))).filter((t=>t)),a=Object(p.h)((t=>t.id),(t=>t.position.parent),c,u).map((t=>t.id)),d=a.some((t=>{const e=Object(s.i)(i,t,o);return e.filter&&e.filter.length>0})),f=Object(r.createAction)("removeElements",((t,e)=>({elementIds:t,pageId:e})));t(f(a,o)),d&&t(S())})),T=Object(a.a)("setFilter",(({dispatch:t},e,n,o=!0)=>{t(Object(r.createAction)("setFilter")({filter:e,elementId:n})),!0===o&&t(S())})),C=Object(a.a)("setExpression",(function({dispatch:t,getState:e},n,o,i,c=!0){t(Object(r.createAction)("setExpression")({expression:n,elementId:o,pageId:i}));const u=Object(s.i)(e(),o,i);u.filter&&!["dropdownControl","timefilterControl","exactly"].some((t=>u.expression.includes(t)))?t(T("",o,i,c)):!0===c&&t(M(u))})),R=Object(a.a)("setAst",(({dispatch:t},e,n,r,o=!0)=>{try{const i=Object(u.h)(e);t(C(i,n.id,r,o))}catch(e){b.pluginServices.getServices().notify.error(e),t(C(n.expression,n.id,r,o))}})),k=Object(a.a)("setAstAtIndex",(({dispatch:t,getState:e},n,r,o,i)=>{t(x({elementId:o.id,index:n}));const u=O(o,`ast.chain.${n}`,r),a=Object(c.get)(u,"ast"),{index:s,context:d}=y(e(),o.id,n-1);if(d){t(R(a,o,i,!1));const e={...a,chain:a.chain.filter(((t,e)=>d?e>s:e>=n))};return t(I(u,e,d))}t(R(a,o,i))})),$=Object(a.a)("setArgument",(({dispatch:t},e)=>{const{argName:n,value:r,valueIndex:o,element:i,pageId:u,path:a}=e;let s=`${a}.${n}`;null!=o&&(s+="."+o);const d=O(i,s,r),f=a.split(".").slice(0,3),l=Object(c.last)(f),p=Object(c.get)(d,f);t(k(l,p,i,u))})),F=Object(a.a)("addArgumentValue",(({dispatch:t},e)=>{const{argName:n,value:r,element:o,path:i}=e,u=Object(c.get)(o,[...i.split("."),n],[]).concat(r);t($({...e,value:u}))})),L=Object(a.a)("deleteArgumentAtIndex",(({dispatch:t},e)=>{const{element:n,pageId:r,argName:o,argIndex:i,path:u}=e,a=u.split("."),s=a.slice(0,3),d=Object(c.last)(s),f=Object(c.get)(n,[...a,o]);let l=null!=i&&f.length>1?j(n,`${u}.${o}.${i}`):j(n,o?`${u}.${o}`:u);const p=a.slice(0,a.length-1),b=Object(c.get)(l,p);Array.isArray(b)&&!b.length&&(l=j(n,p)),t(k(d,Object(c.get)(l,s),n,r))})),B=Object(a.a)("addElement",(({dispatch:t},e,n)=>{const o={...Object(f.a)(),...m(n,!0)};n.width&&(o.position.width=n.width),n.height&&(o.position.height=n.height),t(Object(r.createAction)("addElement")({pageId:e,element:o})),n.filter?t(S()):t(M(o)),t(Object(g.a)([o.id]))}))},63:function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(300));e.combineActions=r.default;var o=s(n(144));e.createAction=o.default;var i=s(n(303));e.createActions=i.default;var c=s(n(312));e.createCurriedAction=c.default;var u=s(n(213));e.handleAction=u.default;var a=s(n(315));function s(t){return t&&t.__esModule?t:{default:t}}e.handleActions=a.default},72:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(321),o=n.n(r);function i(t){return`${t}-${o()()}`}},73:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c}));var r=n(19);function o(t){return Object(r.get)(t,"state",null)}function i(t){return Object(r.get)(t,"value",null)}function c(t){return"error"!==o(t)?null:Object(r.get)(t,"error",null)}},74:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return a}));var r=n(63);const o=Object(r.createAction)("setFullscreen"),i=Object(r.createAction)("selectToplevelNodes"),c=Object(r.createAction)("setFirstLoad"),u=Object(r.createAction)("setElementStats"),a=Object(r.createAction)("setZoomScale")},75:function(t,e,n){"use strict";n.d(e,"n",(function(){return a})),n.d(e,"h",(function(){return s})),n.d(e,"m",(function(){return d})),n.d(e,"g",(function(){return f})),n.d(e,"i",(function(){return l})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return b})),n.d(e,"b",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return j})),n.d(e,"d",(function(){return y})),n.d(e,"o",(function(){return m})),n.d(e,"j",(function(){return A}));var r=n(63),o=n(19),i=n(147),c=n(59),u=n(62);const a=Object(r.createAction)("sizeWorkpad"),s=Object(r.createAction)("setName"),d=Object(r.createAction)("setWriteable"),f=Object(r.createAction)("setColors"),l=Object(r.createAction)("setRefreshInterval"),p=Object(r.createAction)("setWorkpadCSS"),b=Object(r.createAction)("setWorkpadVariables"),g=Object(r.createAction)("enableAutoplay"),v=Object(r.createAction)("setAutoplayInterval"),h=Object(r.createAction)("resetWorkpad"),O=Object(i.a)("initializeWorkpad",(({dispatch:t})=>{t(Object(u.e)())})),j=Object(i.a)("addColor",(({dispatch:t,getState:e},n)=>{const r=Object(c.w)(e()).slice(0);Object(o.includes)(r,n)||r.push(n),t(f(r))})),y=Object(i.a)("removeColor",(({dispatch:t,getState:e},n)=>{t(f(Object(o.without)(Object(c.w)(e()),n)))})),m=Object(i.a)("updateWorkpadVariables",(({dispatch:t},e)=>{t(b(e)),t(Object(u.e)())})),A=Object(i.a)("setWorkpad",(({dispatch:t,type:e},n,{loadPages:o=!0}={})=>{t(Object(r.createAction)(e)(n)),o&&t(O())}))},81:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"h",(function(){return d}));const r=t=>[].concat(...t),o=t=>t,i=(t,e,n)=>e.filter((e=>!n.find((n=>t(n)===t(e))))).concat(n.filter((n=>!e.find((e=>t(e)===t(n)))))),c=(t,e)=>(t+e)/2,u=t=>(...e)=>!t(...e),a=(t,e)=>e.filter(((n,r)=>e.findIndex((e=>t(e)===t(n)))===r)),s=t=>Object.assign({},...t.map((t=>({[t]:!0})))),d=(t,e,n,o)=>{const i=o=>{const c=r(o.map((r=>n.filter((n=>e(n)===t(r))))));return c.length?[...o,...i(c,n)]:o};return i(o)}},82:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,c,u){if(!t){var a;if(void 0===e)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,c,u],d=0;(a=new Error(e.replace(/%s/g,(function(){return s[d++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return d}));var r=n(63);const o=Object(r.createAction)("addPage"),i=Object(r.createAction)("duplicatePage"),c=Object(r.createAction)("movePage",((t,e,n)=>({id:t,position:e,gotoPage:n}))),u=Object(r.createAction)("removePage"),a=Object(r.createAction)("stylePage",((t,e)=>({pageId:t,style:e}))),s=Object(r.createAction)("setPage"),d=Object(r.createAction)("setPageTransition",((t,e)=>({pageId:t,transition:e})))},90:function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"j",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return a})),n.d(e,"i",(function(){return s})),n.d(e,"k",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return b}));var r=n(63);const o="setResolvedLoading",i="setResolvedValue",c="inFlightActive",u="inFlightComplete",a=Object(r.createAction)(o),s=Object(r.createAction)(i),d=Object(r.createAction)("setResolvedValues"),f=Object(r.createAction)("clearResolvedValue"),l=Object(r.createAction)("clearResolvedValues"),p=Object(r.createAction)(c,(()=>{})),b=Object(r.createAction)(u,(()=>{}))},91:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=n(19);function o(t){return Object(r.get)(t,"assets",{})}function i(t){return Object.keys(o(t))}function c(t,e){return t.assets[e]}},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return a}));var r=n(72),o=n(0);const i=()=>({id:Object(r.a)("element"),position:{top:20,left:20,height:300,width:500,angle:0,type:"element"},expression:'\n      demodata\n      | pointseries y="median(cost)" x=time color="project"\n      | plot defaultStyle={seriesStyle points=5}\n    ',filter:null}),c=()=>({id:Object(r.a)("page"),style:{background:"#FFF"},transition:{},elements:[],groups:[]}),u=()=>{const t=c();return{name:"My Canvas Workpad",id:Object(r.a)("workpad"),width:1080,height:720,css:o.s,page:0,pages:[t],colors:["#37988d","#c19628","#b83c6f","#3f9939","#1785b0","#ca5f35","#45bdb0","#f2bc33","#e74b8b","#4fbf48","#1ea6dc","#fd7643","#72cec3","#f5cc5d","#ec77a8","#7acf74","#4cbce4","#fd986f","#a1ded7","#f8dd91","#f2a4c5","#a6dfa2","#86d2ed","#fdba9f","#000000","#444444","#777777","#BBBBBB","#FFFFFF","rgba(255,255,255,0)"],variables:[],isWriteable:!0}},a=()=>({groupFiltersByOption:o.r})},93:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return s}));var r=n(120);const o=t=>t.startsWith("group"),i=t=>o(t)?{id:t,type:"group",subtype:"persistentGroup"}:{id:t,type:"rectangleElement",subtype:""},c=({top:t,left:e,width:n,height:o,angle:i},c)=>Object(r.l)(Object(r.r)(e+n/2,t+o/2,c),Object(r.p)(-i/180*Math.PI)),u=({id:t,position:e},n)=>({...i(t),parent:e&&e.parent||null,transformMatrix:c(e,n),a:e.width/2,b:e.height/2}),a=({id:t,position:e,filter:n},r)=>({...i(t),width:e.width,height:e.height,transformMatrix:c(e,r),filter:n}),s=({elements:t})=>({elements:t.map(a)})}}]);