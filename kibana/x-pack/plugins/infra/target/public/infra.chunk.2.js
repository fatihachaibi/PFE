/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[2],{124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e,t){var n=r.useRef((function(){}));r.useEffect((function(){n.current=e})),r.useEffect((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t||0);return function(){return clearInterval(e)}}}),[t])}},125:function(e,t,n){!function(e){"use strict";function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){return 1===e.length&&(n=e,e=function(e,r){return t(n(e),r)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}};var n}var r=n(t),i=r.right,o=r.left;function a(e,t){return[e,t]}function s(e){return null===e?NaN:+e}function u(e,t){var n,r,i=e.length,o=0,a=-1,u=0,c=0;if(null==t)for(;++a<i;)isNaN(n=s(e[a]))||(c+=(r=n-u)*(n-(u+=r/++o)));else for(;++a<i;)isNaN(n=s(t(e[a],a,e)))||(c+=(r=n-u)*(n-(u+=r/++o)));if(o>1)return c/(o-1)}function c(e,t){var n=u(e,t);return n?Math.sqrt(n):n}function l(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var f=Array.prototype,d=f.slice,p=f.map;function g(e){return function(){return e}}function h(e){return e}function v(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var m=Math.sqrt(50),b=Math.sqrt(10),O=Math.sqrt(2);function S(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=m?10:o>=b?5:o>=O?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=m?10:o>=b?5:o>=O?2:1)}function j(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=m?i*=10:o>=b?i*=5:o>=O&&(i*=2),t<e?-i:i}function w(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function E(e,t,n){if(null==n&&(n=s),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function y(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}function D(e){if(!(i=e.length))return[];for(var t=-1,n=y(e,M),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function M(e){return e.length}e.bisect=i,e.bisectRight=i,e.bisectLeft=o,e.ascending=t,e.bisector=n,e.cross=function(e,t,n){var r,i,o,s,u=e.length,c=t.length,l=new Array(u*c);for(null==n&&(n=a),r=o=0;r<u;++r)for(s=e[r],i=0;i<c;++i,++o)l[o]=n(s,t[i]);return l},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=c,e.extent=l,e.histogram=function(){var e=h,t=l,n=w;function r(r){var o,a,s=r.length,u=new Array(s);for(o=0;o<s;++o)u[o]=e(r[o],o,r);var c=t(u),l=c[0],f=c[1],d=n(u,l,f);Array.isArray(d)||(d=j(l,f,d),d=v(Math.ceil(l/d)*d,f,d));for(var p=d.length;d[0]<=l;)d.shift(),--p;for(;d[p-1]>f;)d.pop(),--p;var g,h=new Array(p+1);for(o=0;o<=p;++o)(g=h[o]=[]).x0=o>0?d[o-1]:l,g.x1=o<p?d[o]:f;for(o=0;o<s;++o)l<=(a=u[o])&&a<=f&&h[i(d,a,0,p)].push(r[o]);return h}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:g(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:g([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?g(d.call(e)):g(e),r):n},r},e.thresholdFreedmanDiaconis=function(e,n,r){return e=p.call(e,s).sort(t),Math.ceil((r-n)/(2*(E(e,.75)-E(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*c(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=w,e.max=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r},e.mean=function(e,t){var n,r=e.length,i=r,o=-1,a=0;if(null==t)for(;++o<r;)isNaN(n=s(e[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=s(t(e[o],o,e)))?--i:a+=n;if(i)return a/i},e.median=function(e,n){var r,i=e.length,o=-1,a=[];if(null==n)for(;++o<i;)isNaN(r=s(e[o]))||a.push(r);else for(;++o<i;)isNaN(r=s(n(e[o],o,e)))||a.push(r);return E(a.sort(t),.5)},e.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n},e.min=y,e.pairs=function(e,t){null==t&&(t=a);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.quantile=E,e.range=v,e.scan=function(e,n){if(r=e.length){var r,i,o=0,a=0,s=e[a];for(null==n&&(n=t);++o<r;)(n(i=e[o],s)<0||0!==n(s,s))&&(s=i,a=o);return 0===n(s,s)?a:void 0}},e.shuffle=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},e.sum=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o},e.ticks=function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=S(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o},e.tickIncrement=S,e.tickStep=j,e.transpose=D,e.variance=u,e.zip=function(){return D(arguments)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=r.type({startTime:r.number,endTime:r.number})},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n.n(r),o=n(13);const a=e=>{const{services:{observability:{navigation:{PageTemplate:t}}}}=Object(o.b)();return i.a.createElement(t,e)}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(54),o=n(9);const a=()=>{const[e]=Object(o.useUiSetting$)(i.UI_SETTINGS.QUERY_ALLOW_LEADING_WILDCARDS),[t]=Object(o.useUiSetting$)(i.UI_SETTINGS.QUERY_STRING_OPTIONS),[n]=Object(o.useUiSetting$)(i.UI_SETTINGS.DATEFORMAT_TZ),[a]=Object(o.useUiSetting$)(i.UI_SETTINGS.COURIER_IGNORE_FILTER_IF_FIELD_NOT_IN_INDEX);return Object(r.useMemo)((()=>({allowLeadingWildcards:e,queryStringOptions:t,dateFormatTZ:n,ignoreFilterIfFieldNotInIndex:a})),[e,n,a,t])}},188:function(e,t,n){"use strict";let r;n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),function(e){e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Month=2592e6]="Month",e[e.Year=31104e6]="Year"}(r||(r={})),r.Millisecond,r.Second,r.Minute,r.Hour,r.Day,r.Month,r.Year,r.Second,r.Minute,r.Hour,r.Day,r.Month,r.Year;var i=n(125),o=n(23);const a=e=>Object(o.pick)(e,["time","tiebreaker"]);const s=(e,t)=>(n,r)=>function(e,t,n=i.ascending){const r=n(e.time,t.time);if(0===r){const r=n(e.tiebreaker,t.tiebreaker);return 0===r&&void 0!==e.gid&&void 0!==t.gid?n(e.gid,t.gid):r}return r}(e(n),r,t),u=(e,t)=>{const n=s(e,t),r=Object(i.bisector)(n);return(e,t)=>{const i=r.left(e,t);return i>=e.length||0!==n(e[i],t)?null:i}};n(126)},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=function(e){void 0===e&&(e={});var t=r.useState(e),n=t[0],i=t[1];return[n,r.useCallback((function(e){i((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[i])]}},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n(67),i=n.n(r),o=n(2),a=n(68);const s=({logViewId:e,logViews:t,fetch:n})=>{const[r,i]=Object(o.useState)(void 0),[s,u]=Object(o.useState)(void 0),[c,l]=Object(o.useState)(void 0),[f,d]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:t.getLogView.bind(t),onResolve:i},[t]),[p,g]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:t.resolveLogView.bind(t),onResolve:u},[t]),[h,v]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:t.putLogView.bind(t),onResolve:i},[t]),[m,b]=Object(a.c)({cancelPreviousOn:"resolution",createPromise:t.getResolvedLogViewStatus.bind(t),onResolve:l},[t]),O=Object(o.useMemo)((()=>{var e,t;return{fields:null!==(e=null==s?void 0:s.fields)&&void 0!==e?e:[],title:null!==(t=null==s?void 0:s.indices)&&void 0!==t?t:"unknown"}}),[s]),S="pending"===f.state,j="pending"===p.state,w="pending"===m.state,E="pending"===h.state,y=S||j||w||E,D="uninitialized"===f.state,M="rejected"===f.state,L="rejected"===p.state,x="rejected"===m.state,I=[f,p,m].filter(a.b).map((({value:e})=>e instanceof Error?e:new Error(`${e}`))),N=I.length>0,T=Object(o.useCallback)((async()=>{const t=await d(e),n=await g(t.attributes);return[t,n,await b(n)]}),[e,d,b,g]),A=Object(o.useCallback)((async t=>{const n=await v(e,t),r=await g(n.attributes);return[n,r,await b(r)]}),[e,b,g,v]);return Object(o.useEffect)((()=>{T()}),[T]),{logViewId:e,isUninitialized:D,derivedDataView:O,hasFailedLoading:N,hasFailedLoadingLogView:M,hasFailedLoadingLogViewStatus:x,hasFailedResolvingLogView:L,latestLoadLogViewFailures:I,isLoading:y,isLoadingLogView:S,isLoadingLogViewStatus:w,isResolvingLogView:j,logView:r,resolvedLogView:s,logViewStatus:c,load:T,update:A}},[u,c]=i()(s)},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return E}));var r=n(2),i=n.n(r),o=n(67),a=n.n(o),s=n(201),u=n.n(s),c=n(124),l=n.n(c),f=n(27),d=n(123);const p={from:"now-1d",to:"now"},g=a()((()=>{const[e,t]=Object(d.a)(p),{from:n,to:i}=e(),o={startDateExpression:n,endDateExpression:i},[a,s]=Object(r.useState)(!1),c=Object(r.useCallback)((()=>{s(!0)}),[s]),[g,h]=Object(r.useState)(null),[v,m]=Object(r.useState)(!1),[b,O]=Object(r.useState)({endKey:null,middleKey:null,startKey:null,pagesBeforeStart:1/0,pagesAfterEnd:1/0}),[S,j]=u()({...o,startTimestamp:Object(f.a)(o.startDateExpression),endTimestamp:Object(f.a)(o.endDateExpression,"up"),timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:Date.now()});Object(r.useEffect)((()=>{a&&(p.from===S.startDateExpression&&p.to===S.endDateExpression||t({from:S.startDateExpression,to:S.endDateExpression}))}),[a,S.startDateExpression,S.endDateExpression,t]);const{startKey:w,middleKey:E,endKey:y,pagesBeforeStart:D,pagesAfterEnd:M}=b,L=((e,t)=>{const[n,i]=Object(r.useState)({middleKey:e,targetPosition:t,currentValue:e||t});return Object(r.useEffect)((()=>{e!==n.middleKey?i({targetPosition:t,middleKey:e,currentValue:e}):t!==n.targetPosition&&i({targetPosition:t,middleKey:e,currentValue:t})}),[e,t]),n.currentValue})(E,g),x=Object(r.useMemo)((()=>w&&y?{start:w.time,end:y.time}:null),[w,y]),I=Object(r.useCallback)((e=>{if(!("startDateExpression"in e)&&!("endDateExpression"in e))return;const t=e.startDateExpression||S.startDateExpression,n=e.endDateExpression||S.endDateExpression;if(!Object(f.c)(t)||!Object(f.c)(n))return;const r=Object(f.a)(t),i=Object(f.a)(n,"up");g&&(r>g.time||i<g.time)&&h(null),j((t=>({...e,startTimestamp:r,endTimestamp:i,timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:"startDateExpression"in e&&"endDateExpression"in e?Date.now():t.lastCompleteDateRangeExpressionUpdate})))}),[j,S,g]);Object(r.useEffect)((()=>{"now"===S.endDateExpression&&b.pagesAfterEnd<=2&&j({endTimestamp:Object(f.a)(S.endDateExpression,"up"),timestampsLastUpdate:Date.now()})}),[S.endDateExpression,b,j]);const N=Object(r.useCallback)((()=>{m(!0),h(null),I({startDateExpression:"now-1d",endDateExpression:"now"})}),[I]),T=Object(r.useCallback)((()=>{m(!1)}),[]);return l()((()=>I({startDateExpression:"now-1d",endDateExpression:"now"})),v?5e3:null),{...{isInitialized:a,targetPosition:g,isStreaming:v,firstVisiblePosition:w,pagesBeforeStart:D,pagesAfterEnd:M,visibleMidpoint:L,visibleMidpointTime:L?L.time:null,visibleTimeInterval:x,...S},initialize:c,jumpToTargetPosition:h,jumpToTargetPositionTime:Object(r.useCallback)((e=>h({tiebreaker:0,time:e})),[h]),reportVisiblePositions:O,startLiveStreaming:N,stopLiveStreaming:T,updateDateRange:I}}));var h=n(188),v=n(89);const m=36e5,b=()=>{const{visibleMidpoint:e,isStreaming:t,jumpToTargetPosition:n,startLiveStreaming:o,stopLiveStreaming:a,startDateExpression:s,endDateExpression:u,updateDateRange:c,initialize:l}=Object(r.useContext)(g.Context),d=Object(r.useMemo)((()=>({position:e?Object(h.c)(e):null,streamLive:t,start:s,end:u})),[e,t,s,u]);return i.a.createElement(v.a,{urlState:d,urlStateKey:"logPosition",mapToUrlState:O,onChange:e=>{e&&((e.start||e.end)&&c({startDateExpression:e.start,endDateExpression:e.end}),e.position&&n(e.position),e.streamLive?o():void 0===e.streamLive||e.streamLive||a())},onInitialize:e=>{if(e){const t=e.position;let r=e.start,i=e.end;if(t){const e=r?Object(f.a)(r):void 0,o=i?Object(f.a)(i,"up"):void 0;(!e||e>t.time)&&(r=new Date(t.time-m).toISOString()),(!o||o<t.time)&&(i=new Date(t.time+m).toISOString()),n(t)}else r=r||"now-1d",i=i||"now";(r||i)&&c({startDateExpression:r,endDateExpression:i}),e.streamLive&&o()}l()}})},O=e=>e?{position:S(e.position),streamLive:j(e.streamLive),start:w(e.start),end:w(e.end)}:void 0,S=e=>e&&"number"==typeof e.time&&"number"==typeof e.tiebreaker?Object(h.c)(e):void 0,j=e=>"boolean"==typeof e&&e,w=e=>Object(f.c)(e)?e:void 0,E=e=>Number.isNaN(e)?e=>e:Object(v.d)("logPosition",{position:{time:e,tiebreaker:0},end:new Date(e+m).toISOString(),start:new Date(e-m).toISOString(),streamLive:!1})},89:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b}));var r=n(29),i=n.n(r),o=n(6),a=n.n(o),s=n(34),u=n(23),c=n(2),l=n.n(c),f=n(51),d=n(14),p=n(55);class UrlStateContainerLifecycle extends l.a.Component{constructor(...e){super(...e),a()(this,"replaceStateInLocation",Object(u.throttle)((e=>{const{history:t,location:n,urlStateKey:r}=this.props,i=O(n,b(r,e)(v(n)));i!==n&&t.replace(i)}),1e3)),a()(this,"handleInitialize",(e=>{const{onInitialize:t,mapToUrlState:n,urlStateKey:r,urlState:i}=this.props;if(!t||!n)return;const o=m(v(e),r),a=n(h(o));!a&&this.props.populateWithInitialState?(this.replaceStateInLocation(i),t(i)):t(a)})),a()(this,"handleLocationChange",((e,t)=>{const{onChange:n,mapToUrlState:r,urlStateKey:i}=this.props;if(!n||!r)return;const o=m(v(e),i),a=m(v(t),i);if(o!==a){const e=r(h(o)),t=r(h(a));void 0!==t&&n(t,e)}}))}render(){return null}componentDidUpdate({location:e,urlState:t}){const{history:n,location:r,urlState:i}=this.props;i!==t&&this.replaceStateInLocation(i),"POP"===n.action&&r!==e&&this.handleLocationChange(e,r)}componentDidMount(){const{location:e}=this.props;this.handleInitialize(e)}}const g=e=>l.a.createElement(f.Route,null,(({history:t,location:n})=>l.a.createElement(UrlStateContainerLifecycle,i()({history:t,location:n},e)))),h=e=>{try{return e?Object(d.decode)(e):void 0}catch(e){if(e instanceof Error&&e.message.startsWith("rison decoder error"))return{};throw e}},v=e=>e.search.substring(1),m=(e,t)=>{const n=Object(s.parse)(e,{sort:!1})[t];return Array.isArray(n)?n[0]:n},b=(e,t)=>n=>{const r=Object(s.parse)(n,{sort:!1}),i=void 0===t?r:{...r,[e]:(o=t,Object(d.encode)(o))};var o;return Object(s.stringify)(p.url.encodeQuery(i),{sort:!1,encode:!1})},O=(e,t)=>t===v(e)?e:{...e,search:`?${t}`}}}]);