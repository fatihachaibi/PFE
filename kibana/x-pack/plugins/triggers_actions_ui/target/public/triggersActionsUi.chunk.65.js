/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[65],{122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.bind=t.bindTo=t.getRefinement=t.exists=t.elem=t.option=t.MonadThrow=t.Witherable=t.Traversable=t.Filterable=t.Compactable=t.Extend=t.Alternative=t.Alt=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getMonoid=t.getLastMonoid=t.getFirstMonoid=t.getApplyMonoid=t.getApplySemigroup=t.getOrd=t.getEq=t.getShow=t.URI=t.wilt=t.wither=t.sequence=t.traverse=t.partitionMap=t.partition=t.filterMap=t.filter=t.separate=t.compact=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.throwError=t.zero=t.alt=t.flatten=t.chainFirst=t.chain=t.of=t.apSecond=t.apFirst=t.ap=t.map=t.mapNullable=t.getOrElse=t.getOrElseW=t.toUndefined=t.toNullable=t.fold=t.fromEither=t.getRight=t.getLeft=t.tryCatch=t.fromPredicate=t.fromNullable=t.some=t.none=t.isNone=t.isSome=void 0;var r=n(48);function o(e){return null==e?t.none:t.some(e)}function i(e){return"Right"===e._tag?t.none:t.some(e.left)}function u(e){return"Left"===e._tag?t.none:t.some(e.right)}t.isSome=function(e){return"Some"===e._tag},t.isNone=function(e){return"None"===e._tag},t.none={_tag:"None"},t.some=function(e){return{_tag:"Some",value:e}},t.fromNullable=o,t.fromPredicate=function(e){return function(n){return e(n)?t.some(n):t.none}},t.tryCatch=function(e){try{return t.some(e())}catch(e){return t.none}},t.getLeft=i,t.getRight=u,t.fromEither=function(e){return"Left"===e._tag?t.none:t.some(e.right)},t.fold=function(e,n){return function(r){return t.isNone(r)?e():n(r.value)}},t.toNullable=function(e){return t.isNone(e)?null:e.value},t.toUndefined=function(e){return t.isNone(e)?void 0:e.value},t.getOrElseW=function(e){return function(n){return t.isNone(n)?e():n.value}},t.getOrElse=t.getOrElseW,t.mapNullable=function(e){return function(n){return t.isNone(n)?t.none:o(e(n.value))}};var a=function(e,n){return r.pipe(e,t.map(n))},c=function(e,n){return r.pipe(e,t.ap(n))},s=function(e,n){return r.pipe(e,t.chain(n))},l=function(e,n,o){return r.pipe(e,t.reduce(n,o))},p=function(e){var n=t.foldMap(e);return function(e,t){return r.pipe(e,n(t))}},f=function(e,n,o){return r.pipe(e,t.reduceRight(n,o))},d=function(e){var n=t.traverse(e);return function(e,t){return r.pipe(e,n(t))}},g=function(e,n){return r.pipe(e,t.alt(n))},m=function(e,n){return r.pipe(e,t.filter(n))},h=function(e,n){return r.pipe(e,t.filterMap(n))},b=function(e,n){return r.pipe(e,t.extend(n))},j=function(e,n){return r.pipe(e,t.partition(n))},v=function(e,n){return r.pipe(e,t.partitionMap(n))},x=function(e){var n=t.wither(e);return function(e,t){return r.pipe(e,n(t))}},O=function(e){var n=t.wilt(e);return function(e,t){return r.pipe(e,n(t))}};t.map=function(e){return function(n){return t.isNone(n)?t.none:t.some(e(n.value))}},t.ap=function(e){return function(n){return t.isNone(n)||t.isNone(e)?t.none:t.some(n.value(e.value))}},t.apFirst=function(e){return r.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return r.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.some,t.chain=function(e){return function(n){return t.isNone(n)?t.none:e(n.value)}},t.chainFirst=function(e){return t.chain((function(n){return r.pipe(e(n),t.map((function(){return n})))}))},t.flatten=t.chain(r.identity),t.alt=function(e){return function(n){return t.isNone(n)?e():n}},t.zero=function(){return t.none},t.throwError=function(){return t.none},t.extend=function(e){return function(n){return t.isNone(n)?t.none:t.some(e(n))}},t.duplicate=t.extend(r.identity),t.reduce=function(e,n){return function(r){return t.isNone(r)?e:n(e,r.value)}},t.foldMap=function(e){return function(n){return function(r){return t.isNone(r)?e.empty:n(r.value)}}},t.reduceRight=function(e,n){return function(r){return t.isNone(r)?e:n(r.value,e)}},t.compact=t.flatten;var N={left:t.none,right:t.none};function I(e){return{equals:function(n,r){return n===r||(t.isNone(n)?t.isNone(r):!t.isNone(r)&&e.equals(n.value,r.value))}}}function M(e){return{concat:function(n,r){return t.isSome(n)&&t.isSome(r)?t.some(e.concat(n.value,r.value)):t.none}}}t.separate=function(e){var n=r.pipe(e,t.map((function(e){return{left:i(e),right:u(e)}})));return t.isNone(n)?N:n.value},t.filter=function(e){return function(n){return t.isNone(n)?t.none:e(n.value)?n:t.none}},t.filterMap=function(e){return function(n){return t.isNone(n)?t.none:e(n.value)}},t.partition=function(e){return function(n){return{left:r.pipe(n,t.filter((function(t){return!e(t)}))),right:r.pipe(n,t.filter(e))}}},t.partitionMap=function(e){return function(n){return t.separate(r.pipe(n,t.map(e)))}},t.traverse=function(e){return function(n){return function(r){return t.isNone(r)?e.of(t.none):e.map(n(r.value),t.some)}}},t.sequence=function(e){return function(n){return t.isNone(n)?e.of(t.none):e.map(n.value,t.some)}},t.wither=function(e){return function(n){return function(r){return t.isNone(r)?e.of(t.none):n(r.value)}}},t.wilt=function(e){return function(n){return function(o){var a=r.pipe(o,t.map((function(t){return e.map(n(t),(function(e){return{left:i(e),right:u(e)}}))})));return t.isNone(a)?e.of({left:t.none,right:t.none}):a.value}}},t.URI="Option",t.getShow=function(e){return{show:function(n){return t.isNone(n)?"none":"some("+e.show(n.value)+")"}}},t.getEq=I,t.getOrd=function(e){return{equals:I(e).equals,compare:function(n,r){return n===r?0:t.isSome(n)?t.isSome(r)?e.compare(n.value,r.value):1:-1}}},t.getApplySemigroup=M,t.getApplyMonoid=function(e){return{concat:M(e).concat,empty:t.some(e.empty)}},t.getFirstMonoid=function(){return{concat:function(e,n){return t.isNone(e)?n:e},empty:t.none}},t.getLastMonoid=function(){return{concat:function(e,n){return t.isNone(n)?e:n},empty:t.none}},t.getMonoid=function(e){return{concat:function(n,r){return t.isNone(n)?r:t.isNone(r)?n:t.some(e.concat(n.value,r.value))},empty:t.none}},t.Functor={URI:t.URI,map:a},t.Applicative={URI:t.URI,map:a,ap:c,of:t.of},t.Monad={URI:t.URI,map:a,ap:c,of:t.of,chain:s},t.Foldable={URI:t.URI,reduce:l,foldMap:p,reduceRight:f},t.Alt={URI:t.URI,map:a,alt:g},t.Alternative={URI:t.URI,map:a,ap:c,of:t.of,alt:g,zero:t.zero},t.Extend={URI:t.URI,map:a,extend:b},t.Compactable={URI:t.URI,compact:t.compact,separate:t.separate},t.Filterable={URI:t.URI,map:a,compact:t.compact,separate:t.separate,filter:m,filterMap:h,partition:j,partitionMap:v},t.Traversable={URI:t.URI,map:a,reduce:l,foldMap:p,reduceRight:f,traverse:d,sequence:t.sequence},t.Witherable={URI:t.URI,map:a,reduce:l,foldMap:p,reduceRight:f,traverse:d,sequence:t.sequence,compact:t.compact,separate:t.separate,filter:m,filterMap:h,partition:j,partitionMap:v,wither:x,wilt:O},t.MonadThrow={URI:t.URI,map:a,ap:c,of:t.of,chain:s,throwError:t.throwError},t.option={URI:t.URI,map:a,of:t.of,ap:c,chain:s,reduce:l,foldMap:p,reduceRight:f,traverse:d,sequence:t.sequence,zero:t.zero,alt:g,extend:b,compact:t.compact,separate:t.separate,filter:m,filterMap:h,partition:j,partitionMap:v,wither:x,wilt:O,throwError:t.throwError},t.elem=function(e){return function(n,r){return!t.isNone(r)&&e.equals(n,r.value)}},t.exists=function(e){return function(n){return!t.isNone(n)&&e(n.value)}},t.getRefinement=function(e){return function(n){return t.isSome(e(n))}},t.bindTo=function(e){return t.map(r.bindTo_(e))},t.bind=function(e,n){return t.chain((function(o){return r.pipe(n(o),t.map((function(t){return r.bind_(o,e,t)})))}))},t.apS=function(e,n){return r.flow(t.map((function(t){return function(n){return r.bind_(t,e,n)}})),t.ap(n))}},186:function(e,t,n){"use strict";n.r(t),n.d(t,"NOTIFY_WHEN_OPTIONS",(function(){return f})),n.d(t,"RuleNotifyWhen",(function(){return d}));var r=n(1),o=n.n(r),i=n(0),u=n(76),a=n(15),c=n(122),s=n(47),l=n(41),p=n(3);const f=[{value:"onActionGroupChange",inputDisplay:i.i18n.translate("xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onActionGroupChange.display",{defaultMessage:"Only on status change"}),"data-test-subj":"onActionGroupChange",dropdownDisplay:Object(p.jsx)(o.a.Fragment,null,Object(p.jsx)("strong",null,Object(p.jsx)(u.FormattedMessage,{defaultMessage:"Only on status change",id:"xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onActionGroupChange.label"})),Object(p.jsx)(a.EuiText,{size:"s",color:"subdued"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{defaultMessage:"Actions run when the rule status changes.",id:"xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onActionGroupChange.description"}))))},{value:"onActiveAlert",inputDisplay:i.i18n.translate("xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onActiveAlert.display",{defaultMessage:"Every time rule is active"}),"data-test-subj":"onActiveAlert",dropdownDisplay:Object(p.jsx)(o.a.Fragment,null,Object(p.jsx)("strong",null,Object(p.jsx)(u.FormattedMessage,{defaultMessage:"Every time rule is active",id:"xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onActiveAlert.label"})),Object(p.jsx)(a.EuiText,{size:"s",color:"subdued"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{defaultMessage:"Actions repeat at the rule interval when the rule is active.",id:"xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onActiveAlert.description"}))))},{value:"onThrottleInterval",inputDisplay:i.i18n.translate("xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onThrottleInterval.display",{defaultMessage:"On a custom action interval"}),"data-test-subj":"onThrottleInterval",dropdownDisplay:Object(p.jsx)(o.a.Fragment,null,Object(p.jsx)("strong",null,Object(p.jsx)(u.FormattedMessage,{defaultMessage:"On a custom action interval",id:"xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onThrottleInterval.label"})),Object(p.jsx)(a.EuiText,{size:"s",color:"subdued"},Object(p.jsx)("p",null,Object(p.jsx)(u.FormattedMessage,{defaultMessage:"Actions run using the interval you set.",id:"xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.onThrottleInterval.description"}))))}],d=({rule:e,throttle:t,throttleUnit:n,onNotifyWhenChange:d,onThrottleChange:g})=>{const[m,h]=Object(r.useState)(t||1),[b,j]=Object(r.useState)(!1),[v,x]=Object(r.useState)("onActionGroupChange");Object(r.useEffect)((()=>{e.notifyWhen?x(e.notifyWhen):x(e.throttle?"onThrottleInterval":"onActiveAlert")}),[e]),Object(r.useEffect)((()=>{j("onThrottleInterval"===v)}),[v]);const O=Object(r.useCallback)((e=>{g("onThrottleInterval"===e?m:null,n),d(e),x(e)}),[]),N=Object(p.jsx)(o.a.Fragment,null,Object(p.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleForm.renotifyFieldLabel",defaultMessage:"Notify"})," ",Object(p.jsx)(a.EuiIconTip,{position:"right",type:"questionInCircle",content:i.i18n.translate("xpack.triggersActionsUI.sections.ruleForm.renotifyWithTooltip",{defaultMessage:"Define how often to repeat the action while the rule is active."})}));return Object(p.jsx)(o.a.Fragment,null,Object(p.jsx)(a.EuiFormRow,{fullWidth:!0,label:N},Object(p.jsx)(a.EuiFlexGroup,{gutterSize:"s"},Object(p.jsx)(a.EuiFlexItem,null,Object(p.jsx)(a.EuiSuperSelect,{"data-test-subj":"notifyWhenSelect",options:f,valueOfSelected:v,onChange:O}),b&&Object(p.jsx)(o.a.Fragment,null,Object(p.jsx)(a.EuiSpacer,null),Object(p.jsx)(a.EuiFormRow,{fullWidth:!0},Object(p.jsx)(a.EuiFlexGroup,{gutterSize:"s"},Object(p.jsx)(a.EuiFlexItem,null,Object(p.jsx)(a.EuiFieldNumber,{fullWidth:!0,min:1,value:m,name:"throttle","data-test-subj":"throttleInput",prepend:i.i18n.translate("xpack.triggersActionsUI.sections.ruleForm.ruleNotifyWhen.label",{defaultMessage:"Every"}),onChange:e=>{Object(s.pipe)(Object(c.some)(e.target.value.trim()),Object(c.filter)((e=>""!==e)),Object(c.map)((e=>parseInt(e,10))),Object(c.filter)((e=>!isNaN(e))),Object(c.map)((e=>{h(e),g(e,n)})))}})),Object(p.jsx)(a.EuiFlexItem,{grow:!1},Object(p.jsx)(a.EuiSelect,{"data-test-subj":"throttleUnitInput",value:n,options:Object(l.b)(null!=t?t:1),onChange:e=>{g(t,e.target.value)}})))))))))}}}]);