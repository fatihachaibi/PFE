/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[0,13],{107:function(e,n,t){"use strict";var r,i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),o=[];function a(e){for(var n=-1,t=0;t<o.length;t++)if(o[t].identifier===e){n=t;break}return n}function u(e,n){for(var t={},r=[],i=0;i<e.length;i++){var u=e[i],c=n.base?u[0]+n.base:u[0],s=t[c]||0,l="".concat(c," ").concat(s);t[c]=s+1;var p=a(l),f={css:u[1],media:u[2],sourceMap:u[3]};-1!==p?(o[p].references++,o[p].updater(f)):o.push({identifier:l,updater:m(f,n),references:1}),r.push(l)}return r}function c(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var s,l=(s=[],function(e,n){return s[e]=n,s.filter(Boolean).join("\n")});function p(e,n,t,r){var i=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(n,i);else{var o=document.createTextNode(i),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(o,a[n]):e.appendChild(o)}}function f(e,n,t){var r=t.css,i=t.media,o=t.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,h=0;function m(e,n){var t,r,i;if(n.singleton){var o=h++;t=d||(d=c(n)),r=p.bind(null,t,o,!1),i=p.bind(null,t,o,!0)}else t=c(n),r=f.bind(null,t,n),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=u(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var i=a(t[r]);o[i].references--}for(var c=u(e,n),s=0;s<t.length;s++){var l=a(t[s]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}t=c}}}},108:function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t,r,i,o=e[1]||"",a=e[3];if(!a)return o;if(n&&"function"==typeof btoa){var u=(t=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([u]).join("\n")}return[o].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),n.push(c))}},n}},112:function(e,n,t){"use strict";t.d(n,"f",(function(){return r})),t.d(n,"e",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return u})),t.d(n,"d",(function(){return c}));const r=e=>{var n;return null==e||null===(n=e.actions)||void 0===n?void 0:n.show},i=e=>{var n;return null==e||null===(n=e.actions)||void 0===n?void 0:n.save},o=e=>{var n;return null==e||null===(n=e.actions)||void 0===n?void 0:n.execute},a=e=>{var n;return null==e||null===(n=e.actions)||void 0===n?void 0:n.delete};function u(e,n){var t,r;return null!==(t=null==n||null===(r=n.authorizedConsumers[e.consumer])||void 0===r?void 0:r.all)&&void 0!==t&&t}const c=e=>{var n,t;return null==e||null===(n=e.management)||void 0===n||null===(t=n.security)||void 0===t?void 0:t.api_keys}},122:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.apS=n.bind=n.bindTo=n.getRefinement=n.exists=n.elem=n.option=n.MonadThrow=n.Witherable=n.Traversable=n.Filterable=n.Compactable=n.Extend=n.Alternative=n.Alt=n.Foldable=n.Monad=n.Applicative=n.Functor=n.getMonoid=n.getLastMonoid=n.getFirstMonoid=n.getApplyMonoid=n.getApplySemigroup=n.getOrd=n.getEq=n.getShow=n.URI=n.wilt=n.wither=n.sequence=n.traverse=n.partitionMap=n.partition=n.filterMap=n.filter=n.separate=n.compact=n.reduceRight=n.foldMap=n.reduce=n.duplicate=n.extend=n.throwError=n.zero=n.alt=n.flatten=n.chainFirst=n.chain=n.of=n.apSecond=n.apFirst=n.ap=n.map=n.mapNullable=n.getOrElse=n.getOrElseW=n.toUndefined=n.toNullable=n.fold=n.fromEither=n.getRight=n.getLeft=n.tryCatch=n.fromPredicate=n.fromNullable=n.some=n.none=n.isNone=n.isSome=void 0;var r=t(48);function i(e){return null==e?n.none:n.some(e)}function o(e){return"Right"===e._tag?n.none:n.some(e.left)}function a(e){return"Left"===e._tag?n.none:n.some(e.right)}n.isSome=function(e){return"Some"===e._tag},n.isNone=function(e){return"None"===e._tag},n.none={_tag:"None"},n.some=function(e){return{_tag:"Some",value:e}},n.fromNullable=i,n.fromPredicate=function(e){return function(t){return e(t)?n.some(t):n.none}},n.tryCatch=function(e){try{return n.some(e())}catch(e){return n.none}},n.getLeft=o,n.getRight=a,n.fromEither=function(e){return"Left"===e._tag?n.none:n.some(e.right)},n.fold=function(e,t){return function(r){return n.isNone(r)?e():t(r.value)}},n.toNullable=function(e){return n.isNone(e)?null:e.value},n.toUndefined=function(e){return n.isNone(e)?void 0:e.value},n.getOrElseW=function(e){return function(t){return n.isNone(t)?e():t.value}},n.getOrElse=n.getOrElseW,n.mapNullable=function(e){return function(t){return n.isNone(t)?n.none:i(e(t.value))}};var u=function(e,t){return r.pipe(e,n.map(t))},c=function(e,t){return r.pipe(e,n.ap(t))},s=function(e,t){return r.pipe(e,n.chain(t))},l=function(e,t,i){return r.pipe(e,n.reduce(t,i))},p=function(e){var t=n.foldMap(e);return function(e,n){return r.pipe(e,t(n))}},f=function(e,t,i){return r.pipe(e,n.reduceRight(t,i))},d=function(e){var t=n.traverse(e);return function(e,n){return r.pipe(e,t(n))}},h=function(e,t){return r.pipe(e,n.alt(t))},m=function(e,t){return r.pipe(e,n.filter(t))},g=function(e,t){return r.pipe(e,n.filterMap(t))},v=function(e,t){return r.pipe(e,n.extend(t))},b=function(e,t){return r.pipe(e,n.partition(t))},y=function(e,t){return r.pipe(e,n.partitionMap(t))},j=function(e){var t=n.wither(e);return function(e,n){return r.pipe(e,t(n))}},x=function(e){var t=n.wilt(e);return function(e,n){return r.pipe(e,t(n))}};n.map=function(e){return function(t){return n.isNone(t)?n.none:n.some(e(t.value))}},n.ap=function(e){return function(t){return n.isNone(t)||n.isNone(e)?n.none:n.some(t.value(e.value))}},n.apFirst=function(e){return r.flow(n.map((function(e){return function(){return e}})),n.ap(e))},n.apSecond=function(e){return r.flow(n.map((function(){return function(e){return e}})),n.ap(e))},n.of=n.some,n.chain=function(e){return function(t){return n.isNone(t)?n.none:e(t.value)}},n.chainFirst=function(e){return n.chain((function(t){return r.pipe(e(t),n.map((function(){return t})))}))},n.flatten=n.chain(r.identity),n.alt=function(e){return function(t){return n.isNone(t)?e():t}},n.zero=function(){return n.none},n.throwError=function(){return n.none},n.extend=function(e){return function(t){return n.isNone(t)?n.none:n.some(e(t))}},n.duplicate=n.extend(r.identity),n.reduce=function(e,t){return function(r){return n.isNone(r)?e:t(e,r.value)}},n.foldMap=function(e){return function(t){return function(r){return n.isNone(r)?e.empty:t(r.value)}}},n.reduceRight=function(e,t){return function(r){return n.isNone(r)?e:t(r.value,e)}},n.compact=n.flatten;var k={left:n.none,right:n.none};function N(e){return{equals:function(t,r){return t===r||(n.isNone(t)?n.isNone(r):!n.isNone(r)&&e.equals(t.value,r.value))}}}function E(e){return{concat:function(t,r){return n.isSome(t)&&n.isSome(r)?n.some(e.concat(t.value,r.value)):n.none}}}n.separate=function(e){var t=r.pipe(e,n.map((function(e){return{left:o(e),right:a(e)}})));return n.isNone(t)?k:t.value},n.filter=function(e){return function(t){return n.isNone(t)?n.none:e(t.value)?t:n.none}},n.filterMap=function(e){return function(t){return n.isNone(t)?n.none:e(t.value)}},n.partition=function(e){return function(t){return{left:r.pipe(t,n.filter((function(n){return!e(n)}))),right:r.pipe(t,n.filter(e))}}},n.partitionMap=function(e){return function(t){return n.separate(r.pipe(t,n.map(e)))}},n.traverse=function(e){return function(t){return function(r){return n.isNone(r)?e.of(n.none):e.map(t(r.value),n.some)}}},n.sequence=function(e){return function(t){return n.isNone(t)?e.of(n.none):e.map(t.value,n.some)}},n.wither=function(e){return function(t){return function(r){return n.isNone(r)?e.of(n.none):t(r.value)}}},n.wilt=function(e){return function(t){return function(i){var u=r.pipe(i,n.map((function(n){return e.map(t(n),(function(e){return{left:o(e),right:a(e)}}))})));return n.isNone(u)?e.of({left:n.none,right:n.none}):u.value}}},n.URI="Option",n.getShow=function(e){return{show:function(t){return n.isNone(t)?"none":"some("+e.show(t.value)+")"}}},n.getEq=N,n.getOrd=function(e){return{equals:N(e).equals,compare:function(t,r){return t===r?0:n.isSome(t)?n.isSome(r)?e.compare(t.value,r.value):1:-1}}},n.getApplySemigroup=E,n.getApplyMonoid=function(e){return{concat:E(e).concat,empty:n.some(e.empty)}},n.getFirstMonoid=function(){return{concat:function(e,t){return n.isNone(e)?t:e},empty:n.none}},n.getLastMonoid=function(){return{concat:function(e,t){return n.isNone(t)?e:t},empty:n.none}},n.getMonoid=function(e){return{concat:function(t,r){return n.isNone(t)?r:n.isNone(r)?t:n.some(e.concat(t.value,r.value))},empty:n.none}},n.Functor={URI:n.URI,map:u},n.Applicative={URI:n.URI,map:u,ap:c,of:n.of},n.Monad={URI:n.URI,map:u,ap:c,of:n.of,chain:s},n.Foldable={URI:n.URI,reduce:l,foldMap:p,reduceRight:f},n.Alt={URI:n.URI,map:u,alt:h},n.Alternative={URI:n.URI,map:u,ap:c,of:n.of,alt:h,zero:n.zero},n.Extend={URI:n.URI,map:u,extend:v},n.Compactable={URI:n.URI,compact:n.compact,separate:n.separate},n.Filterable={URI:n.URI,map:u,compact:n.compact,separate:n.separate,filter:m,filterMap:g,partition:b,partitionMap:y},n.Traversable={URI:n.URI,map:u,reduce:l,foldMap:p,reduceRight:f,traverse:d,sequence:n.sequence},n.Witherable={URI:n.URI,map:u,reduce:l,foldMap:p,reduceRight:f,traverse:d,sequence:n.sequence,compact:n.compact,separate:n.separate,filter:m,filterMap:g,partition:b,partitionMap:y,wither:j,wilt:x},n.MonadThrow={URI:n.URI,map:u,ap:c,of:n.of,chain:s,throwError:n.throwError},n.option={URI:n.URI,map:u,of:n.of,ap:c,chain:s,reduce:l,foldMap:p,reduceRight:f,traverse:d,sequence:n.sequence,zero:n.zero,alt:h,extend:v,compact:n.compact,separate:n.separate,filter:m,filterMap:g,partition:b,partitionMap:y,wither:j,wilt:x,throwError:n.throwError},n.elem=function(e){return function(t,r){return!n.isNone(r)&&e.equals(t,r.value)}},n.exists=function(e){return function(t){return!n.isNone(t)&&e(t.value)}},n.getRefinement=function(e){return function(t){return n.isSome(e(t))}},n.bindTo=function(e){return n.map(r.bindTo_(e))},n.bind=function(e,t){return n.chain((function(i){return r.pipe(t(i),n.map((function(n){return r.bind_(i,e,n)})))}))},n.apS=function(e,t){return r.flow(n.map((function(n){return function(t){return r.bind_(n,e,t)}})),n.ap(t))}},125:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return u}));var r=t(78),i=t.n(r),o=t(0);const a=new RegExp(`^([\\d\\.]+)\\s*(${i.a.units.join("|")})$`),u=e=>{if(e){const n=e.match(a);if(n)return{value:Number(n[1]),unit:n[2]}}throw new Error(o.i18n.translate("xpack.triggersActionsUI.parseInterval.errorMessage",{defaultMessage:"{value} is not an interval string",values:{value:e}}))};t(44);const c="/api/triggers_actions_ui"},136:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return c}));var r=t(1),i=t(3);const o={loadingHealthCheck:!1,setLoadingHealthCheck:e=>{throw new Error("setLoadingHealthCheck was not initialized, set it when you invoke the context")}},a=Object(r.createContext)(o),u=({children:e})=>{const[n,t]=Object(r.useState)(!1),o=Object(r.useCallback)((e=>{t(e)}),[]),u=Object(r.useMemo)((()=>({loadingHealthCheck:n,setLoadingHealthCheck:o})),[n,o]);return Object(i.jsx)(a.Provider,{value:u},e)},c=()=>{const e=Object(r.useContext)(a);if(!e)throw new Error("HealthContext has not been set.");return e}},183:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var r=t(1),i=t.n(r),o=t(122),a=t(47),u=t(76),c=t(15),s=t(0),l=(t(206),t(136)),p=t(43),f=t(46),d=t(125),h=t(27),m=t(3);const g=({children:e,waitForCheck:n,inFlyout:t=!1})=>{const{http:r,docLinks:u}=Object(p.b)().services,{setLoadingHealthCheck:s}=Object(l.b)(),[g,x]=i.a.useState(o.none);i.a.useEffect((()=>{!async function(){s(!0);const e=await async function({http:e}){const n=await e.get(`${d.a}/_health`);return n?{isRulesAvailable:n.isAlertsAvailable}:n}({http:r}),n={...e,isSufficientlySecure:!1,hasPermanentEncryptionKey:!1};if(n.isRulesAvailable){const e=await async function(e){try{return Object(o.some)(await Object(h.a)({http:e}))}catch(e){return o.none}}(r);Object(o.isSome)(e)?(n.isSufficientlySecure=e.value.isSufficientlySecure,n.hasPermanentEncryptionKey=e.value.hasPermanentEncryptionKey):(n.isSufficientlySecure=!0,n.hasPermanentEncryptionKey=!0),x(Object(o.some)(n))}s(!1)}()}),[r,s]);const k=t?"alertingFlyoutHealthCheck":"alertingHealthCheck";return Object(a.pipe)(g,Object(o.fold)((()=>n?Object(m.jsx)(i.a.Fragment,null,Object(m.jsx)(c.EuiSpacer,{size:"m"}),Object(m.jsx)(f.a,null)):Object(m.jsx)(i.a.Fragment,null,e)),(n=>null!=n&&n.isSufficientlySecure&&null!=n&&n.hasPermanentEncryptionKey?Object(m.jsx)(i.a.Fragment,null,e):n.isRulesAvailable?n.isSufficientlySecure||n.hasPermanentEncryptionKey?n.hasPermanentEncryptionKey?Object(m.jsx)(b,{docLinks:u,className:k}):Object(m.jsx)(v,{docLinks:u,className:k}):Object(m.jsx)(j,{docLinks:u,className:k}):Object(m.jsx)(y,{docLinks:u,className:k}))))},v=({docLinks:e,className:n})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:n,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.encryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(m.jsx)("div",{className:`${n}__body`},Object(m.jsx)("p",{role:"banner"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorBeforeKey",{defaultMessage:"You must configure an encryption key to use Alerting. "}),Object(m.jsx)(c.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.encryptionErrorAction",{defaultMessage:"Learn more."}))))}),b=({docLinks:e,className:n})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:n,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorTitle",defaultMessage:"Additional setup required"})),body:Object(m.jsx)("div",{className:`${n}__body`},Object(m.jsx)("p",{role:"banner"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledError",{defaultMessage:"You must enable API keys to use Alerting. "}),Object(m.jsx)(c.EuiLink,{href:e.links.security.elasticsearchEnableApiKeys,external:!0,target:"_blank"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysDisabledErrorAction",{defaultMessage:"Learn more."}))))}),y=({docLinks:e,className:n})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"alertsNeededEmptyPrompt",className:n,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.alertsErrorTitle",defaultMessage:"You must enable Alerting and Actions"})),body:Object(m.jsx)("div",{className:`${n}__body`},Object(m.jsx)("p",{role:"banner"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsError",{defaultMessage:"To create a rule, you must enable the alerting and actions plugins. "}),Object(m.jsx)(c.EuiLink,{href:e.links.alerting.generalSettings,external:!0,target:"_blank"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.alertsErrorAction",{defaultMessage:"Learn how."}))))}),j=({docLinks:e,className:n})=>Object(m.jsx)(c.EuiEmptyPrompt,{iconType:"watchesApp","data-test-subj":"actionNeededEmptyPrompt",className:n,titleSize:"xs",title:Object(m.jsx)("h2",null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),body:Object(m.jsx)("div",{className:`${n}__body`},Object(m.jsx)("p",{role:"banner"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionError",{defaultMessage:"You must enable API keys and configure an encryption key to use Alerting. "}),Object(m.jsx)(c.EuiLink,{href:e.links.alerting.setupPrerequisites,external:!0,target:"_blank"},s.i18n.translate("xpack.triggersActionsUI.components.healthCheck.apiKeysAndEncryptionErrorAction",{defaultMessage:"Learn more."}))))})},206:function(e,n,t){switch(window.__kbnThemeTag__){case"v8dark":return t(207);case"v8light":return t(209)}},207:function(e,n,t){var r=t(107),i=t(208);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},208:function(e,n,t){(n=t(108)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=n},209:function(e,n,t){var r=t(107),i=t(210);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},210:function(e,n,t){(n=t(108)(!1)).push([e.i,".alertingHealthCheck__body{padding-left:32px;padding-right:32px}.alertingFlyoutHealthCheck__body{padding-left:32px;padding-right:32px;margin-top:16px}\n",""]),e.exports=n}}]);