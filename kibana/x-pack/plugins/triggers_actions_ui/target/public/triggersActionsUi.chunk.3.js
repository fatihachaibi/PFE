/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[3,2],{107:function(e,t,n){"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],c=t.base?o[0]+t.base:o[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=a(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(p)):s.push({identifier:u,updater:f(p,t),references:1}),i.push(u)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function p(e,t,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var g=null,b=0;function f(e,t){var n,i,r;if(t.singleton){var s=b++;n=g||(g=c(t)),i=d.bind(null,n,s,!1),r=d.bind(null,n,s,!0)}else n=c(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var c=o(e,t),l=0;l<n.length;l++){var u=a(n[l]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}n=c}}}},108:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,r,s=e[1]||"",a=e[3];if(!a)return s;if(t&&"function"==typeof btoa){var o=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[s].concat(c).concat([o]).join("\n")}return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},109:function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(113);case"v8light":return n(115)}},110:function(e,t,n){"use strict";function i(e){return e.useWithTripleBracesInTemplates?`{{{${e.name}}}}`:`{{${e.name}}}`}n.d(t,"a",(function(){return i}))},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(1),r=n.n(i),s=n(0),a=n(15),o=(n(109),n(110)),c=n(3);const l=({messageVariables:e,paramsProperty:t,onSelectEventHandler:n})=>{var l;const[u,d]=Object(i.useState)(!1),p=s.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addRuleVariableTitle",{defaultMessage:"Add rule variable"});return 0===(null!==(l=null==e?void 0:e.length)&&void 0!==l?l:0)?Object(c.jsx)(r.a.Fragment,null):Object(c.jsx)(a.EuiPopover,{button:Object(c.jsx)(a.EuiButtonIcon,{id:`${t}AddVariableButton`,"data-test-subj":`${t}AddVariableButton`,title:p,onClick:()=>d(!0),iconType:"indexOpen","aria-label":s.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"})}),isOpen:u,closePopover:()=>d(!1),panelPaddingSize:"none",anchorPosition:"downLeft"},Object(c.jsx)(a.EuiContextMenuPanel,{className:"messageVariablesPanel",items:null==e?void 0:e.map(((e,t)=>Object(c.jsx)(a.EuiContextMenuItem,{key:e.name,"data-test-subj":`variableMenuButton-${e.name}`,icon:"empty",disabled:e.deprecated,onClick:()=>{n(e),d(!1)}},Object(c.jsx)(r.a.Fragment,null,Object(c.jsx)(a.EuiText,{size:"m","data-test-subj":`variableMenuButton-${t}-templated-name`},Object(o.a)(e)),Object(c.jsx)(a.EuiText,{size:"m",color:"subdued"},Object(c.jsx)("div",{className:"euiTextColor--subdued"},e.description))))))}))}},113:function(e,t,n){var i=n(107),r=n(114);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},114:function(e,t,n){(t=n(108)(!1)).push([e.i,".messageVariablesPanel{scrollbar-color:rgba(152,162,179,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);max-height:320px;max-width:320px}.messageVariablesPanel::-webkit-scrollbar{width:16px;height:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-color:rgba(152,162,179,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex='0']:focus:focus-visible{outline-style:auto}\n",""]),e.exports=t},115:function(e,t,n){var i=n(107),r=n(116);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},116:function(e,t,n){(t=n(108)(!1)).push([e.i,".messageVariablesPanel{scrollbar-color:rgba(105,112,125,0.5) rgba(0,0,0,0);scrollbar-width:thin;height:100%;overflow-y:auto;overflow-x:hidden;-webkit-mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);mask-image:linear-gradient(to bottom, rgba(255,0,0,0.1) 0%,red 7.5px,red calc(100% - 7.5px),rgba(255,0,0,0.1) 100%);max-height:320px;max-width:320px}.messageVariablesPanel::-webkit-scrollbar{width:16px;height:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-color:rgba(105,112,125,0.5);background-clip:content-box;border-radius:16px;border:6px solid rgba(0,0,0,0)}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:rgba(0,0,0,0)}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex='0']:focus:focus-visible{outline-style:auto}\n",""]),e.exports=t},118:function(e,t,n){"use strict";n.r(t),n.d(t,"API_URL_LABEL",(function(){return r})),n.d(t,"API_URL_HELPTEXT",(function(){return s})),n.d(t,"API_URL_REQUIRED",(function(){return a})),n.d(t,"API_URL_INVALID",(function(){return o})),n.d(t,"API_URL_REQUIRE_HTTPS",(function(){return c})),n.d(t,"AUTHENTICATION_LABEL",(function(){return l})),n.d(t,"REENTER_VALUES_LABEL",(function(){return u})),n.d(t,"USERNAME_LABEL",(function(){return d})),n.d(t,"USERNAME_REQUIRED",(function(){return p})),n.d(t,"PASSWORD_LABEL",(function(){return g})),n.d(t,"PASSWORD_REQUIRED",(function(){return b})),n.d(t,"TITLE_REQUIRED",(function(){return f})),n.d(t,"INCIDENT",(function(){return A})),n.d(t,"SECURITY_INCIDENT",(function(){return T})),n.d(t,"SHORT_DESCRIPTION_LABEL",(function(){return v})),n.d(t,"DESCRIPTION_LABEL",(function(){return m})),n.d(t,"COMMENTS_LABEL",(function(){return I})),n.d(t,"CHOICES_API_ERROR",(function(){return E})),n.d(t,"CATEGORY_LABEL",(function(){return x})),n.d(t,"SUBCATEGORY_LABEL",(function(){return y})),n.d(t,"URGENCY_LABEL",(function(){return U})),n.d(t,"SEVERITY_LABEL",(function(){return w})),n.d(t,"IMPACT_LABEL",(function(){return h})),n.d(t,"PRIORITY_LABEL",(function(){return L})),n.d(t,"API_INFO_ERROR",(function(){return S})),n.d(t,"INSTALL",(function(){return _})),n.d(t,"INSTALLATION_CALLOUT_TITLE",(function(){return R})),n.d(t,"UPDATE_SUCCESS_TOAST_TITLE",(function(){return k})),n.d(t,"UPDATE_SUCCESS_TOAST_TEXT",(function(){return M})),n.d(t,"VISIT_SN_STORE",(function(){return O})),n.d(t,"SETUP_DEV_INSTANCE",(function(){return C})),n.d(t,"SN_INSTANCE_LABEL",(function(){return P})),n.d(t,"UNKNOWN",(function(){return N})),n.d(t,"CORRELATION_ID",(function(){return j})),n.d(t,"CORRELATION_DISPLAY",(function(){return V})),n.d(t,"EVENT",(function(){return F})),n.d(t,"SOURCE",(function(){return D})),n.d(t,"EVENT_CLASS",(function(){return B})),n.d(t,"RESOURCE",(function(){return q})),n.d(t,"NODE",(function(){return K})),n.d(t,"METRIC_NAME",(function(){return H})),n.d(t,"TYPE",(function(){return Y})),n.d(t,"MESSAGE_KEY",(function(){return $})),n.d(t,"SEVERITY_REQUIRED",(function(){return W})),n.d(t,"SEVERITY_REQUIRED_LABEL",(function(){return Q})),n.d(t,"CLIENTID_LABEL",(function(){return G})),n.d(t,"CLIENTSECRET_LABEL",(function(){return J})),n.d(t,"KEY_ID_LABEL",(function(){return z})),n.d(t,"USER_EMAIL_LABEL",(function(){return X})),n.d(t,"PRIVATE_KEY_LABEL",(function(){return Z})),n.d(t,"PRIVATE_KEY_PASSWORD_LABEL",(function(){return ee})),n.d(t,"PRIVATE_KEY_PASSWORD_HELPER_TEXT",(function(){return te})),n.d(t,"CLIENTID_REQUIRED",(function(){return ne})),n.d(t,"PRIVATE_KEY_REQUIRED",(function(){return ie})),n.d(t,"CLIENTSECRET_REQUIRED",(function(){return re})),n.d(t,"USER_EMAIL_REQUIRED",(function(){return se})),n.d(t,"KEYID_REQUIRED",(function(){return ae})),n.d(t,"IS_OAUTH",(function(){return oe}));var i=n(0);const r=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.apiUrlTextFieldLabel",{defaultMessage:"ServiceNow instance URL"}),s=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.apiUrlHelpText",{defaultMessage:"Include the full URL."}),a=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredApiUrlTextField",{defaultMessage:"URL is required."}),o=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.invalidApiUrlTextField",{defaultMessage:"URL is invalid."}),c=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requireHttpsApiUrlTextField",{defaultMessage:"URL must start with https://."}),l=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.authenticationLabel",{defaultMessage:"Authentication"}),u=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.reenterValuesLabel",{defaultMessage:"You must authenticate each time you edit the connector."}),d=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.usernameTextFieldLabel",{defaultMessage:"Username"}),p=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredUsernameTextField",{defaultMessage:"Username is required."}),g=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.passwordTextFieldLabel",{defaultMessage:"Password"}),b=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredPasswordTextField",{defaultMessage:"Password is required."}),f=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.common.requiredShortDescTextField",{defaultMessage:"Short description is required."}),A=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.title",{defaultMessage:"Incident"}),T=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenowSIR.title",{defaultMessage:"Security Incident"}),v=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.titleFieldLabel",{defaultMessage:"Short description (required)"}),m=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.descriptionTextAreaFieldLabel",{defaultMessage:"Description"}),I=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.commentsTextAreaFieldLabel",{defaultMessage:"Additional comments"}),E=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.unableToGetChoicesMessage",{defaultMessage:"Unable to get choices"}),x=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.categoryTitle",{defaultMessage:"Category"}),y=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.subcategoryTitle",{defaultMessage:"Subcategory"}),U=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.urgencySelectFieldLabel",{defaultMessage:"Urgency"}),w=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.severitySelectFieldLabel",{defaultMessage:"Severity"}),h=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.impactSelectFieldLabel",{defaultMessage:"Impact"}),L=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.prioritySelectFieldLabel",{defaultMessage:"Priority"}),S=e=>i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.apiInfoError",{values:{status:e},defaultMessage:"Received status: {status} when attempting to get application information"}),_=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.install",{defaultMessage:"install"}),R=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.installationCalloutTitle",{defaultMessage:"To use this connector, first install the Elastic app from the ServiceNow app store."}),k=e=>i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.updateSuccessToastTitle",{defaultMessage:"{connectorName} connector updated",values:{connectorName:e}}),M=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.updateCalloutText",{defaultMessage:"Connector has been updated."}),O=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.visitSNStore",{defaultMessage:"Visit ServiceNow app store"}),C=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.setupDevInstance",{defaultMessage:"setup a developer instance"}),P=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.snInstanceLabel",{defaultMessage:"ServiceNow instance"}),N=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.unknown",{defaultMessage:"UNKNOWN"}),j=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.correlationID",{defaultMessage:"Correlation ID (optional)"}),V=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.correlationDisplay",{defaultMessage:"Correlation display (optional)"}),F=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenowITOM.event",{defaultMessage:"Event"}),D=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.sourceTextAreaFieldLabel",{defaultMessage:"Source"}),B=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.eventClassTextAreaFieldLabel",{defaultMessage:"Source instance"}),q=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.resourceTextAreaFieldLabel",{defaultMessage:"Resource"}),K=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.nodeTextAreaFieldLabel",{defaultMessage:"Node"}),H=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.metricNameTextAreaFieldLabel",{defaultMessage:"Metric name"}),Y=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.typeTextAreaFieldLabel",{defaultMessage:"Type"}),$=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.messageKeyTextAreaFieldLabel",{defaultMessage:"Message key"}),W=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredSeverityTextField",{defaultMessage:"Severity is required."}),Q=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.severityRequiredSelectFieldLabel",{defaultMessage:"Severity (required)"}),G=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.clientIdTextFieldLabel",{defaultMessage:"Client ID"}),J=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.clientSecretTextFieldLabel",{defaultMessage:"Client Secret"}),z=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.keyIdTextFieldLabel",{defaultMessage:"JWT Verifier Key ID"}),X=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.userEmailTextFieldLabel",{defaultMessage:"User Identifier"}),Z=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.privateKeyTextFieldLabel",{defaultMessage:"Private Key"}),ee=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.privateKeyPassTextFieldLabel",{defaultMessage:"Private Key Password"}),te=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.privateKeyPassLabelHelpText",{defaultMessage:"This is only required if you have set a password on your private key"}),ne=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredClientIdTextField",{defaultMessage:"Client ID is required."}),ie=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredPrivateKeyTextField",{defaultMessage:"Private Key is required."}),re=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredClientSecretTextField",{defaultMessage:"Client Secret is required."}),se=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredUserEmailTextField",{defaultMessage:"User Identifier is required."}),ae=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.requiredKeyIdTextField",{defaultMessage:"JWT Verifier Key ID is required."}),oe=i.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.servicenow.useOAuth",{defaultMessage:"Use OAuth authentication"})},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(1),r=n(15),s=(n(109),n(111)),a=n(110),o=n(3);const c=({messageVariables:e,paramsProperty:t,index:n,inputTargetValue:c,editAction:l,label:u,errors:d})=>{const[p,g]=Object(i.useState)(null);return Object(o.jsx)(r.EuiFormRow,{fullWidth:!0,error:d,isInvalid:d&&d.length>0&&void 0!==c,label:u,labelAppend:Object(o.jsx)(s.a,{messageVariables:e,onSelectEventHandler:e=>{var i,r;const s=Object(a.a)(e),o=null!==(i=null==p?void 0:p.selectionStart)&&void 0!==i?i:0,u=null!==(r=null==p?void 0:p.selectionEnd)&&void 0!==r?r:0,d=(null!=c?c:"").substring(0,o)+s+(null!=c?c:"").substring(u,(null!=c?c:"").length);l(t,d,n)},paramsProperty:t})},Object(o.jsx)(r.EuiTextArea,{fullWidth:!0,isInvalid:d&&d.length>0&&void 0!==c,name:t,value:c||"","data-test-subj":`${t}TextArea`,onChange:e=>(e=>{l(t,e.target.value,n)})(e),onFocus:e=>{g(e.target)},onBlur:()=>{c||l(t,"",n)}}))}},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(1),r=n(15),s=(n(109),n(111)),a=n(110),o=n(3);const c=({messageVariables:e,paramsProperty:t,index:n,inputTargetValue:c,editAction:l,errors:u,defaultValue:d})=>{const[p,g]=Object(i.useState)(null);return Object(o.jsx)(r.EuiFieldText,{fullWidth:!0,name:t,id:`${t}Id`,isInvalid:u&&u.length>0&&void 0!==c,"data-test-subj":`${t}Input`,value:c||"",defaultValue:d,onChange:e=>(e=>{l(t,e.target.value,n)})(e),onFocus:e=>{g(e.target)},onBlur:e=>{c||l(t,"",n)},append:Object(o.jsx)(s.a,{messageVariables:e,onSelectEventHandler:e=>{var i,r;const s=Object(a.a)(e),o=null!==(i=null==p?void 0:p.selectionStart)&&void 0!==i?i:0,u=null!==(r=null==p?void 0:p.selectionEnd)&&void 0!==r?r:0,d=(null!=c?c:"").substring(0,o)+s+(null!=c?c:"").substring(u,(null!=c?c:"").length);l(t,d,n)},paramsProperty:t})})}},128:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=({connector_id:e,service_message:t,...n})=>({...n,actionId:e,...t&&{serviceMessage:t}})},154:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var i=n(9),r=n(2),s=n(118),a=n(128);async function o({http:e,signal:t,connectorId:n,fields:i}){const s=await e.post(`${r.a}/connector/${encodeURIComponent(n)}/_execute`,{body:JSON.stringify({params:{subAction:"getChoices",subActionParams:{fields:i}}}),signal:t});return Object(a.a)(s)}async function c({http:e,signal:t,connector:n,actionTypeId:r}){var a;const{secrets:{username:o,password:c,clientSecret:l,privateKey:u,privateKeyPassword:d},config:{isOAuth:p,apiUrl:g,clientId:b,userIdentifierValue:f,jwtKeyId:A}}=n,T=g.endsWith("/")?g.slice(0,-1):g;let v="Basic "+btoa(o+":"+c);if(p){const t=await e.post(`${i.INTERNAL_BASE_ACTION_API_PATH}/connector/_oauth_access_token`,{body:JSON.stringify({type:"jwt",options:{tokenUrl:`${T}/oauth_token.do`,config:{clientId:b,userIdentifierValue:f,jwtKeyId:A},secrets:{clientSecret:l,privateKey:u,...d&&{privateKeyPassword:d}}}})}),{accessToken:n}=t;v=n}const m=i.snExternalServiceConfig[r],I=await fetch((E=T,x=null!==(a=m.appScope)&&void 0!==a?a:"",`${E}/api/${x}/elastic_api/health`),{method:"GET",signal:t,headers:{Authorization:v}});var E,x;if(!I.ok)throw new Error(Object(s.API_INFO_ERROR)(I.status));return{...(await I.json()).result}}},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(1),r=n(154),s=n(118);const a=({http:e,actionConnector:t,toastNotifications:n,fields:a,onSuccess:o})=>{const[c,l]=Object(i.useState)(!1),[u,d]=Object(i.useState)([]),p=Object(i.useRef)(!1),g=Object(i.useRef)(new AbortController),b=Object(i.useCallback)((async()=>{if(t)try{p.current=!1,g.current.abort(),g.current=new AbortController,l(!0);const c=await Object(r.b)({http:e,signal:g.current.signal,connectorId:t.id,fields:a});if(!p.current){const e=Array.isArray(c.data)?c.data:[];var i;l(!1),d(e),c.status&&"error"===c.status?n.addDanger({title:s.CHOICES_API_ERROR,text:`${null!==(i=c.serviceMessage)&&void 0!==i?i:c.message}`}):o&&o(e)}}catch(e){p.current||(l(!1),n.addDanger({title:s.CHOICES_API_ERROR,text:e.message}))}else l(!1)}),[t,e,a,o,n]);return Object(i.useEffect)((()=>(b(),()=>{p.current=!0,g.current.abort(),l(!1)})),[]),{choices:u,isLoading:c}}}}]);