/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[5],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4);const a=["caseIdConfig","caseNameConfig","descriptionConfig","commentsConfig"],c=e=>{const t=e.config;var n;if(null!=t)return t.connectorType===r.r.Alerts||(n=t.mappings,a.some((e=>null==(null==n?void 0:n[e]))))?{message:"Invalid connector"}:void 0}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n(6),c=n(22),s=n(37),o=n(24);const i=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1,tags:t.payload};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};default:return e}},u=[],l=()=>{const{owner:e}=Object(c.a)(),[t,n]=Object(r.useReducer)(i,{isLoading:!0,isError:!1,tags:u}),l=Object(a.i)(),d=Object(r.useRef)(!1),f=Object(r.useRef)(new AbortController),g=Object(r.useCallback)((async()=>{try{d.current=!1,f.current.abort(),f.current=new AbortController,n({type:"FETCH_INIT"});const t=await Object(s.k)(f.current.signal,e);d.current||n({type:"FETCH_SUCCESS",payload:t})}catch(e){d.current||("AbortError"!==e.name&&l.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:o.d}),n({type:"FETCH_FAILURE"}))}}),[]);return Object(r.useEffect)((()=>(g(),()=>{d.current=!0,f.current.abort()})),[]),{...t,fetchTags:g}}},105:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(2),a=n(24);n.d(t,"a",(function(){return a.d}));const c=r.i18n.translate("xpack.cases.configure.successSaveToast",{defaultMessage:"Saved external connection settings"})},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6);const a=(e="crud")=>{const{capabilities:t}=Object(r.f)().services.application,n=`${e}_cases`;return Object.entries(t).reduce(((e,[t,r])=>(t.endsWith("Cases")&&r[n]&&e.push(t.replace("Cases","")),e)),[])}},77:function(e,t,n){"use strict";n.r(t),n.d(t,"CreateCaseFlyout",(function(){return y})),n.d(t,"default",(function(){return y}));var r=n(1),a=n.n(r),c=n(34),s=n.n(c),o=n(12),i=n(83),u=n(147);const l=s()(o.EuiFlyout).withConfig({displayName:"StyledFlyout",componentId:"sc-kvniza-0"})(["",""],(({theme:e})=>`\n      z-index: ${e.eui.euiZModal};\n    `)),d="create-case-flyout-mask-overlay",f=Object(c.createGlobalStyle)([".","{","}"],d,(({theme:e})=>`\n    z-index: ${e.eui.euiZLevel5};\n  `)),g=s()(o.EuiFlyoutBody).withConfig({displayName:"StyledEuiFlyoutBody",componentId:"sc-kvniza-1"})(["",""],(({theme:e})=>`\n      && .euiFlyoutBody__overflow {\n        overflow-y: auto;\n        overflow-x: hidden;\n      }\n\n      && .euiFlyoutBody__overflowContent {\n        display: block;\n        padding: ${e.eui.paddingSizes.l} ${e.eui.paddingSizes.l} 70px;\n        height: auto;\n      }\n    `)),b=s.a.div.withConfig({displayName:"FormWrapper",componentId:"sc-kvniza-2"})(["width:100%;"]),y=a.a.memo((({afterCaseCreated:e,onClose:t,onSuccess:n,attachments:r})=>{const c=t||function(){},s=n||async function(){};return a.a.createElement(a.a.Fragment,null,a.a.createElement(f,null),a.a.createElement(l,{onClose:t,"data-test-subj":"create-case-flyout",maskProps:{className:d}},a.a.createElement(o.EuiFlyoutHeader,{hasBorder:!0},a.a.createElement(o.EuiTitle,{size:"m"},a.a.createElement("h2",null,i.e))),a.a.createElement(g,null,a.a.createElement(b,null,a.a.createElement(u.a,{afterCaseCreated:e,attachments:r,onCancel:c,onSuccess:s,withSteps:!1})))))}));y.displayName="CreateCaseFlyout"},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u}));var r=n(4),a=n(103);const c=(e,t)=>{var n;return null!==(n=t.find((t=>t.id===e)))&&void 0!==n?n:null},s={[r.o.swimlane]:a.a},o=({connectors:e=[],config:t={}})=>({...t,validations:[{validator:({value:t})=>{const n=c(t,e);if(null!=n)return(e=>{if(e.isDeprecated)return{message:"Deprecated connector"}})(n)}},{validator:({value:t})=>{const n=c(t,e);var r;if(null!=n)return null===(r=s[n.actionTypeId])||void 0===r?void 0:r.call(s,n)}}]}),i=(e,t)=>{if(null==t)return"";try{if(e.actionTypeRegistry.has(t))return e.actionTypeRegistry.get(t).iconClass}catch{return""}return""},u=e=>{var t;return null!==(t=null==e?void 0:e.isDeprecated)&&void 0!==t&&t}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(22);const c=()=>{const{features:e}=Object(a.a)();return Object(r.useMemo)((()=>({isAlertsEnabled:e.alerts.enabled,isSyncAlertsEnabled:!!e.alerts.enabled&&e.alerts.sync,metricsFeatures:e.metrics})),[e.alerts.enabled,e.alerts.sync,e.metrics])}},89:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return u}));var r=n(2);const a=r.i18n.translate("xpack.cases.severity.low",{defaultMessage:"Low"}),c=r.i18n.translate("xpack.cases.severity.medium",{defaultMessage:"Medium"}),s=r.i18n.translate("xpack.cases.severity.high",{defaultMessage:"High"}),o=r.i18n.translate("xpack.cases.severity.critical",{defaultMessage:"Critical"}),i=r.i18n.translate("xpack.cases.severity.title",{defaultMessage:"Severity"}),u=r.i18n.translate("xpack.cases.severity.all",{defaultMessage:"All severities"})},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(68),a=n(4),c=n(90),s=n(89);const o={[a.g.LOW]:{color:r.euiLightVars.euiColorVis0,label:s.d},[a.g.MEDIUM]:{color:r.euiLightVars.euiColorVis5,label:s.e},[a.g.HIGH]:{color:r.euiLightVars.euiColorVis7,label:s.c},[a.g.CRITICAL]:{color:r.euiLightVars.euiColorVis9,label:s.b}},i={[c.a]:{color:"transparent",label:s.a},...o}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n(94),c=n(6),s=n(105);const o=()=>{const e=Object(c.i)(),{actions:t}=Object(c.b)(),[n,o]=Object(r.useState)({loading:!0,connectors:[]}),i=Object(r.useRef)(!1),u=Object(r.useRef)(new AbortController),l=Object(r.useCallback)((async()=>{if(t.read)try{i.current=!1,u.current.abort(),u.current=new AbortController,o({...n,loading:!0});const e=await Object(a.b)({signal:u.current.signal});i.current||o({loading:!1,connectors:e})}catch(t){i.current||("AbortError"!==t.name&&e.addError(t.body&&t.body.message?new Error(t.body.message):t,{title:s.a}),o({loading:!1,connectors:[]}))}else o({loading:!1,connectors:[]})}),[]);return Object(r.useEffect)((()=>(l(),()=>{i.current=!0,u.current.abort()})),[]),{loading:n.loading,connectors:n.connectors,refetchConnectors:l}}},94:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return b}));var r=n(14),a=n(26),c=n(4),s=n(3),o=n(6),i=n(8),u=n(11);const l=async({signal:e})=>await o.a.get().http.fetch(`${s.k}/_find`,{method:"GET",signal:e}),d=async({signal:e,owner:t})=>{const n=await o.a.get().http.fetch(s.m,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});if(!Object(r.isEmpty)(n)){const e=Object(u.c)(n);if(Array.isArray(e)&&e.length>0)return Object(i.c)(e[0])}return null},f=async(e,t)=>{const n=await o.a.get().http.fetch(s.m,{method:"POST",body:JSON.stringify(e),signal:t});return Object(i.c)(Object(u.d)(n))},g=async(e,t,n)=>{const r=await o.a.get().http.fetch(Object(c.v)(e),{method:"PATCH",body:JSON.stringify(t),signal:n});return Object(i.c)(Object(u.d)(r))},b=async({signal:e})=>{const t=await o.a.get().http.fetch(Object(a.a)(),{method:"GET",signal:e});return Object(i.b)(t)}}}]);