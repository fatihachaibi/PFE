/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=14)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,a){"use strict";var n,r=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),i=[];function s(e){for(var t=-1,a=0;a<i.length;a++)if(i[a].identifier===e){t=a;break}return t}function o(e,t){for(var a={},n=[],r=0;r<e.length;r++){var o=e[r],c=t.base?o[0]+t.base:o[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var d=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:u,updater:b(p,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=a.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,a,n){var r=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,a){var n=a.css,r=a.media,i=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,h=0;function b(e,t){var a,n,r;if(t.singleton){var i=h++;a=f||(f=c(t)),n=d.bind(null,a,i,!1),r=d.bind(null,a,i,!0)}else a=c(t),n=p.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var a=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var r=s(a[n]);i[r].references--}for(var c=o(e,t),l=0;l<a.length;l++){var u=s(a[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}a=c}}}},function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a,n,r,i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var o=(a=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(r," */")),c=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(c).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var o=0;o<e.length;o++){var c=[].concat(e[o]);n&&r[c[0]]||(a&&(c[2]?c[2]="".concat(a," and ").concat(c[2]):c[2]=a),t.push(c))}},t}},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,a){a.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);t.default=function(){var e=n.useRef(!1),t=n.useCallback((function(){return e.current}),[]);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),r=a(2),i=n.__importDefault(a(21));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=i.default(e,t),s=n[0],o=n[1],c=n[2];return r.useEffect(c,a),[s,o]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),r=a(22).isClient?window:null,i=function(e){return!!e.addEventListener},s=function(e){return!!e.on};t.default=function(e,t,a,o){void 0===a&&(a=r),n.useEffect((function(){if(t&&a)return i(a)?a.addEventListener(e,t,o):s(a)&&a.on(e,t,o),function(){i(a)?a.removeEventListener(e,t,o):s(a)&&a.off(e,t,o)}}),[e,t,a,JSON.stringify(o)])}},function(e,t,a){a(15),__kbnBundles__.define("plugin/globalSearchBar/public",a,24)},function(e,t,a){a.p=window.__kbnPublicPath__.globalSearchBar},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(17);case"v8light":return a(19)}},function(e,t,a){var n=a(7),r=a(18);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(8)(!1)).push([e.i,".kbnSearchOption__tagsList{display:inline-block;line-height:16px !important}.kbnSearchOption__tagsList .kbnSearchOption__tagsListItem{display:inline-block;max-width:80px;margin-right:8px}.euiSelectableListItem-isFocused .kbnSearchOption__tagsList{margin-right:4px;border-right:1px solid #343741}.kbnSearchBar{max-width:100%;will-change:width}@media only screen and (max-width: 574px){.kbnSearchOption__tagsList{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.kbnSearchOption__tagsList{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.kbnSearchBar{width:400px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.kbnSearchBar{width:400px}}@media only screen and (min-width: 1200px){.kbnSearchBar{width:400px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.kbnSearchBar:focus{animation:kbnAnimateSearchBar 150ms forwards}}@media only screen and (min-width: 1200px){.kbnSearchBar:focus{animation:kbnAnimateSearchBar 150ms forwards}}@keyframes kbnAnimateSearchBar{from{width:400px}to{width:600px}}\n",""]),e.exports=t},function(e,t,a){var n=a(7),r=a(20);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,a){(t=a(8)(!1)).push([e.i,".kbnSearchOption__tagsList{display:inline-block;line-height:16px !important}.kbnSearchOption__tagsList .kbnSearchOption__tagsListItem{display:inline-block;max-width:80px;margin-right:8px}.euiSelectableListItem-isFocused .kbnSearchOption__tagsList{margin-right:4px;border-right:1px solid #D3DAE6}.kbnSearchBar{max-width:100%;will-change:width}@media only screen and (max-width: 574px){.kbnSearchOption__tagsList{display:none}}@media only screen and (min-width: 575px) and (max-width: 767px){.kbnSearchOption__tagsList{display:none}}@media only screen and (min-width: 768px) and (max-width: 991px){.kbnSearchBar{width:400px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.kbnSearchBar{width:400px}}@media only screen and (min-width: 1200px){.kbnSearchBar{width:400px}}@media only screen and (min-width: 992px) and (max-width: 1199px){.kbnSearchBar:focus{animation:kbnAnimateSearchBar 150ms forwards}}@media only screen and (min-width: 1200px){.kbnSearchBar:focus{animation:kbnAnimateSearchBar 150ms forwards}}@keyframes kbnAnimateSearchBar{from{width:400px}to{width:600px}}\n",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),r=n.useRef(),i=n.useRef(e),s=n.useCallback((function(){return a.current}),[]),o=n.useCallback((function(){a.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){a.current=!0,i.current()}),t)}),[t]),c=n.useCallback((function(){a.current=null,r.current&&clearTimeout(r.current)}),[]);return n.useEffect((function(){i.current=e}),[e]),n.useEffect((function(){return o(),c}),[t]),[s,c,o]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=a(9).__importDefault(a(23));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,r,i;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(r=n;0!=r--;)if(!e(t[r],a[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(a,i[r]))return!1;for(r=n;0!=r--;){var s=i[r];if(!("_owner"===s&&t.$$typeof||e(t[s],a[s])))return!1}return!0}return t!=t&&a!=a}},function(e,t,a){"use strict";a.r(t),a.d(t,"plugin",(function(){return I}));var n=a(2),r=a(6),i=a.n(r),s=a(4),o=a(10),c=a(0),l=a(12),u=a.n(l),d=a(13),p=a.n(d),f=a(11),h=a.n(f),b=a(1),g=a(5),m=a(3);const _=["tag","type"],x={tag:["tags"],type:["types"]},v=e=>e.map((e=>String(e))),j=(e,t)=>e.toLowerCase()===t.toLowerCase(),y=e=>/\s/g.test(e)?`"${e}"`:e,S=({children:e})=>Object(c.jsx)("ul",{className:"kbnSearchOption__tagsList","aria-label":m.i18n.translate("xpack.globalSearchBar.searchBar.optionTagListAriaLabel",{defaultMessage:"Tags"})},e),k=({color:e,name:t,id:a})=>Object(c.jsx)("li",{className:"kbnSearchOption__tagsListItem",key:a},Object(c.jsx)(b.EuiBadge,{color:e},t)),O=({tags:e,searchTagIds:t})=>{if(!(e.length>3))return Object(c.jsx)(S,null,e.map(k));e.sort((e=>t.find((t=>t===e.id))?-1:1));const a=e.splice(3),n=m.i18n.translate("xpack.globalSearchBar.searchbar.overflowTagsAriaLabel",{defaultMessage:"{n} more {n, plural, one {tag} other {tags}}: {tags}",values:{n:a.length,tags:a.map((({name:e})=>e))}});return Object(c.jsx)(S,null,e.map(k),Object(c.jsx)("li",{className:"kbnSearchOption__tagsListItem","aria-label":n},Object(c.jsx)(b.EuiBadge,{title:n},"+",a.length)))},w=e=>{const{key:t,label:a,description:n,icon:r,suggestedSearch:i}=e;return{key:t,label:a,type:"__suggestion__",icon:{type:r},suggestion:i,meta:[{text:n}],"data-test-subj":"nav-search-option"}},B=({isMac:e})=>Object(c.jsx)(b.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",gutterSize:"s",responsive:!1,wrap:!0},Object(c.jsx)(b.EuiFlexItem,null,Object(c.jsx)(b.EuiText,{color:"subdued",size:"xs"},Object(c.jsx)("p",null,Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.helpText.helpTextPrefix",defaultMessage:"Filter by"})," ",Object(c.jsx)(b.EuiCode,null,"type:")," ",Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.helpText.helpTextConjunction",defaultMessage:"or"})," ",Object(c.jsx)(b.EuiCode,null,"tag:")))),Object(c.jsx)(b.EuiFlexItem,{grow:!1},Object(c.jsx)(b.EuiText,{color:"subdued",size:"xs"},Object(c.jsx)("p",null,Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.shortcutDescription.shortcutDetail",defaultMessage:"{shortcutDescription} {commandDescription}",values:{shortcutDescription:Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.shortcutDescription.shortcutInstructionDescription",defaultMessage:"Shortcut"}),commandDescription:Object(c.jsx)(b.EuiCode,null,e?Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.shortcutDescription.macCommandDescription",defaultMessage:"Command + /"}):Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.shortcutDescription.windowsCommandDescription",defaultMessage:"Control + /"}))}}))))),T=({basePath:e,darkMode:t})=>Object(c.jsx)(b.EuiSelectableMessage,{style:{minHeight:300},"data-test-subj":"nav-search-no-results"},Object(c.jsx)(b.EuiImage,{alt:m.i18n.translate("xpack.globalSearchBar.searchBar.noResultsImageAlt",{defaultMessage:"Illustration of black hole"}),size:"fullWidth",url:`${e}illustration_product_no_search_results_${t?"dark":"light"}.svg`}),Object(c.jsx)(b.EuiText,{size:"m"},Object(c.jsx)("p",null,Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.noResultsHeading",defaultMessage:"No results found"}))),Object(c.jsx)("p",null,Object(c.jsx)(s.FormattedMessage,{id:"xpack.globalSearchBar.searchBar.noResults",defaultMessage:"Try searching for applications, dashboards, visualizations, and more."})));a(16);const M=navigator.platform.toLowerCase().indexOf("mac")>=0,C=new FocusEvent("blur"),E=(e,t)=>e.score<t.score?1:e.score>t.score?-1:0,L=(e,t)=>{const a=e.title.toUpperCase(),n=t.title.toUpperCase();return a<n?-1:a>n?1:0},P=({globalSearch:e,taggingApi:t,navigateToUrl:a,trackUiMetric:r,basePathUrl:i,darkMode:s})=>{const o=h()(),{euiTheme:l}=Object(b.useEuiTheme)(),[d,f]=Object(n.useState)(!1),[S,k]=Object(n.useState)(""),[P,I]=Object(n.useState)(""),[D,R]=Object(n.useState)(null),[F,U]=Object(n.useState)(null),A=Object(n.useRef)(null),[N,$]=Object(n.useState)([]),[K,z]=Object(n.useState)([]),[Y,H]=Object(n.useState)(!0),q="__unknown__";Object(n.useEffect)((()=>{d&&(async()=>{const t=await e.getSearchableTypes();z(t)})()}),[e,d]);const G=Object(n.useCallback)((e=>(({searchTerm:e,searchableTypes:t,tagCache:a})=>{const n=[],r=e.trim(),i=((e,t)=>{for(const a of e)if(j(a,t))return a})(t,r);if(i){const e=y(i);n.push({key:"__type__suggestion__",label:`type: ${i}`,icon:"filter",description:m.i18n.translate("xpack.globalSearchBar.suggestions.filterByTypeLabel",{defaultMessage:"Filter by type"}),suggestedSearch:`type:${e}`})}if(a&&e){const e=a.getState().find((e=>j(e.name,r)));if(e){const t=y(e.name);n.push({key:"__tag__suggestion__",label:`tag: ${e.name}`,icon:"tag",description:m.i18n.translate("xpack.globalSearchBar.suggestions.filterByTagLabel",{defaultMessage:"Filter by tag name"}),suggestedSearch:`tag:${t}`})}}return n})({searchTerm:e,searchableTypes:K,tagCache:null==t?void 0:t.cache})),[t,K]),J=Object(n.useCallback)(((e,a,n=[])=>{o()&&$([...a.map(w),...e.map((e=>{var a;return((e,t,a)=>{var n;const{id:r,title:i,url:s,icon:o,type:l,meta:u={}}=e,{tagIds:d=[],categoryLabel:p=""}=u,f={key:r,label:i,url:s,type:l,icon:{type:"application"!==l&&"integration"!==l||!o?"empty":o},"data-test-subj":"nav-search-option"};var h;return f.meta="application"===l?[{text:p}]:[{text:(h=null!==(n=u.displayName)&&void 0!==n?n:l,(h.charAt(0).toUpperCase()+h.slice(1)).replace(/-/g," "))}],a&&d.length&&(f.append=Object(c.jsx)(O,{tags:d.map(a),searchTagIds:t})),f})(e,null!==(a=null==n?void 0:n.filter((e=>e!==q)))&&void 0!==a?a:[],null==t?void 0:t.ui.getTag)}))])}),[o,$,t]);u()((()=>{if(d){var a;A.current&&(A.current.unsubscribe(),A.current=null);const n=G(S);let i=[];0!==S.length&&r(g.METRIC_TYPE.COUNT,"search_request");const s=(e=>{let t;try{t=b.Query.parse(e)}catch(t){return{term:e,filters:{unknowns:{}}}}const a=(e=>{var t;let a;return e.ast.getTermClauses().length&&(a=e.ast.getTermClauses().map((e=>e.value)).join(" ").replace(/\s{2,}/g," ").trim()),null!==(t=a)&&void 0!==t&&t.length?a:void 0})(t),n=((e,t)=>{const a={};Object.entries(t).forEach((([e,t])=>{t.forEach((t=>{a[t]=e}))}));const n=new Map;return e.forEach(((e,t)=>{var r,i;const s=null!==(r=a[t])&&void 0!==r?r:t;n.set(s,[...null!==(i=n.get(s))&&void 0!==i?i:[],...e])})),n})((e=>{const t=new Map;return e.ast.clauses.forEach((e=>{if("field"===e.type){var a;const{field:n,value:r}=e;t.set(n,[...null!==(a=t.get(n))&&void 0!==a?a:[],...Array.isArray(r)?r:[r]])}})),t})(t),x),r=[...n.entries()].filter((([e])=>!_.includes(e))).reduce(((e,[t,a])=>({...e,[t]:a})),{}),i=n.get("tag"),s=n.get("type");return{term:a,filters:{tags:i?v(i):void 0,types:s?v(s):void 0,unknowns:r}}})(S),o=t&&s.filters.tags?s.filters.tags.map((e=>{var a;return null!==(a=t.ui.getTagIdFromName(e))&&void 0!==a?a:q})):void 0,c={term:s.term,types:s.filters.types,tags:o};I(null!==(a=s.term)&&void 0!==a?a:""),A.current=e.find(c,{}).subscribe({next:({results:e})=>{if(S.length>0)return i=[...e,...i].sort(E),void J(i,n,c.tags);e=e.filter((({type:e})=>"application"===e)),i=[...e,...i].sort(L),J(i,n,c.tags)},error:()=>{r(g.METRIC_TYPE.COUNT,"unhandled_error")},complete:()=>{}})}}),350,[S,G,K,d]);const W=Object(n.useCallback)((e=>{"/"===e.key&&(M?e.metaKey:e.ctrlKey)&&(e.preventDefault(),r(g.METRIC_TYPE.COUNT,"shortcut_used"),D?D.focus():F&&F.children[0].click())}),[F,D,r]),Q=Object(n.useCallback)((e=>{const t=e.find((({checked:e})=>"on"===e));if(!t)return;const{url:n,type:i,suggestion:s}=t;if("__suggestion__"!==i){try{if("application"===i){var o;const e=null!==(o=t.keys)&&void 0!==o?o:"unknown";r(g.METRIC_TYPE.CLICK,["user_navigated_to_application",`user_navigated_to_application_${e.toLowerCase().replaceAll(" ","_")}`])}else r(g.METRIC_TYPE.CLICK,["user_navigated_to_saved_object",`user_navigated_to_saved_object_${i}`])}catch(e){console.log("Error trying to track searchbar metrics",e)}a(n),document.activeElement.blur(),D&&(V(),D.dispatchEvent(C))}else k(s)}),[r,a,D]),V=()=>k(""),X=Object(c.jsx)(T,{darkMode:s,basePath:i}),Z=m.i18n.translate("xpack.globalSearchBar.searchBar.placeholder",{defaultMessage:"Find apps, content, and more. Ex: Discover"}),ee=`${m.i18n.translate("xpack.globalSearchBar.searchBar.shortcutTooltip.description",{defaultMessage:"Keyboard shortcut"})}: ${M?m.i18n.translate("xpack.globalSearchBar.searchBar.shortcutTooltip.macCommandDescription",{defaultMessage:"Command + /"}):m.i18n.translate("xpack.globalSearchBar.searchBar.shortcutTooltip.windowsCommandDescription",{defaultMessage:"Control + /"})}`;return p()("keydown",W),Object(c.jsx)(b.EuiSelectableTemplateSitewide,{isPreFiltered:!0,onChange:Q,options:N,popoverButtonBreakpoints:["xs","s"],singleSelection:!0,renderOption:e=>Object(b.euiSelectableTemplateSitewideRenderOptions)(e,P),searchProps:{value:S,onInput:e=>k(e.currentTarget.value),"data-test-subj":"nav-search-input",inputRef:R,compressed:!0,className:"kbnSearchBar","aria-label":Z,placeholder:Z,onFocus:()=>{r(g.METRIC_TYPE.COUNT,"search_focus"),f(!0),H(!1)},onBlur:()=>{H(!0)},fullWidth:!0,append:Y?Object(c.jsx)(b.EuiFormLabel,{title:ee,css:Object(c.css)({fontFamily:l.font.familyCode},"","")},M?"⌘/":"^/"):void 0},emptyMessage:X,noMatchesMessage:X,popoverProps:{"data-test-subj":"nav-search-popover",panelClassName:"navSearch__panel",repositionOnScroll:!0,buttonRef:U},popoverButton:Object(c.jsx)(b.EuiHeaderSectionItemButton,{"aria-label":m.i18n.translate("xpack.globalSearchBar.searchBar.mobileSearchButtonAriaLabel",{defaultMessage:"Site-wide search"})},Object(c.jsx)(b.EuiIcon,{type:"search",size:"m"})),popoverFooter:Object(c.jsx)(B,{isMac:M})})};class plugin_GlobalSearchBarPlugin{setup(){return{}}start(e,{globalSearch:t,savedObjectsTagging:a,usageCollection:n}){const r=n?n.reportUiCounter.bind(n,"global_search_bar"):(e,t)=>{};return e.chrome.navControls.registerCenter({order:1e3,mount:n=>this.mount({container:n,globalSearch:t,savedObjectsTagging:a,navigateToUrl:e.application.navigateToUrl,basePathUrl:e.http.basePath.prepend("/plugins/globalSearchBar/assets/"),darkMode:e.uiSettings.get("theme:darkMode"),theme$:e.theme.theme$,trackUiMetric:r})}),{}}mount({container:e,globalSearch:t,savedObjectsTagging:a,navigateToUrl:n,basePathUrl:r,darkMode:l,theme$:u,trackUiMetric:d}){return i.a.render(Object(c.jsx)(o.KibanaThemeProvider,{theme$:u},Object(c.jsx)(s.I18nProvider,null,Object(c.jsx)(P,{globalSearch:t,navigateToUrl:n,taggingApi:a,basePathUrl:r,darkMode:l,trackUiMetric:d}))),e),()=>i.a.unmountComponentAtNode(e)}}const I=()=>new plugin_GlobalSearchBarPlugin}]);